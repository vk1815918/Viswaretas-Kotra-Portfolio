"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),t=require("@babel/runtime/helpers/defineProperty"),n=require("@babel/runtime/helpers/objectWithoutProperties"),r=require("react"),a=require("@babel/runtime/helpers/taggedTemplateLiteral"),o=require("styled-components"),i=require("@microlink/mql");const l=["accessibility","debounce","ellipsis","is","lines","text"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u=e=>{let{accessibility:t=!0,debounce:a=300,ellipsis:o="…",is:i="div",lines:s=3,text:u}=e,d=n(e,l);const p=r.useRef(null),m=r.useRef("."),f=c(c({ref:p},t?{title:u}:{}),d),g=r.useMemo((()=>"string"==typeof u&&u.length>0),[u]),h=r.useCallback((()=>{var e,t,n,r;if(!g)return;const a=e=>{m.current=e,null!=p.current&&(p.current.innerText=e)};a(".");const i=((null!==(t=null===(e=p.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0)+1)*s+1,l="…"===o?5:1.2*o.length;let c=0,d=0,f=u.length;for(;c<=f;){if(d=Math.floor((c+f)/2),a(u.slice(0,d)),d===u.length)return;(null!==(r=null===(n=p.current)||void 0===n?void 0:n.clientHeight)&&void 0!==r?r:0)<=i?c=d+1:f=d-1}a(u.slice(0,Math.max(d-l,0)).trim()+o)}),[o,g,s,u]);return r.useEffect((()=>{h();const e=((e,t)=>{let n;const r=()=>{n=void 0,e()};return()=>{const a=null==n;clearTimeout(n),n=setTimeout(r,t),a&&e()}})(h,a);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[h,a]),g?r.createElement(i,f,m.current):null};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p,m=d((()=>/^https?:\/\/(localhost|0|10|127|192(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1?\])/gi));const f="undefined"==typeof window,g=e=>"function"==typeof e,h=e=>"object"==typeof e,b=e=>null==e,y=e=>h(e)?e.url:e,v=function(){return o.css(p||(p=a(["\n    @media (max-width: 48em) {\n      ",";\n    }\n  "])),o.css(...arguments))},w=e=>{let{apiKey:t,contrast:n=!1,data:r,endpoint:a,force:o,headers:l,media:s,prerender:c,proxy:u,ttl:d,url:p}=e;return i.getApiUrl(p,{apiKey:t,audio:s.includes("audio"),data:r,endpoint:a,force:o,headers:l,iframe:s.includes("iframe"),palette:n,prerender:c,proxy:u,screenshot:s.includes("screenshot"),ttl:d,video:s.includes("video")})},x=e=>"large"===e,k=e=>"small"===e,$=e=>m().test(e)?e:"https://images.weserv.nl/?".concat(new URLSearchParams({url:e,default:e,l:9,af:"",il:"",n:-1}).toString()),z=!f&&"IntersectionObserver"in window,E=e=>{const t=parseInt(e,10);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].filter(((e,t)=>e>0||t>0)).map((e=>e>=10?e:"0".concat(e))).join(":")},S=(e,t,n)=>{switch(!0){case e<=t:return t;case e>=n:return n;default:return e}},O="microlink_card",C="".concat(O,"__content"),P="".concat(O,"__media"),M="".concat(P,"__controls"),j={main:O,content:C,title:"".concat(C,"_title"),description:"".concat(C,"_description"),url:"".concat(C,"_url"),mediaWrapper:"".concat(P,"_wrapper"),media:P,image:"".concat(P,"_image"),videoWrapper:"".concat(P,"_video_wrapper"),video:"".concat(P,"_video"),audioWrapper:"".concat(P,"_audio_wrapper"),audio:"".concat(P,"_audio"),mediaControls:M,playbackControl:"".concat(M,"_playback"),volumeControl:"".concat(M,"_volume"),rwControl:"".concat(M,"_rewind"),ffwControl:"".concat(M,"_fast_forward"),rateControl:"".concat(M,"_rate"),progressBar:"".concat(M,"_progress_bar"),progressTime:"".concat(M,"_progress_time"),spinner:"".concat(M,"_spinner"),iframe:"".concat(O,"__iframe")},D=["useNanoClamp","children"];var _,N;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?R(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const T=o.styled((e=>{let{children:t,className:n,lines:a}=e;return b(t)?null:r.createElement(u,{className:n,lines:a,text:t,is:"p"})}))(_||(_=a(["\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n\n    ","\n  }\n"])),(e=>{let{$useNanoClamp:t}=e;return!t&&o.css(N||(N=a(["\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      "])))})),L=t=>{let{useNanoClamp:a=!0,children:o}=t,i=n(t,D);const l=a?i:F(F({},i),{},{as:"p",title:o});return r.createElement(T,e({$useNanoClamp:a},l),o)},V={short:"100ms",medium:"150ms",long:"300ms"},I={short:"cubic-bezier(.25,.8,.25,1)",medium:"cubic-bezier(.25,.8,.25,1)",long:"cubic-bezier(.4, 0, .2, 1)"},U=(e,t)=>{const n="".concat(V[t]," ").concat(I[t]);return e.map((e=>"".concat(e," ").concat(n))).join(", ")},W=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U(t,"short")},B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U(t,"medium")},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return U(t,"long")},H="InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif",q="'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",X=["autoPlay","children","controls","loop","mediaRef","muted","playsInline","size"];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?K(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const G={},Q=r.createContext(G),Y=e=>{let{autoPlay:t,children:a,controls:o,loop:i,mediaRef:l,muted:s,playsInline:c,size:u}=e,d=n(e,X);const[p,m]=r.useState(G),f=r.useCallback((e=>m((t=>J(J({},t),e)))),[]),g=r.useMemo((()=>({autoPlay:t,controls:o,loop:i,mediaRef:l,muted:s,playsInline:c,size:u})),[t,o,i,l,s,c,u]),h=r.useMemo((()=>({props:g,state:p,updateState:f})),[g,p,f]);return r.createElement(Q.Provider,{value:h},a(d))};var Z,ee,te,ne,re,ae,oe,ie,le,se,ce,ue;const de=/^www\./,pe="16px",me=o.css(Z||(Z=a(["\n  ",";\n"])),v(ee||(ee=a(["\n    > p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  "])))),fe=o.styled("div").attrs({className:j.content})(te||(te=a(["\n  display: flex;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ",";\n"])),(e=>{let{$cardSize:t}=e;return o.css(ne||(ne=a(["\n    flex: ",";\n    justify-content: ",";\n    flex-direction: ",";\n    align-items: ",";\n  "])),x(t)?"0 0 125px":1,k(t)?"space-between":"space-around",k(t)?"row":"column",k(t)?"center":"stretch")})),ge=o.styled("header").attrs({className:j.title})(re||(re=a(["\n  text-align: left;\n  font-weight: bold;\n  margin: 0;\n  width: 100%;\n  ","\n"])),(e=>{let{$cardSize:t}=e;return o.css(ae||(ae=a(["\n    flex-grow: ",";\n    font-size: ",";\n\n    ","\n  "])),k(t)?.8:1.2,k(t)?"15px":"16px",k(t)&&o.css(oe||(oe=a(["\n      min-width: 0;\n      padding-right: 14px;\n    "]))))})),he=o.styled("div").attrs({className:j.description})(ie||(ie=a(["\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 2;\n  margin: auto 0;\n  line-height: 18px;\n  font-weight: normal;\n  ",";\n"])),(e=>{let{$cardSize:t}=e;return!x(t)&&me})),be=o.styled("footer").attrs({className:j.url})(le||(le=a(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  margin: 0;\n  flex-grow: 0;\n  font-weight: normal;\n  ",";\n"])),(e=>{let{$cardSize:t}=e;return o.css(se||(se=a(["\n    font-size: ",";\n    ","\n  "])),k(t)?"10px":"12px",!k(t)&&"width: 100%;")})),ye=o.styled(L)(ce||(ce=a(["\n  opacity: 0.75;\n  transition: ",";\n  will-change: opacity;\n\n  .",":hover & {\n    opacity: 1;\n  }\n"])),B("opacity"),j.main),ve=o.styled("span").attrs({title:"microlink.io"})(ue||(ue=a(["\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\n    center;\n  display: block;\n  margin-left: 15px;\n  transition: ",";\n  will-change: filter, opacity;\n  &:not(:hover) {\n    filter: grayscale(100%);\n    opacity: 0.75;\n  }\n\n  min-width: ",";\n  width: ",";\n  background-size: ",";\n  height: ",";\n"])),B("filter","opacity"),pe,pe,pe,"12px"),we=()=>{const{state:{description:e,title:t,url:n},props:{size:a}}=r.useContext(Q),o=k(a),i=r.useMemo((()=>(e=>{if(b(e))return"";const{hostname:t}=new URL(e);return t.replace(de,"")})(n)),[n]),l=r.useCallback((e=>{e.preventDefault(),window.open("https://www.microlink.io","_blank")}),[]);return r.createElement(fe,{$cardSize:a},r.createElement(ge,{$cardSize:a},r.createElement(L,{$useNanoClamp:!1},t)),!o&&r.createElement(he,{$cardSize:a},r.createElement(L,{lines:2},e)),r.createElement(be,{$cardSize:a},r.createElement(ye,{$useNanoClamp:!1},i),r.createElement(ve,{onClick:l})))};var xe,ke,$e,ze;const Ee=o.keyframes(xe||(xe=a(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #cdd4d8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]))),Se=o.keyframes(ke||(ke=a(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #dce3e8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]))),Oe=o.css($e||($e=a(["\n  animation: "," .75s linear infinite;\n"])),Ee),Ce=o.css(ze||(ze=a(["\n  animation: "," 1.25s linear infinite;\n"])),Se);var Pe,Me,je;const De=o.styled("img")(Pe||(Pe=a(["\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  z-index: -1;\n"]))),_e=o.css(Me||(Me=a(["\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #e1e8ed;\n    z-index: 1;\n    transition: ",";\n    will-change: opacity;\n\n    ",";\n  }\n"])),B("opacity","visibility"),(e=>{let{$isLoading:t}=e;return o.css(je||(je=a(["\n      opacity: ",";\n      visibility: ",";\n    "])),t?1:0,t?"$visible":"hidden")}));var Ne,Re,Fe,Te,Le;const Ve={small:o.css(Ne||(Ne=a(["\n    flex: 0 0 48px;\n  "]))),normal:o.css(Re||(Re=a(["\n    flex: 0 0 125px;\n\n    ","\n  "])),v(Fe||(Fe=a(["\n      flex: 0 0 92px;\n    "])))),large:o.css(Te||(Te=a(["\n    flex: 1;\n\n    &::before {\n      padding-bottom: 0;\n    }\n  "])))},Ie=o.styled("div")(Le||(Le=a(["\n  background: transparent no-repeat center center / cover;\n  display: block;\n  overflow: hidden;\n  height: auto;\n  position: relative;\n\n  &::before {\n    content: '';\n    padding-bottom: 100%;\n    display: block;\n  }\n\n  ",";\n\n  ",";\n"])),(e=>{let{$cardSize:t}=e;return Ve[t]}),_e),Ue=t=>{const{props:{size:n}}=r.useContext(Q);return r.createElement(Ie,e({$cardSize:n},t))};var We;const Be=o.styled(Ue).attrs({className:"".concat(j.media," ").concat(j.image)})(We||(We=a(["\n  background-image: ",";\n"])),(e=>{let{url:t}=e;return t?"url('".concat($(t),"')"):""})),Ae=t=>{const{state:{imageUrl:n}}=r.useContext(Q);return r.createElement(Be,e({url:n},t))};var He,qe,Xe,Ke,Je;const Ge=o.styled(Ae)(He||(He=a(["\n  ",";\n"])),Ce),Qe=o.styled("span")(qe||(qe=a(["\n  opacity: 0.8;\n  height: 16px;\n  width: ",";\n  display: block;\n  background: #e1e8ed;\n  margin: ",";\n  ",";\n\n  ",";\n"])),(e=>{let{$cardSize:t}=e;return k(t)?"75%":"60%"}),(e=>{let{$cardSize:t}=e;return k(t)?"0 20px 0 0":"2px 0 8px"}),Oe,(e=>{let{$cardSize:t}=e;return!x(t)&&"\n    height: 15px;\n  "})),Ye=o.styled("span")(Xe||(Xe=a(["\n  opacity: 0.8;\n  height: 14px;\n  width: 95%;\n  display: block;\n  position: relative;\n  ",";\n  animation-delay: 0.125s;\n"])),Oe),Ze=o.styled("span")(Ke||(Ke=a(["\n  opacity: 0.8;\n  height: 12px;\n  width: 30%;\n  display: block;\n  "," animation-delay: .25s;\n\n  ",";\n"])),Oe,(e=>{let{$cardSize:t}=e;return!x(t)&&"\n    height: 10px;\n  "})),et=()=>{const{props:{size:e}}=r.useContext(Q),t=k(e);return r.createElement(r.Fragment,null,r.createElement(Ge,{$cardSize:e}),r.createElement(fe,{$cardSize:e},r.createElement(Qe,{$cardSize:e}),t?null:r.createElement(r.Fragment,null,r.createElement(Ye,{$cardSize:e}),r.createElement(Ye,{$cardSize:e,style:{marginBottom:"12px"}})),Je||(Je=r.createElement(Ze,null))))};var tt;const nt=o.styled("div")(tt||(tt=a(["\n  backface-visibility: hidden;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n  transition: ",";\n  will-change: transform;\n\n  > svg {\n    display: block;\n  }\n\n  &:active:not(:focus) {\n    transform: scale(0.9);\n  }\n"])),W("transform"));var rt,at,ot,it,lt,st,ct,ut,dt;const pt=t=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},t),rt||(rt=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),mt=t=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},t),at||(at=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),ft=o.styled("div")(ot||(ot=a(["\n  z-index: 2;\n  position: absolute;\n  bottom: ","px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: ",";\n  will-change: opacity;\n"])),(e=>{let{$cardSize:t}=e;return x(t)?18:14}),B("opacity")),gt=o.styled("svg")(it||(it=a(["\n  stroke: #fff;\n"]))),ht=o.styled(nt).attrs({className:j.volumeControl})(lt||(lt=a(["\n  "," {\n    width: ","px;\n    height: ","px;\n\n    ","\n  }\n"])),gt,(e=>{let{$cardSize:t}=e;return x(t)?16:14}),(e=>{let{$cardSize:t}=e;return x(t)?16:14}),(e=>{let{$cardSize:t}=e;return!x(t)&&v(st||(st=a(["\n      width: 12px;\n      height: 12px;\n    "])))})),bt=o.styled(nt).attrs({className:j.rateControl})(ct||(ct=a(["\n  font-size: ","px;\n  min-width: ","px;\n  line-height: 1;\n  font-weight: bold;\n  border: 1.5px solid #fff;\n  border-radius: 9999px;\n  padding: 1px 5px;\n  text-align: center;\n  color: #fff;\n  margin-left: 10px;\n\n  ","\n"])),(e=>{let{$cardSize:t}=e;return x(t)?12:10}),(e=>{let{$cardSize:t}=e;return x(t)?33:28}),(e=>{let{$cardSize:t}=e;return!x(t)&&v(ut||(ut=a(["\n    font-size: 8px;\n    margin-left: 8px;\n    min-width: 23px;\n  "])))})),yt=o.styled("span").attrs({className:j.progressTime})(dt||(dt=a(["\n  margin: ",";\n  font-family: ",";\n  font-size: 12px;\n  padding: 0 16px;\n  color: #fff;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n"])),(e=>{let{$right:t}=e;return t?"0 0 0 auto":"0 auto 0 0"}),q),vt=e=>{let{$cardSize:t,currentTime:n,endTime:a,isMuted:o,onMuteClick:i,onPlaybackRateClick:l,playbackRate:s}=e;const c=r.useMemo((()=>o?pt:mt),[o]),u=r.useMemo((()=>x(t)),[t]);return r.createElement(ft,{$cardSize:t},u&&r.createElement(yt,null,n),r.createElement(ht,{title:o?"Unmute":"Mute",$cardSize:t,onClick:i},r.createElement(gt,{as:c})),r.createElement(bt,{title:"Playback Rate",$cardSize:t,onClick:l},r.createElement("span",null,s,"x")),u&&r.createElement(yt,{$right:!0},a))},wt=["$isPlaying"];var xt,kt,$t,zt,Et,St;const Ot=t=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},t),xt||(xt=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z",transform:"translate(-8 -6)"}))),Ct=t=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 24"},t),kt||(kt=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z",transform:"translate(-6 -4)"}))),Pt={large:"50px",normal:"35px",small:"20px"},Mt=o.styled("svg")($t||($t=a(["\n  stroke: #fff;\n"]))),jt=o.styled(nt).attrs({className:j.playbackControl})(zt||(zt=a(["\n  "," {\n    ","\n  }\n"])),Mt,(e=>{let{$cardSize:t}=e;return o.css(Et||(Et=a(["\n      width: ",";\n      height: ",";\n      padding: ",";\n\n      ","\n    "])),Pt[t],Pt[t],x(t)?0:"8px",!x(t)&&!k(t)&&v(St||(St=a(["\n        width: calc("," * 1.2);\n        height: calc("," * 1.2);\n      "])),Pt.small,Pt.small))})),Dt=t=>{let{$isPlaying:a}=t,o=n(t,wt);const i=r.useMemo((()=>a?Ot:Ct),[a]);return r.createElement(jt,e({title:a?"Pause":"Play"},o),r.createElement(Mt,{as:i}))};var _t,Nt;const Rt={normal:.8,small:.9},Ft=o.styled("div").attrs((e=>{let{$isVisible:t,$positionX:n}=e;return{style:{left:n,transform:"scale(".concat(t?1:.5,") translate(-50%, -50%)"),opacity:t?1:0,visibility:t?"$visible":"hidden"}}}))(_t||(_t=a(["\n  position: absolute;\n  top: 50%;\n  background: #ffffff;\n  border-radius: 50%;\n  transform-origin: center center;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  transition: ",";\n  will-change: left, transform, opacity, visibility;\n  backface-visibility: hidden;\n  z-index: 3;\n\n  ","\n"])),W("transform","opacity","visibility"),(e=>{let{$cardSize:t}=e;const n=(r=t,Math.floor(12*(Rt[r]||1)));var r;return o.css(Nt||(Nt=a(["\n      height: ","px;\n      width: ","px;\n    "])),n,n)})),Tt=["$isDragging","$isVisible","label","$positionX","size"];var Lt;const Vt={normal:.8},It=o.styled("span").attrs((e=>{let{$position:t,$isDragging:n,$visible:r}=e;return{style:{left:"".concat(t,"px"),top:r?"-4px":"0px",visibility:r?"$visible":"hidden",opacity:r?1:0,transform:"translate(-50%, ".concat(n?-110:-100,"%)")}}}))(Lt||(Lt=a(["\n  position: absolute;\n  background: rgba(24, 25, 25, 0.75);\n  color: #fff;\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\n  padding: 2px 3px;\n  border-radius: 4px;\n  font-family: ",";\n  font-size: ","px;\n  line-height: 1;\n  transition: ",",\n    ",";\n  will-change: top, left, visibility, opacity, transform;\n  backface-visibility: hidden;\n"])),q,(e=>{let{$cardSize:t}=e;return 11*(Vt[t]||1)}),B("opacity","visibility","transform"),A("top")),Ut=r.forwardRef(((t,a)=>{let{$isDragging:o,$isVisible:i,label:l,$positionX:s,size:c}=t,u=n(t,Tt);return r.createElement(r.Fragment,null,r.createElement(It,e({$visible:i,$position:s,$cardSize:c,ref:a,$isDragging:o},u),l))}));Ut.displayName="Tooltip";const Wt=["key"];var Bt,At,Ht,qt,Xt,Kt,Jt;const Gt={normal:.7,small:.6},Qt={small:.9,large:1.4},Yt=e=>Math.floor(6*(Qt[e]||1)),Zt=o.styled("div").attrs((()=>({className:j.progressBar})))(Bt||(Bt=a(["\n  position: relative;\n  padding: ","px ","px ","px;\n  z-index: 2;\n  backface-visibility: hidden;\n"])),6,3,3),en=o.styled("div").attrs((e=>{let{$cardSize:t,$isDragging:n}=e;if(n){const e=Yt(t);return{style:{height:"".concat(e,"px")}}}return{}}))(At||(At=a(["\n  background: transparent;\n  border-radius: 9999px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  background: rgba(255, 255, 255, 0.15);\n  transition: ",";\n  will-change: height;\n  pointer-events: none;\n  position: relative;\n\n  ","\n"])),W("height"),(e=>{let{$cardSize:t}=e;const n=(r=t,Math.floor(6*(Gt[r]||1)));var r;const i=Yt(t);return o.css(Ht||(Ht=a(["\n      height: ","px;\n\n      ",":hover & {\n        height: ","px;\n      }\n    "])),n,Zt,i)})),tn=o.styled("div")(qt||(qt=a(["\n  border-radius: inherit;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n"]))),nn=o.styled("div").attrs((e=>{let{$maskScale:t}=e;return{style:{transform:"scaleX(".concat(t,")")}}}))(Xt||(Xt=a(["\n  position: absolute;\n  left: 0;\n  top: -50%;\n  height: 200%;\n  width: 100%;\n  background: #ffffff;\n  transform-origin: left center;\n  will-change: transform;\n"]))),rn=o.styled("div").attrs((e=>{let{$cursorRatio:t,$isHovering:n,$progressPercent:r}=e;return{style:{left:r,transform:"scaleX(".concat(t,")"),opacity:n?1:0,visibility:n?"$visible":"hidden"}}}))(Kt||(Kt=a(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  transform-origin: left center;\n  transition: ",";\n  will-change: left, transform, opacity, $visible;\n"])),W("opacity","visibility")),an=o.styled("div").attrs((e=>{let{start:t,end:n}=e;return{style:{left:"".concat(t,"px"),right:"".concat(n,"px")}}}))(Jt||(Jt=a(["\n  background: rgba(255, 255, 255, 0.35);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n"]))),on=t=>{let{bufferedMedia:a,cursorX:o,duration:i,hoveredTime:l,$isDragging:s,$isHovering:c,onClick:u,onMouseDown:d,onMouseOver:p,progress:m,showTooltip:f}=t;const{props:{size:g}}=r.useContext(Q),h=r.useRef(),b=r.useRef(),y=r.useMemo((()=>k(g)),[g]),v=r.useCallback((()=>h.current?h.current.getBoundingClientRect().width-6:0),[]),w=r.useMemo((()=>S(m/i,0,1)),[i,m]),x=r.useMemo((()=>"".concat(S(100*w,1,99),"%")),[w]),$=r.useMemo((()=>{if(h.current){const e=v(),t=w*e,n=o-t;if(n>0)return S((n/(e-t)).toFixed(3),0,.99)}return 0}),[o,v,w]),z=r.useMemo((()=>{const e=v();return a.map(((t,n)=>({key:n,start:t.start*e,end:e-t.end*e})))}),[a,v]),O=r.useMemo((()=>E(l)),[l]),C=r.useMemo((()=>{if(h.current&&b.current){const e=v(),t=b.current.getBoundingClientRect().width/2;return S(o,t,e-t)}return 0}),[o,v]),P=r.useMemo((()=>({onClick:u,onMouseDown:d,onMouseOver:p})),[u,d,p]),M=r.useMemo((()=>s||c),[s,c]);return r.createElement(Zt,e({$cardSize:g,ref:h},P),r.createElement(en,{$cardSize:g,$isDragging:s},r.createElement(tn,null,r.createElement(rn,{$cursorRatio:$,$isHovering:c,$progressPercent:x}),z.map((t=>{let{key:a}=t,o=n(t,Wt);return r.createElement(an,e({key:a},o))})),r.createElement(nn,{$maskScale:w})),r.createElement(Ft,{$cardSize:g,$isVisible:M,$positionX:x}),!y&&r.createElement(Ut,{$isDragging:s,$isVisible:M,label:O,$positionX:C,ref:b,size:g})))};var ln,sn,cn,un,dn;const pn=["$cardSize"],mn=["$cardSize"],fn=["type","$cardSize"],gn=t=>{let a=n(t,pn);return r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),ln||(ln=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z",transform:"translate(-4 -1)"})))},hn=t=>{let a=n(t,mn);return r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),sn||(sn=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z",transform:"translate(-4 -1)"})))},bn=o.styled("svg")(cn||(cn=a(["\n  stroke: #fff;\n  width: ","px;\n  height: ","px;\n\n  ","\n"])),(e=>{let{$cardSize:t}=e;return x(t)?30:24}),(e=>{let{$cardSize:t}=e;return x(t)?30:24}),(e=>{let{$cardSize:t}=e;return!x(t)&&v(un||(un=a(["\n    width: 0;\n    height: 0;\n  "])))})),yn=o.styled(nt)(dn||(dn=a(["\n  margin: 0 ",";\n"])),(e=>{let{$cardSize:t}=e;return x(t)?"28px":"3px"})),vn=t=>{let{type:a="rewind",$cardSize:o}=t,i=n(t,fn);const l=r.useMemo((()=>"rewind"===a?gn:hn),[a]);return r.createElement(yn,e({title:"rewind"===a?"Rewind":"Forward",$cardSize:o},i),r.createElement(bn,{as:l,$cardSize:o}))};var wn,xn,kn,$n,zn,En;const Sn={normal:.8,small:.6},On={normal:.9,small:.8},Cn=o.keyframes(wn||(wn=a(["\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),Pn=o.keyframes(xn||(xn=a(["\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n"]))),Mn=o.styled(nt).attrs((e=>{let{$isVisible:t}=e;return{style:{opacity:t?1:0,visibility:t?"$visible":"hidden"}}}))((e=>{let{$cardSize:t}=e;const n="".concat((e=>Math.floor(12*(On[e]||1)))(t),"px"),r="".concat((e=>Math.floor(6*(Sn[e]||1)))(t),"px");return o.css(kn||(kn=a(["\n    position: absolute;\n    width: ",";\n    right: ",";\n    top: ",";\n    transition: ",";\n    will-change: opacity, visibility;\n    pointer-events: none;\n  "])),n,r,r,B("opacity","visibility"))})),jn=o.styled("svg")($n||($n=a(["\n  width: 100%;\n  animation: "," 2s linear infinite;\n  will-change: transform;\n"])),Cn),Dn=o.styled("circle")(zn||(zn=a(["\n  stroke: #fff;\n  stroke-linecap: round;\n  stroke-width: 7;\n  fill: none;\n  animation: "," 1.5s ease-in-out infinite;\n  will-change: stroke-dasharray, stroke-dashoffset;\n"])),Pn),_n=e=>{let{size:t,$isVisible:n}=e;return r.createElement(Mn,{$cardSize:t,className:j.spinner,$isVisible:n},En||(En=r.createElement(jn,{viewBox:"0 0 50 50"},r.createElement(Dn,{cx:"25",cy:"25",r:"20"}))))};var Nn,Rn,Fn,Tn,Ln;const Vn=32,In=37,Un=39,Wn=77,Bn=o.styled("div").attrs({className:j.mediaControls})(Nn||(Nn=a(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  transition: ",", ",";\n  will-change: background;\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  ","\n"])),A("background"),B("opacity"),(e=>{let{$hasInteracted:t,$isDragging:n,$isPlaying:r}=e;const i="rgba(0, 0, 0, 0.35)",l=t&&!r;return o.css(Rn||(Rn=a(["\n      .",":hover & {\n        background: ",";\n      }\n\n      .",":not(:hover) & {\n        opacity: ",";\n        ",";\n      }\n    "])),j.main,n?"rgba(0, 0, 0, 0.2)":i,j.main,!t||l?1:0,l&&"background: ".concat(i))})),An=o.styled("div")(Fn||(Fn=a(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n"]))),Hn=o.styled("div")(Tn||(Tn=a(["\n  flex: 1;\n\n  ","\n"])),(e=>{let{$isVisible:t}=e;return!t&&o.css(Ln||(Ln=a(["\n      *[class*='","']:not(.",") {\n        transition: ",";\n        opacity: 0;\n        visibility: hidden;\n      }\n    "])),j.mediaControls,j.progressTime,B("opacity","visibility"))})),qn=t=>{let{MediaComponent:n,mediaProps:a}=t;const{props:{autoPlay:o,controls:i,mediaRef:l,muted:s,loop:c,size:u}}=r.useContext(Q),[d,p]=r.useState(0),[m,f]=r.useState(0),[h,b]=r.useState([]),[y,v]=r.useState(0),[w,x]=r.useState(0),[$,z]=r.useState(o),[O,C]=r.useState(s),[P,M]=r.useState(!1),[D,_]=r.useState(!1),[N,R]=r.useState(!1),[F,T]=r.useState(1),[L,V]=r.useState(o),[I,U]=r.useState(!1),W=r.useRef(),B=r.useCallback((e=>{W.current=e,l&&(g(l)?l(e):l.current=e)}),[l]),A=r.useMemo((()=>!k(u)),[u]),H=r.useMemo((()=>({onCanPlay:()=>M(!1),onLoadedMetadata:e=>p(e.currentTarget.duration),onPause:()=>z(!1),onPlay:()=>z(!0),onPlaying:()=>M(!1),onProgress:e=>b(e.currentTarget.buffered),onRateChange:e=>T(e.currentTarget.playbackRate),onTimeUpdate:e=>f(e.currentTarget.currentTime),onVolumeChange:e=>C(e.currentTarget.muted),onWaiting:e=>M(!0)})),[]),q=r.useCallback((e=>{if(W.current){const t=e.currentTarget.getBoundingClientRect(),n=S(Math.floor(e.clientX-t.left),0,t.width);return{cursor:n,time:n/t.width*W.current.duration}}return{cursor:0,time:0}}),[]),X=r.useCallback((()=>{W.current&&(W.current.paused?(L||V(!0),W.current.play()):W.current.pause())}),[L]),K=r.useCallback((e=>{if(W.current){const t=S(e,0,W.current.duration);W.current.currentTime=t,f(t)}}),[]),J=r.useCallback(((e,t)=>{if(e.preventDefault(),e.stopPropagation(),W.current){const{currentTime:e}=W.current;K("rewind"===t?e-10:e+30)}}),[K]),G=r.useCallback((e=>{e.preventDefault(),e.stopPropagation(),W.current&&(W.current.muted=!W.current.muted)}),[]),Y=r.useCallback((e=>{e.preventDefault(),e.stopPropagation(),W.current&&(W.current.playbackRate=(e=>{switch(e){case 1:return 1.25;case 1.25:return 1.5;case 1.5:return 2;default:return 1}})(W.current.playbackRate))}),[]),Z=r.useCallback((e=>{e.preventDefault(),e.stopPropagation(),R(!1)}),[]),ee=r.useCallback((e=>{e.preventDefault(),e.stopPropagation(),R(!0);const{time:t}=q(e);K(t)}),[q,K]),te=r.useCallback((()=>_(!0)),[]),ne=r.useCallback((e=>{e.preventDefault(),e.stopPropagation(),N?R(!1):X()}),[N,X]),re=r.useCallback((e=>{if((N||D)&&W.current){e.preventDefault();const{cursor:t,time:n}=q(e);x(n),v(t),N&&(W.current.paused||(W.current.pause(),U(!0)),K(n))}}),[q,N,D,K]),ae=r.useCallback((e=>{N&&0===e.buttons&&R(!1)}),[N]),oe=r.useCallback((e=>{if(N)return;const{keyCode:t}=e;if([Vn,In,Un,Wn].includes(t)&&W.current)switch(e.preventDefault(),t){case Vn:X();break;case In:K(W.current.currentTime-5);break;case Un:K(W.current.currentTime+5);break;case Wn:W.current.muted=!W.current.muted}}),[N,K,X]),ie=r.useMemo((()=>({onClick:ne,onKeyDown:oe,onMouseMove:re,onMouseOut:()=>_(!1),onMouseOver:ae})),[ne,oe,re,ae]),le=r.useMemo((()=>L?{title:""}:{}),[L]),se=r.useMemo((()=>h&&h.length&&W.current?[...Array(h.length).keys()].map((e=>({start:h.start(e)/W.current.duration,end:h.end(e)/W.current.duration}))):[]),[h]),ce=r.useMemo((()=>E(m||0)),[m]),ue=r.useMemo((()=>E(d||0)),[d]),de=r.useMemo((()=>({$cardSize:u,currentTime:ce,endTime:ue,isMuted:O,onMuteClick:G,onPlaybackRateClick:Y,playbackRate:F})),[ce,ue,O,G,Y,F,u]),pe=r.useMemo((()=>({bufferedMedia:se,cursorX:y,duration:d,hoveredTime:w,$isDragging:N,$isHovering:D,onClick:Z,onMouseDown:ee,onMouseOver:te,progress:m,showTooltip:N||D})),[se,y,d,w,N,D,Z,ee,te,m]);return r.useEffect((()=>{!N&&I&&W.current&&W.current.paused&&(W.current.play(),U(!1))}),[I,N]),r.createElement(r.Fragment,null,r.createElement(n,e({},a,H,{ref:B,autoPlay:o,loop:c,muted:s})),i&&r.createElement(Bn,e({},le,{tabIndex:0,$hasInteracted:L,$isDragging:N,$isPlaying:$},ie),r.createElement(_n,{size:u,$isVisible:P}),L?r.createElement(r.Fragment,null,r.createElement(Hn,{$isVisible:!N},r.createElement(An,null,A&&r.createElement(vn,{className:j.rwControl,type:"rewind",$cardSize:u,onClick:e=>J(e,"rewind")}),r.createElement(Dt,{$cardSize:u,$isPlaying:$}),A&&r.createElement(vn,{className:j.ffwControl,type:"fastforward",$cardSize:u,onClick:e=>J(e,"fastforward")})),A&&r.createElement(vt,de)),r.createElement(on,pe)):r.createElement(An,null,r.createElement(Dt,{$cardSize:u}))))};var Xn;const Kn=o.styled("video")(Xn||(Xn=a(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  &::media-controls-start-playback-button {\n    display: none;\n    appearance: none;\n  }\n"]))),Jn={video:t=>{const{state:{imageUrl:n,playsInline:a,videoUrl:o}}=r.useContext(Q),i=r.useMemo((()=>{const e={className:"".concat(j.media," ").concat(j.video),src:o,playsInline:a};return n&&(e.poster=$(n)),e}),[n,a,o]);return r.createElement(Ue,e({className:"".concat(j.mediaWrapper," ").concat(j.videoWrapper)},t),r.createElement(qn,{MediaComponent:Kn,mediaProps:i}))},image:Ae,audio:t=>{const{state:{audioUrl:n}}=r.useContext(Q),a=r.useMemo((()=>({className:"".concat(j.media," ").concat(j.audio),src:n})),[n]);return r.createElement(Ae,e({className:"".concat(j.mediaWrapper," ").concat(j.audioWrapper)},t),r.createElement(qn,{MediaComponent:"audio",mediaProps:a}))}},Gn=()=>{const{state:{imageUrl:e,isAudio:t,isVideo:n}}=r.useContext(Q),[a,o]=r.useState(null!==y(e));const i=((e,t)=>e?"audio":t?"video":"image")(t,n),l=Jn[i];return r.createElement(r.Fragment,null,r.createElement(l,{$isLoading:a}),a&&r.createElement(De,{src:e,onLoad:()=>o(!1)}))},Qn=["href","rel","target","as"];var Yn,Zn,er,tr,nr;function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?rr(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const or="382px",ir=e=>{let{$backgroundColor:t,color:n}=e;return o.css(Yn||(Yn=a(["\n  background-color: ",";\n  border-color: ",";\n  transition-property: filter;\n  will-change: filter;\n\n  &&& {\n    color: ",";\n  }\n\n  &:hover {\n    filter: brightness(90%);\n  }\n"])),t,n,n)},lr=o.css(Zn||(Zn=a(["\n  flex-direction: column;\n  height: ",";\n  ",";\n"])),or,v(er||(er=a(["\n    height: calc("," * 7/9);\n  "])),or)),sr=o.css(tr||(tr=a(["\n  transition-property: background, border-color;\n  will-change: background, border-color;\n  &:hover {\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\n    border-color: var(--microlink-hover-border-color, #8899a680);\n  }\n"]))),cr=e=>{let{$cardSize:t}=e;return o.css(nr||(nr=a(["\n  flex-direction: ",";\n"])),x(t)?"column-reverse":"row-reverse")},ur=o.css((()=>"\n  max-width: var(--microlink-max-width, 500px);\n  background-color: var(--microlink-background-color, #fff);\n  border-width: var(--microlink-border-width, 1px);\n  border-style: var(--microlink-border-style, solid);\n  border-color: var(--microlink-border-color, #e1e8ed);\n  color: var(--microlink-color, #181919);\n  overflow: hidden;\n  font-family: ".concat(H,";\n  display: flex;\n  text-decoration: none;\n  opacity: 1;\n  position: relative;\n  transition-duration: ").concat(V.medium,";\n  transition-timing-function: ").concat(I.medium,";\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n"))),dr=o.styled("a")(ur,(e=>{let{$isLoading:t,contrast:n}=e;return!t&&!n&&sr}),(e=>{let{$cardSize:t}=e;return x(t)&&lr}),(e=>{let{direction:t}=e;return"rtl"===t&&cr}),(e=>{let{$backgroundColor:t,color:n,contrast:r}=e;return r&&n&&t&&ir}),(e=>{let{$backgroundColor:t,color:n,contrast:r}=e;return r&&(!n||!t)&&sr})),pr=r.forwardRef(((e,t)=>{let{href:a,rel:o="noopener noreferrer",target:i="_blank",as:l="a"}=e,s=n(e,Qn);const{state:{$backgroundColor:c,color:u,title:d},props:{size:p}}=r.useContext(Q);return r.createElement(dr,ar(ar(ar({},"a"===l?{href:a,rel:o,target:i}:void 0),s),{},{$backgroundColor:c,$cardSize:p,color:u,ref:t,title:d}))}));pr.displayName="CardWrap";var mr,fr,gr;const hr=["className","fetchData","lazy","loading","media","setData","url","apiKey"],br=["className","apiKey","autoPlay","controls","direction","lazy","loop","media","fetchData","muted","playsInline","size"];function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?yr(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const wr=t=>{const{className:a,fetchData:o,lazy:l,loading:s,media:c,setData:u,url:d,apiKey:p}=t,m=n(t,hr),v=r.useMemo((()=>[].concat(c)),[c]),{updateState:x}=r.useContext(Q),[k,$]=r.useState(!0),[E,S]=r.useState(null),[O,C]=r.useState(!1),P=r.useMemo((()=>void 0===s),[s]),[M,D]=r.useMemo((()=>w(vr(vr({},t),{},{media:v}))),[v,t]),_=r.useMemo((()=>z&&(!0===l||h(l))),[l]),N=r.useMemo((()=>h(l)?l:void 0),[l]),[R,F]=((e,t)=>{const[n,a]=r.useState(!1);return[n,r.useCallback((n=>{if(e){const e=new IntersectionObserver(((e,t)=>{let[n]=e;n.isIntersecting&&(a(!0),t.unobserve(n.target))}),t);null!==n&&e.observe(n)}else a(!0)}),[e,t])]})(_,N),T=r.useMemo((()=>!_||_&&R),[_,R]),L=r.useCallback((e=>{const t=g(u)?u(e):vr(vr({},e),u),{title:n,description:r,url:a,video:o,audio:i,image:l,logo:s,iframe:c}=t,d=l||s||{};let p,m,f=d,h=!1,w=!1;const k=((e,t)=>{let n;for(let r=0;r<t.length;r++){const a=t[r],o=e[a];if(!b(o)){n=a;break}}return n})(t,v);switch(k){case"audio":w=!0,m=y(i);break;case"video":h=!0,p=y(o);break;case"iframe":S(c);break;default:f=((e,t)=>e[t.find((t=>!b(e[t])))])(t,v)||d}const z=y(f),{color:E,background_color:O}=f;x({url:a,color:E,title:n,description:r,imageUrl:z,videoUrl:p,audioUrl:m,isVideo:h,isAudio:w,$backgroundColor:O}),$(!1)}),[x,v,u]),V=r.useCallback((()=>{if(T){$(!0);(o?i.fetchFromApi(M,D):Promise.resolve({})).then((e=>{let{data:t}=e;return L(t)})).catch((e=>{$(!1),C(!0),console.error("\n┌───────────────┐\n│ Microlink SDK │\n└───────────────┘\n\n".concat(e.description,"\n\n").concat(JSON.stringify(e.data),"\n\nid   ").concat(e.headers["x-request-id"],"\nuri  ").concat(e.url,"\ncode ").concat(e.code," (").concat(e.statusCode,")\n\nmicrolink.io/").concat(e.code.toLowerCase(),"\n"))}))}}),[D,o,M,L,T]);r.useEffect(V,[d,u,R]);const I=P?k:s;return O?r.createElement("a",e({href:d},m),d):E?(f||E.scripts.forEach((e=>{if(!document.querySelector('script[src="'.concat(e.src,'"]'))){const t=document.createElement("script");Object.keys(e).forEach((n=>t[n]=e[n])),document.body.appendChild(t)}})),r.createElement("div",e({className:j.iframe,dangerouslySetInnerHTML:{__html:E.html}},m))):r.createElement(pr,e({className:"".concat(j.main," ").concat(a).trim(),href:d,$isLoading:I,ref:F},m),I?mr||(mr=r.createElement(et,null)):r.createElement(r.Fragment,null,fr||(fr=r.createElement(Gn,null)),gr||(gr=r.createElement(we,null))))};Object.defineProperty(exports,"fetchFromApi",{enumerable:!0,get:function(){return i.fetchFromApi}}),exports.default=t=>{let{className:a="",apiKey:o,autoPlay:i=!0,controls:l=!0,direction:s="ltr",lazy:c=!0,loop:u=!0,media:d=["iframe","video","audio","image","logo"],fetchData:p=!0,muted:m=!0,playsInline:f=!0,size:g="normal"}=t,h=n(t,br);return r.createElement(Y,e({className:a,apiKey:o,autoPlay:i,controls:l,direction:s,lazy:c,loop:u,media:d,fetchData:p,muted:m,playsInline:f,size:g},h),(e=>r.createElement(wr,e)))},exports.getApiUrl=w,exports.imageProxy=$;
//# sourceMappingURL=microlink.min.cjs.map
