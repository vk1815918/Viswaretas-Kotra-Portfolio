import e from"@babel/runtime/helpers/extends";import n from"@babel/runtime/helpers/defineProperty";import t from"@babel/runtime/helpers/objectWithoutProperties";import r,{useRef as a,useMemo as o,useCallback as i,useEffect as c,createElement as l,useState as s,useContext as d,forwardRef as u}from"react";import p from"@babel/runtime/helpers/taggedTemplateLiteral";import{css as m,styled as f,keyframes as g}from"styled-components";import{getApiUrl as h,fetchFromApi as b}from"@microlink/mql";export{fetchFromApi}from"@microlink/mql";const v=["accessibility","debounce","ellipsis","is","lines","text"];function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const x=e=>{let{accessibility:n=!0,debounce:r=300,ellipsis:s="…",is:d="div",lines:u=3,text:p}=e,m=t(e,v);const f=a(null),g=a("."),h=w(w({ref:f},n?{title:p}:{}),m),b=o((()=>"string"==typeof p&&p.length>0),[p]),y=i((()=>{var e,n,t,r;if(!b)return;const a=e=>{g.current=e,null!=f.current&&(f.current.innerText=e)};a(".");const o=((null!==(n=null===(e=f.current)||void 0===e?void 0:e.clientHeight)&&void 0!==n?n:0)+1)*u+1,i="…"===s?5:1.2*s.length;let c=0,l=0,d=p.length;for(;c<=d;){if(l=Math.floor((c+d)/2),a(p.slice(0,l)),l===p.length)return;(null!==(r=null===(t=f.current)||void 0===t?void 0:t.clientHeight)&&void 0!==r?r:0)<=o?c=l+1:d=l-1}a(p.slice(0,Math.max(l-i,0)).trim()+s)}),[s,b,u,p]);return c((()=>{y();const e=((e,n)=>{let t;const r=()=>{t=void 0,e()};return()=>{const a=null==t;clearTimeout(t),t=setTimeout(r,n),a&&e()}})(y,r);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[y,r]),b?l(d,h,g.current):null};function k(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $,z=k((()=>/^https?:\/\/(localhost|0|10|127|192(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1?\])/gi));const E="undefined"==typeof window,O=e=>"function"==typeof e,S=e=>"object"==typeof e,P=e=>null==e,j=e=>S(e)?e.url:e,C=function(){return m($||($=p(["\n    @media (max-width: 48em) {\n      ",";\n    }\n  "])),m(...arguments))},D=e=>{let{apiKey:n,contrast:t=!1,data:r,endpoint:a,force:o,headers:i,media:c,prerender:l,proxy:s,ttl:d,url:u}=e;return h(u,{apiKey:n,audio:c.includes("audio"),data:r,endpoint:a,force:o,headers:i,iframe:c.includes("iframe"),palette:t,prerender:l,proxy:s,screenshot:c.includes("screenshot"),ttl:d,video:c.includes("video")})},M=e=>"large"===e,_=e=>"small"===e,N=e=>z().test(e)?e:"https://images.weserv.nl/?".concat(new URLSearchParams({url:e,default:e,l:9,af:"",il:"",n:-1}).toString()),F=!E&&"IntersectionObserver"in window,T=e=>{const n=parseInt(e,10);return[Math.floor(n/3600),Math.floor(n/60)%60,n%60].filter(((e,n)=>e>0||n>0)).map((e=>e>=10?e:"0".concat(e))).join(":")},R=(e,n,t)=>{switch(!0){case e<=n:return n;case e>=t:return t;default:return e}},L="microlink_card",V="".concat(L,"__content"),I="".concat(L,"__media"),U="".concat(I,"__controls"),W={main:L,content:V,title:"".concat(V,"_title"),description:"".concat(V,"_description"),url:"".concat(V,"_url"),mediaWrapper:"".concat(I,"_wrapper"),media:I,image:"".concat(I,"_image"),videoWrapper:"".concat(I,"_video_wrapper"),video:"".concat(I,"_video"),audioWrapper:"".concat(I,"_audio_wrapper"),audio:"".concat(I,"_audio"),mediaControls:U,playbackControl:"".concat(U,"_playback"),volumeControl:"".concat(U,"_volume"),rwControl:"".concat(U,"_rewind"),ffwControl:"".concat(U,"_fast_forward"),rateControl:"".concat(U,"_rate"),progressBar:"".concat(U,"_progress_bar"),progressTime:"".concat(U,"_progress_time"),spinner:"".concat(U,"_spinner"),iframe:"".concat(L,"__iframe")},B=["useNanoClamp","children"];var H,X;function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const q=f((e=>{let{children:n,className:t,lines:a}=e;return P(n)?null:r.createElement(x,{className:t,lines:a,text:n,is:"p"})}))(H||(H=p(["\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n\n    ","\n  }\n"])),(e=>{let{$useNanoClamp:n}=e;return!n&&m(X||(X=p(["\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      "])))})),J=n=>{let{useNanoClamp:a=!0,children:o}=n,i=t(n,B);const c=a?i:K(K({},i),{},{as:"p",title:o});return r.createElement(q,e({$useNanoClamp:a},c),o)},G={short:"100ms",medium:"150ms",long:"300ms"},Q={short:"cubic-bezier(.25,.8,.25,1)",medium:"cubic-bezier(.25,.8,.25,1)",long:"cubic-bezier(.4, 0, .2, 1)"},Y=(e,n)=>{const t="".concat(G[n]," ").concat(Q[n]);return e.map((e=>"".concat(e," ").concat(t))).join(", ")},Z=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Y(n,"short")},ee=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Y(n,"medium")},ne=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Y(n,"long")},te="InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif",re="'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",ae=["autoPlay","children","controls","loop","mediaRef","muted","playsInline","size"];function oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const ce={},le=r.createContext(ce),se=e=>{let{autoPlay:n,children:a,controls:c,loop:l,mediaRef:d,muted:u,playsInline:p,size:m}=e,f=t(e,ae);const[g,h]=s(ce),b=i((e=>h((n=>ie(ie({},n),e)))),[]),v=o((()=>({autoPlay:n,controls:c,loop:l,mediaRef:d,muted:u,playsInline:p,size:m})),[n,c,l,d,u,p,m]),y=o((()=>({props:v,state:g,updateState:b})),[v,g,b]);return r.createElement(le.Provider,{value:y},a(f))};var de,ue,pe,me,fe,ge,he,be,ve,ye,we,xe;const ke=/^www\./,$e="16px",ze=m(de||(de=p(["\n  ",";\n"])),C(ue||(ue=p(["\n    > p {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  "])))),Ee=f("div").attrs({className:W.content})(pe||(pe=p(["\n  display: flex;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return m(me||(me=p(["\n    flex: ",";\n    justify-content: ",";\n    flex-direction: ",";\n    align-items: ",";\n  "])),M(n)?"0 0 125px":1,_(n)?"space-between":"space-around",_(n)?"row":"column",_(n)?"center":"stretch")})),Oe=f("header").attrs({className:W.title})(fe||(fe=p(["\n  text-align: left;\n  font-weight: bold;\n  margin: 0;\n  width: 100%;\n  ","\n"])),(e=>{let{$cardSize:n}=e;return m(ge||(ge=p(["\n    flex-grow: ",";\n    font-size: ",";\n\n    ","\n  "])),_(n)?.8:1.2,_(n)?"15px":"16px",_(n)&&m(he||(he=p(["\n      min-width: 0;\n      padding-right: 14px;\n    "]))))})),Se=f("div").attrs({className:W.description})(be||(be=p(["\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 2;\n  margin: auto 0;\n  line-height: 18px;\n  font-weight: normal;\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return!M(n)&&ze})),Pe=f("footer").attrs({className:W.url})(ve||(ve=p(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  margin: 0;\n  flex-grow: 0;\n  font-weight: normal;\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return m(ye||(ye=p(["\n    font-size: ",";\n    ","\n  "])),_(n)?"10px":"12px",!_(n)&&"width: 100%;")})),je=f(J)(we||(we=p(["\n  opacity: 0.75;\n  transition: ",";\n  will-change: opacity;\n\n  .",":hover & {\n    opacity: 1;\n  }\n"])),ee("opacity"),W.main),Ce=f("span").attrs({title:"microlink.io"})(xe||(xe=p(["\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\n    center;\n  display: block;\n  margin-left: 15px;\n  transition: ",";\n  will-change: filter, opacity;\n  &:not(:hover) {\n    filter: grayscale(100%);\n    opacity: 0.75;\n  }\n\n  min-width: ",";\n  width: ",";\n  background-size: ",";\n  height: ",";\n"])),ee("filter","opacity"),$e,$e,$e,"12px"),De=()=>{const{state:{description:e,title:n,url:t},props:{size:a}}=d(le),c=_(a),l=o((()=>(e=>{if(P(e))return"";const{hostname:n}=new URL(e);return n.replace(ke,"")})(t)),[t]),s=i((e=>{e.preventDefault(),window.open("https://www.microlink.io","_blank")}),[]);return r.createElement(Ee,{$cardSize:a},r.createElement(Oe,{$cardSize:a},r.createElement(J,{$useNanoClamp:!1},n)),!c&&r.createElement(Se,{$cardSize:a},r.createElement(J,{lines:2},e)),r.createElement(Pe,{$cardSize:a},r.createElement(je,{$useNanoClamp:!1},l),r.createElement(Ce,{onClick:s})))};var Me,_e,Ne,Fe;const Te=g(Me||(Me=p(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #cdd4d8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]))),Re=g(_e||(_e=p(["\n  0% {\n    background: #e1e8ed;\n  }\n  70% {\n    background: #dce3e8;\n  }\n  100% {\n    background: #e1e8ed;\n  }\n"]))),Le=m(Ne||(Ne=p(["\n  animation: "," .75s linear infinite;\n"])),Te),Ve=m(Fe||(Fe=p(["\n  animation: "," 1.25s linear infinite;\n"])),Re);var Ie,Ue,We;const Be=f("img")(Ie||(Ie=p(["\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  z-index: -1;\n"]))),He=m(Ue||(Ue=p(["\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    background: #e1e8ed;\n    z-index: 1;\n    transition: ",";\n    will-change: opacity;\n\n    ",";\n  }\n"])),ee("opacity","visibility"),(e=>{let{$isLoading:n}=e;return m(We||(We=p(["\n      opacity: ",";\n      visibility: ",";\n    "])),n?1:0,n?"$visible":"hidden")}));var Xe,Ae,Ke,qe,Je;const Ge={small:m(Xe||(Xe=p(["\n    flex: 0 0 48px;\n  "]))),normal:m(Ae||(Ae=p(["\n    flex: 0 0 125px;\n\n    ","\n  "])),C(Ke||(Ke=p(["\n      flex: 0 0 92px;\n    "])))),large:m(qe||(qe=p(["\n    flex: 1;\n\n    &::before {\n      padding-bottom: 0;\n    }\n  "])))},Qe=f("div")(Je||(Je=p(["\n  background: transparent no-repeat center center / cover;\n  display: block;\n  overflow: hidden;\n  height: auto;\n  position: relative;\n\n  &::before {\n    content: '';\n    padding-bottom: 100%;\n    display: block;\n  }\n\n  ",";\n\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return Ge[n]}),He),Ye=n=>{const{props:{size:t}}=d(le);return r.createElement(Qe,e({$cardSize:t},n))};var Ze;const en=f(Ye).attrs({className:"".concat(W.media," ").concat(W.image)})(Ze||(Ze=p(["\n  background-image: ",";\n"])),(e=>{let{url:n}=e;return n?"url('".concat(N(n),"')"):""})),nn=n=>{const{state:{imageUrl:t}}=d(le);return r.createElement(en,e({url:t},n))};var tn,rn,an,on,cn;const ln=f(nn)(tn||(tn=p(["\n  ",";\n"])),Ve),sn=f("span")(rn||(rn=p(["\n  opacity: 0.8;\n  height: 16px;\n  width: ",";\n  display: block;\n  background: #e1e8ed;\n  margin: ",";\n  ",";\n\n  ",";\n"])),(e=>{let{$cardSize:n}=e;return _(n)?"75%":"60%"}),(e=>{let{$cardSize:n}=e;return _(n)?"0 20px 0 0":"2px 0 8px"}),Le,(e=>{let{$cardSize:n}=e;return!M(n)&&"\n    height: 15px;\n  "})),dn=f("span")(an||(an=p(["\n  opacity: 0.8;\n  height: 14px;\n  width: 95%;\n  display: block;\n  position: relative;\n  ",";\n  animation-delay: 0.125s;\n"])),Le),un=f("span")(on||(on=p(["\n  opacity: 0.8;\n  height: 12px;\n  width: 30%;\n  display: block;\n  "," animation-delay: .25s;\n\n  ",";\n"])),Le,(e=>{let{$cardSize:n}=e;return!M(n)&&"\n    height: 10px;\n  "})),pn=()=>{const{props:{size:e}}=d(le),n=_(e);return r.createElement(r.Fragment,null,r.createElement(ln,{$cardSize:e}),r.createElement(Ee,{$cardSize:e},r.createElement(sn,{$cardSize:e}),n?null:r.createElement(r.Fragment,null,r.createElement(dn,{$cardSize:e}),r.createElement(dn,{$cardSize:e,style:{marginBottom:"12px"}})),cn||(cn=r.createElement(un,null))))};var mn;const fn=f("div")(mn||(mn=p(["\n  backface-visibility: hidden;\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\n  transition: ",";\n  will-change: transform;\n\n  > svg {\n    display: block;\n  }\n\n  &:active:not(:focus) {\n    transform: scale(0.9);\n  }\n"])),Z("transform"));var gn,hn,bn,vn,yn,wn,xn,kn,$n;const zn=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},n),gn||(gn=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),En=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},n),hn||(hn=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z",transform:"translate(-1 -1)"}))),On=f("div")(bn||(bn=p(["\n  z-index: 2;\n  position: absolute;\n  bottom: ","px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: ",";\n  will-change: opacity;\n"])),(e=>{let{$cardSize:n}=e;return M(n)?18:14}),ee("opacity")),Sn=f("svg")(vn||(vn=p(["\n  stroke: #fff;\n"]))),Pn=f(fn).attrs({className:W.volumeControl})(yn||(yn=p(["\n  "," {\n    width: ","px;\n    height: ","px;\n\n    ","\n  }\n"])),Sn,(e=>{let{$cardSize:n}=e;return M(n)?16:14}),(e=>{let{$cardSize:n}=e;return M(n)?16:14}),(e=>{let{$cardSize:n}=e;return!M(n)&&C(wn||(wn=p(["\n      width: 12px;\n      height: 12px;\n    "])))})),jn=f(fn).attrs({className:W.rateControl})(xn||(xn=p(["\n  font-size: ","px;\n  min-width: ","px;\n  line-height: 1;\n  font-weight: bold;\n  border: 1.5px solid #fff;\n  border-radius: 9999px;\n  padding: 1px 5px;\n  text-align: center;\n  color: #fff;\n  margin-left: 10px;\n\n  ","\n"])),(e=>{let{$cardSize:n}=e;return M(n)?12:10}),(e=>{let{$cardSize:n}=e;return M(n)?33:28}),(e=>{let{$cardSize:n}=e;return!M(n)&&C(kn||(kn=p(["\n    font-size: 8px;\n    margin-left: 8px;\n    min-width: 23px;\n  "])))})),Cn=f("span").attrs({className:W.progressTime})($n||($n=p(["\n  margin: ",";\n  font-family: ",";\n  font-size: 12px;\n  padding: 0 16px;\n  color: #fff;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n"])),(e=>{let{$right:n}=e;return n?"0 0 0 auto":"0 auto 0 0"}),re),Dn=e=>{let{$cardSize:n,currentTime:t,endTime:a,isMuted:i,onMuteClick:c,onPlaybackRateClick:l,playbackRate:s}=e;const d=o((()=>i?zn:En),[i]),u=o((()=>M(n)),[n]);return r.createElement(On,{$cardSize:n},u&&r.createElement(Cn,null,t),r.createElement(Pn,{title:i?"Unmute":"Mute",$cardSize:n,onClick:c},r.createElement(Sn,{as:d})),r.createElement(jn,{title:"Playback Rate",$cardSize:n,onClick:l},r.createElement("span",null,s,"x")),u&&r.createElement(Cn,{$right:!0},a))},Mn=["$isPlaying"];var _n,Nn,Fn,Tn,Rn,Ln;const Vn=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"},n),_n||(_n=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z",transform:"translate(-8 -6)"}))),In=n=>r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21 24"},n),Nn||(Nn=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z",transform:"translate(-6 -4)"}))),Un={large:"50px",normal:"35px",small:"20px"},Wn=f("svg")(Fn||(Fn=p(["\n  stroke: #fff;\n"]))),Bn=f(fn).attrs({className:W.playbackControl})(Tn||(Tn=p(["\n  "," {\n    ","\n  }\n"])),Wn,(e=>{let{$cardSize:n}=e;return m(Rn||(Rn=p(["\n      width: ",";\n      height: ",";\n      padding: ",";\n\n      ","\n    "])),Un[n],Un[n],M(n)?0:"8px",!M(n)&&!_(n)&&C(Ln||(Ln=p(["\n        width: calc("," * 1.2);\n        height: calc("," * 1.2);\n      "])),Un.small,Un.small))})),Hn=n=>{let{$isPlaying:a}=n,i=t(n,Mn);const c=o((()=>a?Vn:In),[a]);return r.createElement(Bn,e({title:a?"Pause":"Play"},i),r.createElement(Wn,{as:c}))};var Xn,An;const Kn={normal:.8,small:.9},qn=f("div").attrs((e=>{let{$isVisible:n,$positionX:t}=e;return{style:{left:t,transform:"scale(".concat(n?1:.5,") translate(-50%, -50%)"),opacity:n?1:0,visibility:n?"$visible":"hidden"}}}))(Xn||(Xn=p(["\n  position: absolute;\n  top: 50%;\n  background: #ffffff;\n  border-radius: 50%;\n  transform-origin: center center;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\n  transition: ",";\n  will-change: left, transform, opacity, visibility;\n  backface-visibility: hidden;\n  z-index: 3;\n\n  ","\n"])),Z("transform","opacity","visibility"),(e=>{let{$cardSize:n}=e;const t=(r=n,Math.floor(12*(Kn[r]||1)));var r;return m(An||(An=p(["\n      height: ","px;\n      width: ","px;\n    "])),t,t)})),Jn=["$isDragging","$isVisible","label","$positionX","size"];var Gn;const Qn={normal:.8},Yn=f("span").attrs((e=>{let{$position:n,$isDragging:t,$visible:r}=e;return{style:{left:"".concat(n,"px"),top:r?"-4px":"0px",visibility:r?"$visible":"hidden",opacity:r?1:0,transform:"translate(-50%, ".concat(t?-110:-100,"%)")}}}))(Gn||(Gn=p(["\n  position: absolute;\n  background: rgba(24, 25, 25, 0.75);\n  color: #fff;\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\n  padding: 2px 3px;\n  border-radius: 4px;\n  font-family: ",";\n  font-size: ","px;\n  line-height: 1;\n  transition: ",",\n    ",";\n  will-change: top, left, visibility, opacity, transform;\n  backface-visibility: hidden;\n"])),re,(e=>{let{$cardSize:n}=e;return 11*(Qn[n]||1)}),ee("opacity","visibility","transform"),ne("top")),Zn=u(((n,a)=>{let{$isDragging:o,$isVisible:i,label:c,$positionX:l,size:s}=n,d=t(n,Jn);return r.createElement(r.Fragment,null,r.createElement(Yn,e({$visible:i,$position:l,$cardSize:s,ref:a,$isDragging:o},d),c))}));Zn.displayName="Tooltip";const et=["key"];var nt,tt,rt,at,ot,it,ct;const lt={normal:.7,small:.6},st={small:.9,large:1.4},dt=e=>Math.floor(6*(st[e]||1)),ut=f("div").attrs((()=>({className:W.progressBar})))(nt||(nt=p(["\n  position: relative;\n  padding: ","px ","px ","px;\n  z-index: 2;\n  backface-visibility: hidden;\n"])),6,3,3),pt=f("div").attrs((e=>{let{$cardSize:n,$isDragging:t}=e;if(t){const e=dt(n);return{style:{height:"".concat(e,"px")}}}return{}}))(tt||(tt=p(["\n  background: transparent;\n  border-radius: 9999px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n  background: rgba(255, 255, 255, 0.15);\n  transition: ",";\n  will-change: height;\n  pointer-events: none;\n  position: relative;\n\n  ","\n"])),Z("height"),(e=>{let{$cardSize:n}=e;const t=(r=n,Math.floor(6*(lt[r]||1)));var r;const a=dt(n);return m(rt||(rt=p(["\n      height: ","px;\n\n      ",":hover & {\n        height: ","px;\n      }\n    "])),t,ut,a)})),mt=f("div")(at||(at=p(["\n  border-radius: inherit;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n"]))),ft=f("div").attrs((e=>{let{$maskScale:n}=e;return{style:{transform:"scaleX(".concat(n,")")}}}))(ot||(ot=p(["\n  position: absolute;\n  left: 0;\n  top: -50%;\n  height: 200%;\n  width: 100%;\n  background: #ffffff;\n  transform-origin: left center;\n  will-change: transform;\n"]))),gt=f("div").attrs((e=>{let{$cursorRatio:n,$isHovering:t,$progressPercent:r}=e;return{style:{left:r,transform:"scaleX(".concat(n,")"),opacity:t?1:0,visibility:t?"$visible":"hidden"}}}))(it||(it=p(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.4);\n  transform-origin: left center;\n  transition: ",";\n  will-change: left, transform, opacity, $visible;\n"])),Z("opacity","visibility")),ht=f("div").attrs((e=>{let{start:n,end:t}=e;return{style:{left:"".concat(n,"px"),right:"".concat(t,"px")}}}))(ct||(ct=p(["\n  background: rgba(255, 255, 255, 0.35);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n"]))),bt=n=>{let{bufferedMedia:c,cursorX:l,duration:s,hoveredTime:u,$isDragging:p,$isHovering:m,onClick:f,onMouseDown:g,onMouseOver:h,progress:b,showTooltip:v}=n;const{props:{size:y}}=d(le),w=a(),x=a(),k=o((()=>_(y)),[y]),$=i((()=>w.current?w.current.getBoundingClientRect().width-6:0),[]),z=o((()=>R(b/s,0,1)),[s,b]),E=o((()=>"".concat(R(100*z,1,99),"%")),[z]),O=o((()=>{if(w.current){const e=$(),n=z*e,t=l-n;if(t>0)return R((t/(e-n)).toFixed(3),0,.99)}return 0}),[l,$,z]),S=o((()=>{const e=$();return c.map(((n,t)=>({key:t,start:n.start*e,end:e-n.end*e})))}),[c,$]),P=o((()=>T(u)),[u]),j=o((()=>{if(w.current&&x.current){const e=$(),n=x.current.getBoundingClientRect().width/2;return R(l,n,e-n)}return 0}),[l,$]),C=o((()=>({onClick:f,onMouseDown:g,onMouseOver:h})),[f,g,h]),D=o((()=>p||m),[p,m]);return r.createElement(ut,e({$cardSize:y,ref:w},C),r.createElement(pt,{$cardSize:y,$isDragging:p},r.createElement(mt,null,r.createElement(gt,{$cursorRatio:O,$isHovering:m,$progressPercent:E}),S.map((n=>{let{key:a}=n,o=t(n,et);return r.createElement(ht,e({key:a},o))})),r.createElement(ft,{$maskScale:z})),r.createElement(qn,{$cardSize:y,$isVisible:D,$positionX:E}),!k&&r.createElement(Zn,{$isDragging:p,$isVisible:D,label:P,$positionX:j,ref:x,size:y})))};var vt,yt,wt,xt,kt;const $t=["$cardSize"],zt=["$cardSize"],Et=["type","$cardSize"],Ot=n=>{let a=t(n,$t);return r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),vt||(vt=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z",transform:"translate(-4 -1)"})))},St=n=>{let a=t(n,zt);return r.createElement("svg",e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 29"},a),yt||(yt=r.createElement("path",{fill:"#FFF",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z",transform:"translate(-4 -1)"})))},Pt=f("svg")(wt||(wt=p(["\n  stroke: #fff;\n  width: ","px;\n  height: ","px;\n\n  ","\n"])),(e=>{let{$cardSize:n}=e;return M(n)?30:24}),(e=>{let{$cardSize:n}=e;return M(n)?30:24}),(e=>{let{$cardSize:n}=e;return!M(n)&&C(xt||(xt=p(["\n    width: 0;\n    height: 0;\n  "])))})),jt=f(fn)(kt||(kt=p(["\n  margin: 0 ",";\n"])),(e=>{let{$cardSize:n}=e;return M(n)?"28px":"3px"})),Ct=n=>{let{type:a="rewind",$cardSize:i}=n,c=t(n,Et);const l=o((()=>"rewind"===a?Ot:St),[a]);return r.createElement(jt,e({title:"rewind"===a?"Rewind":"Forward",$cardSize:i},c),r.createElement(Pt,{as:l,$cardSize:i}))};var Dt,Mt,_t,Nt,Ft,Tt;const Rt={normal:.8,small:.6},Lt={normal:.9,small:.8},Vt=g(Dt||(Dt=p(["\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),It=g(Mt||(Mt=p(["\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n"]))),Ut=f(fn).attrs((e=>{let{$isVisible:n}=e;return{style:{opacity:n?1:0,visibility:n?"$visible":"hidden"}}}))((e=>{let{$cardSize:n}=e;const t="".concat((e=>Math.floor(12*(Lt[e]||1)))(n),"px"),r="".concat((e=>Math.floor(6*(Rt[e]||1)))(n),"px");return m(_t||(_t=p(["\n    position: absolute;\n    width: ",";\n    right: ",";\n    top: ",";\n    transition: ",";\n    will-change: opacity, visibility;\n    pointer-events: none;\n  "])),t,r,r,ee("opacity","visibility"))})),Wt=f("svg")(Nt||(Nt=p(["\n  width: 100%;\n  animation: "," 2s linear infinite;\n  will-change: transform;\n"])),Vt),Bt=f("circle")(Ft||(Ft=p(["\n  stroke: #fff;\n  stroke-linecap: round;\n  stroke-width: 7;\n  fill: none;\n  animation: "," 1.5s ease-in-out infinite;\n  will-change: stroke-dasharray, stroke-dashoffset;\n"])),It),Ht=e=>{let{size:n,$isVisible:t}=e;return r.createElement(Ut,{$cardSize:n,className:W.spinner,$isVisible:t},Tt||(Tt=r.createElement(Wt,{viewBox:"0 0 50 50"},r.createElement(Bt,{cx:"25",cy:"25",r:"20"}))))};var Xt,At,Kt,qt,Jt;const Gt=32,Qt=37,Yt=39,Zt=77,er=f("div").attrs({className:W.mediaControls})(Xt||(Xt=p(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  transition: ",", ",";\n  will-change: background;\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  ","\n"])),ne("background"),ee("opacity"),(e=>{let{$hasInteracted:n,$isDragging:t,$isPlaying:r}=e;const a="rgba(0, 0, 0, 0.35)",o=n&&!r;return m(At||(At=p(["\n      .",":hover & {\n        background: ",";\n      }\n\n      .",":not(:hover) & {\n        opacity: ",";\n        ",";\n      }\n    "])),W.main,t?"rgba(0, 0, 0, 0.2)":a,W.main,!n||o?1:0,o&&"background: ".concat(a))})),nr=f("div")(Kt||(Kt=p(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n"]))),tr=f("div")(qt||(qt=p(["\n  flex: 1;\n\n  ","\n"])),(e=>{let{$isVisible:n}=e;return!n&&m(Jt||(Jt=p(["\n      *[class*='","']:not(.",") {\n        transition: ",";\n        opacity: 0;\n        visibility: hidden;\n      }\n    "])),W.mediaControls,W.progressTime,ee("opacity","visibility"))})),rr=n=>{let{MediaComponent:t,mediaProps:l}=n;const{props:{autoPlay:u,controls:p,mediaRef:m,muted:f,loop:g,size:h}}=d(le),[b,v]=s(0),[y,w]=s(0),[x,k]=s([]),[$,z]=s(0),[E,S]=s(0),[P,j]=s(u),[C,D]=s(f),[M,N]=s(!1),[F,L]=s(!1),[V,I]=s(!1),[U,B]=s(1),[H,X]=s(u),[A,K]=s(!1),q=a(),J=i((e=>{q.current=e,m&&(O(m)?m(e):m.current=e)}),[m]),G=o((()=>!_(h)),[h]),Q=o((()=>({onCanPlay:()=>N(!1),onLoadedMetadata:e=>v(e.currentTarget.duration),onPause:()=>j(!1),onPlay:()=>j(!0),onPlaying:()=>N(!1),onProgress:e=>k(e.currentTarget.buffered),onRateChange:e=>B(e.currentTarget.playbackRate),onTimeUpdate:e=>w(e.currentTarget.currentTime),onVolumeChange:e=>D(e.currentTarget.muted),onWaiting:e=>N(!0)})),[]),Y=i((e=>{if(q.current){const n=e.currentTarget.getBoundingClientRect(),t=R(Math.floor(e.clientX-n.left),0,n.width);return{cursor:t,time:t/n.width*q.current.duration}}return{cursor:0,time:0}}),[]),Z=i((()=>{q.current&&(q.current.paused?(H||X(!0),q.current.play()):q.current.pause())}),[H]),ee=i((e=>{if(q.current){const n=R(e,0,q.current.duration);q.current.currentTime=n,w(n)}}),[]),ne=i(((e,n)=>{if(e.preventDefault(),e.stopPropagation(),q.current){const{currentTime:e}=q.current;ee("rewind"===n?e-10:e+30)}}),[ee]),te=i((e=>{e.preventDefault(),e.stopPropagation(),q.current&&(q.current.muted=!q.current.muted)}),[]),re=i((e=>{e.preventDefault(),e.stopPropagation(),q.current&&(q.current.playbackRate=(e=>{switch(e){case 1:return 1.25;case 1.25:return 1.5;case 1.5:return 2;default:return 1}})(q.current.playbackRate))}),[]),ae=i((e=>{e.preventDefault(),e.stopPropagation(),I(!1)}),[]),oe=i((e=>{e.preventDefault(),e.stopPropagation(),I(!0);const{time:n}=Y(e);ee(n)}),[Y,ee]),ie=i((()=>L(!0)),[]),ce=i((e=>{e.preventDefault(),e.stopPropagation(),V?I(!1):Z()}),[V,Z]),se=i((e=>{if((V||F)&&q.current){e.preventDefault();const{cursor:n,time:t}=Y(e);S(t),z(n),V&&(q.current.paused||(q.current.pause(),K(!0)),ee(t))}}),[Y,V,F,ee]),de=i((e=>{V&&0===e.buttons&&I(!1)}),[V]),ue=i((e=>{if(V)return;const{keyCode:n}=e;if([Gt,Qt,Yt,Zt].includes(n)&&q.current)switch(e.preventDefault(),n){case Gt:Z();break;case Qt:ee(q.current.currentTime-5);break;case Yt:ee(q.current.currentTime+5);break;case Zt:q.current.muted=!q.current.muted}}),[V,ee,Z]),pe=o((()=>({onClick:ce,onKeyDown:ue,onMouseMove:se,onMouseOut:()=>L(!1),onMouseOver:de})),[ce,ue,se,de]),me=o((()=>H?{title:""}:{}),[H]),fe=o((()=>x&&x.length&&q.current?[...Array(x.length).keys()].map((e=>({start:x.start(e)/q.current.duration,end:x.end(e)/q.current.duration}))):[]),[x]),ge=o((()=>T(y||0)),[y]),he=o((()=>T(b||0)),[b]),be=o((()=>({$cardSize:h,currentTime:ge,endTime:he,isMuted:C,onMuteClick:te,onPlaybackRateClick:re,playbackRate:U})),[ge,he,C,te,re,U,h]),ve=o((()=>({bufferedMedia:fe,cursorX:$,duration:b,hoveredTime:E,$isDragging:V,$isHovering:F,onClick:ae,onMouseDown:oe,onMouseOver:ie,progress:y,showTooltip:V||F})),[fe,$,b,E,V,F,ae,oe,ie,y]);return c((()=>{!V&&A&&q.current&&q.current.paused&&(q.current.play(),K(!1))}),[A,V]),r.createElement(r.Fragment,null,r.createElement(t,e({},l,Q,{ref:J,autoPlay:u,loop:g,muted:f})),p&&r.createElement(er,e({},me,{tabIndex:0,$hasInteracted:H,$isDragging:V,$isPlaying:P},pe),r.createElement(Ht,{size:h,$isVisible:M}),H?r.createElement(r.Fragment,null,r.createElement(tr,{$isVisible:!V},r.createElement(nr,null,G&&r.createElement(Ct,{className:W.rwControl,type:"rewind",$cardSize:h,onClick:e=>ne(e,"rewind")}),r.createElement(Hn,{$cardSize:h,$isPlaying:P}),G&&r.createElement(Ct,{className:W.ffwControl,type:"fastforward",$cardSize:h,onClick:e=>ne(e,"fastforward")})),G&&r.createElement(Dn,be)),r.createElement(bt,ve)):r.createElement(nr,null,r.createElement(Hn,{$cardSize:h}))))};var ar;const or=f("video")(ar||(ar=p(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  &::media-controls-start-playback-button {\n    display: none;\n    appearance: none;\n  }\n"]))),ir={video:n=>{const{state:{imageUrl:t,playsInline:a,videoUrl:i}}=d(le),c=o((()=>{const e={className:"".concat(W.media," ").concat(W.video),src:i,playsInline:a};return t&&(e.poster=N(t)),e}),[t,a,i]);return r.createElement(Ye,e({className:"".concat(W.mediaWrapper," ").concat(W.videoWrapper)},n),r.createElement(rr,{MediaComponent:or,mediaProps:c}))},image:nn,audio:n=>{const{state:{audioUrl:t}}=d(le),a=o((()=>({className:"".concat(W.media," ").concat(W.audio),src:t})),[t]);return r.createElement(nn,e({className:"".concat(W.mediaWrapper," ").concat(W.audioWrapper)},n),r.createElement(rr,{MediaComponent:"audio",mediaProps:a}))}},cr=()=>{const{state:{imageUrl:e,isAudio:n,isVideo:t}}=d(le),[a,o]=s(null!==j(e));const i=((e,n)=>e?"audio":n?"video":"image")(n,t),c=ir[i];return r.createElement(r.Fragment,null,r.createElement(c,{$isLoading:a}),a&&r.createElement(Be,{src:e,onLoad:()=>o(!1)}))},lr=["href","rel","target","as"];var sr,dr,ur,pr,mr;function fr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const hr="382px",br=e=>{let{$backgroundColor:n,color:t}=e;return m(sr||(sr=p(["\n  background-color: ",";\n  border-color: ",";\n  transition-property: filter;\n  will-change: filter;\n\n  &&& {\n    color: ",";\n  }\n\n  &:hover {\n    filter: brightness(90%);\n  }\n"])),n,t,t)},vr=m(dr||(dr=p(["\n  flex-direction: column;\n  height: ",";\n  ",";\n"])),hr,C(ur||(ur=p(["\n    height: calc("," * 7/9);\n  "])),hr)),yr=m(pr||(pr=p(["\n  transition-property: background, border-color;\n  will-change: background, border-color;\n  &:hover {\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\n    border-color: var(--microlink-hover-border-color, #8899a680);\n  }\n"]))),wr=e=>{let{$cardSize:n}=e;return m(mr||(mr=p(["\n  flex-direction: ",";\n"])),M(n)?"column-reverse":"row-reverse")},xr=m((()=>"\n  max-width: var(--microlink-max-width, 500px);\n  background-color: var(--microlink-background-color, #fff);\n  border-width: var(--microlink-border-width, 1px);\n  border-style: var(--microlink-border-style, solid);\n  border-color: var(--microlink-border-color, #e1e8ed);\n  color: var(--microlink-color, #181919);\n  overflow: hidden;\n  font-family: ".concat(te,";\n  display: flex;\n  text-decoration: none;\n  opacity: 1;\n  position: relative;\n  transition-duration: ").concat(G.medium,";\n  transition-timing-function: ").concat(Q.medium,";\n\n  &:active,\n  &:hover {\n    outline: 0;\n  }\n"))),kr=f("a")(xr,(e=>{let{$isLoading:n,contrast:t}=e;return!n&&!t&&yr}),(e=>{let{$cardSize:n}=e;return M(n)&&vr}),(e=>{let{direction:n}=e;return"rtl"===n&&wr}),(e=>{let{$backgroundColor:n,color:t,contrast:r}=e;return r&&t&&n&&br}),(e=>{let{$backgroundColor:n,color:t,contrast:r}=e;return r&&(!t||!n)&&yr})),$r=u(((e,n)=>{let{href:r,rel:a="noopener noreferrer",target:o="_blank",as:i="a"}=e,c=t(e,lr);const{state:{$backgroundColor:s,color:u,title:p},props:{size:m}}=d(le);return l(kr,gr(gr(gr({},"a"===i?{href:r,rel:a,target:o}:void 0),c),{},{$backgroundColor:s,$cardSize:m,color:u,ref:n,title:p}))}));$r.displayName="CardWrap";var zr,Er,Or;const Sr=["className","fetchData","lazy","loading","media","setData","url","apiKey"],Pr=["className","apiKey","autoPlay","controls","direction","lazy","loop","media","fetchData","muted","playsInline","size"];function jr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}const Dr=n=>{const{className:a,fetchData:l,lazy:u,loading:p,media:m,setData:f,url:g,apiKey:h}=n,v=t(n,Sr),y=o((()=>[].concat(m)),[m]),{updateState:w}=d(le),[x,k]=s(!0),[$,z]=s(null),[C,M]=s(!1),_=o((()=>void 0===p),[p]),[N,T]=o((()=>D(Cr(Cr({},n),{},{media:y}))),[y,n]),R=o((()=>F&&(!0===u||S(u))),[u]),L=o((()=>S(u)?u:void 0),[u]),[V,I]=((e,n)=>{const[t,r]=s(!1);return[t,i((t=>{if(e){const e=new IntersectionObserver(((e,n)=>{let[t]=e;t.isIntersecting&&(r(!0),n.unobserve(t.target))}),n);null!==t&&e.observe(t)}else r(!0)}),[e,n])]})(R,L),U=o((()=>!R||R&&V),[R,V]),B=i((e=>{const n=O(f)?f(e):Cr(Cr({},e),f),{title:t,description:r,url:a,video:o,audio:i,image:c,logo:l,iframe:s}=n,d=c||l||{};let u,p,m=d,g=!1,h=!1;const b=((e,n)=>{let t;for(let r=0;r<n.length;r++){const a=n[r],o=e[a];if(!P(o)){t=a;break}}return t})(n,y);switch(b){case"audio":h=!0,p=j(i);break;case"video":g=!0,u=j(o);break;case"iframe":z(s);break;default:m=((e,n)=>e[n.find((n=>!P(e[n])))])(n,y)||d}const v=j(m),{color:x,background_color:$}=m;w({url:a,color:x,title:t,description:r,imageUrl:v,videoUrl:u,audioUrl:p,isVideo:g,isAudio:h,$backgroundColor:$}),k(!1)}),[w,y,f]),H=i((()=>{if(U){k(!0);(l?b(N,T):Promise.resolve({})).then((e=>{let{data:n}=e;return B(n)})).catch((e=>{k(!1),M(!0),console.error("\n┌───────────────┐\n│ Microlink SDK │\n└───────────────┘\n\n".concat(e.description,"\n\n").concat(JSON.stringify(e.data),"\n\nid   ").concat(e.headers["x-request-id"],"\nuri  ").concat(e.url,"\ncode ").concat(e.code," (").concat(e.statusCode,")\n\nmicrolink.io/").concat(e.code.toLowerCase(),"\n"))}))}}),[T,l,N,B,U]);c(H,[g,f,V]);const X=_?x:p;return C?r.createElement("a",e({href:g},v),g):$?(E||$.scripts.forEach((e=>{if(!document.querySelector('script[src="'.concat(e.src,'"]'))){const n=document.createElement("script");Object.keys(e).forEach((t=>n[t]=e[t])),document.body.appendChild(n)}})),r.createElement("div",e({className:W.iframe,dangerouslySetInnerHTML:{__html:$.html}},v))):r.createElement($r,e({className:"".concat(W.main," ").concat(a).trim(),href:g,$isLoading:X,ref:I},v),X?zr||(zr=r.createElement(pn,null)):r.createElement(r.Fragment,null,Er||(Er=r.createElement(cr,null)),Or||(Or=r.createElement(De,null))))},Mr=n=>{let{className:a="",apiKey:o,autoPlay:i=!0,controls:c=!0,direction:l="ltr",lazy:s=!0,loop:d=!0,media:u=["iframe","video","audio","image","logo"],fetchData:p=!0,muted:m=!0,playsInline:f=!0,size:g="normal"}=n,h=t(n,Pr);return r.createElement(se,e({className:a,apiKey:o,autoPlay:i,controls:c,direction:l,lazy:s,loop:d,media:u,fetchData:p,muted:m,playsInline:f,size:g},h),(e=>r.createElement(Dr,e)))};export{Mr as default,D as getApiUrl,N as imageProxy};
//# sourceMappingURL=microlink.min.mjs.map
