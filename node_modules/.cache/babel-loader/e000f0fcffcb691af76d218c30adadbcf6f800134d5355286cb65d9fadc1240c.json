{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport React, { useRef, useMemo, useCallback, useEffect, createElement, useState, useContext, forwardRef } from 'react';\nimport _taggedTemplateLiteral from '@babel/runtime/helpers/taggedTemplateLiteral';\nimport { css, styled, keyframes } from 'styled-components';\nimport { getApiUrl as getApiUrl$1, fetchFromApi } from '@microlink/mql';\nexport { fetchFromApi } from '@microlink/mql';\nconst _excluded$8 = [\"accessibility\", \"debounce\", \"ellipsis\", \"is\", \"lines\", \"text\"];\nfunction ownKeys$4(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread$4(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys$4(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$4(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nconst l = _ref => {\n  let {\n      accessibility: l = !0,\n      debounce: o = 300,\n      ellipsis: u = \"…\",\n      is: c = \"div\",\n      lines: s = 3,\n      text: d\n    } = _ref,\n    v = _objectWithoutProperties(_ref, _excluded$8);\n  const a = useRef(null),\n    f = useRef(\".\"),\n    h = _objectSpread$4(_objectSpread$4({\n      ref: a\n    }, l ? {\n      title: d\n    } : {}), v),\n    g = useMemo(() => \"string\" == typeof d && d.length > 0, [d]),\n    m = useCallback(() => {\n      var e, t, n, r;\n      if (!g) return;\n      const i = e => {\n        f.current = e, null != a.current && (a.current.innerText = e);\n      };\n      i(\".\");\n      const l = ((null !== (t = null === (e = a.current) || void 0 === e ? void 0 : e.clientHeight) && void 0 !== t ? t : 0) + 1) * s + 1,\n        o = \"…\" === u ? 5 : 1.2 * u.length;\n      let c = 0,\n        v = 0,\n        h = d.length;\n      for (; c <= h;) {\n        v = Math.floor((c + h) / 2);\n        if (i(d.slice(0, v)), v === d.length) return;\n        (null !== (r = null === (n = a.current) || void 0 === n ? void 0 : n.clientHeight) && void 0 !== r ? r : 0) <= l ? c = v + 1 : h = v - 1;\n      }\n      i(d.slice(0, Math.max(v - o, 0)).trim() + u);\n    }, [u, g, s, d]);\n  return useEffect(() => {\n    m();\n    const e = ((e, t) => {\n      let n;\n      const r = () => {\n        n = void 0, e();\n      };\n      return () => {\n        const i = null == n;\n        clearTimeout(n), n = setTimeout(r, t), i && e();\n      };\n    })(m, o);\n    return window.addEventListener(\"resize\", e), () => window.removeEventListener(\"resize\", e);\n  }, [m, o]), g ? /*#__PURE__*/createElement(c, h, f.current) : null;\n};\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\nvar src = () => /^https?:\\/\\/(localhost|0|10|127|192(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\\[::1?\\])/gi;\nvar localhostUrl = /*@__PURE__*/getDefaultExportFromCjs(src);\nvar _templateObject$i, _templateObject2$e;\nconst isSSR = typeof window === 'undefined';\nconst castArray = value => [].concat(value);\nconst getPreferredMedia = (data, mediaProps) => {\n  let prefer;\n  for (let index = 0; index < mediaProps.length; index++) {\n    const key = mediaProps[index];\n    const value = data[key];\n    if (!isNil(value)) {\n      prefer = key;\n      break;\n    }\n  }\n  return prefer;\n};\nconst isFunction = fn => typeof fn === 'function';\nconst isObject = obj => typeof obj === 'object';\nconst isNil = value => value == null;\nconst getUrlPath = data => isObject(data) ? data.url : data;\nconst someProp = (data, props) => data[props.find(prop => !isNil(data[prop]))];\nconst media = {\n  mobile: function () {\n    return css(_templateObject$i || (_templateObject$i = _taggedTemplateLiteral([\"\\n    @media (max-width: 48em) {\\n      \", \";\\n    }\\n  \"])), css(...arguments));\n  },\n  desktop: function () {\n    return css(_templateObject2$e || (_templateObject2$e = _taggedTemplateLiteral([\"\\n    @media (min-width: 48em) {\\n      \", \";\\n    }\\n  \"])), css(...arguments));\n  }\n};\nconst getApiUrl = _ref => {\n  let {\n    apiKey,\n    contrast = false,\n    data,\n    endpoint,\n    force,\n    headers,\n    media,\n    prerender,\n    proxy,\n    ttl,\n    url\n  } = _ref;\n  return getApiUrl$1(url, {\n    apiKey,\n    audio: media.includes('audio'),\n    data,\n    endpoint,\n    force,\n    headers,\n    iframe: media.includes('iframe'),\n    palette: contrast,\n    prerender,\n    proxy,\n    screenshot: media.includes('screenshot'),\n    ttl,\n    video: media.includes('video')\n  });\n};\nconst isLarge = cardSize => cardSize === 'large';\nconst isSmall = cardSize => cardSize === 'small';\nconst imageProxy = url => localhostUrl().test(url) ? url : \"https://images.weserv.nl/?\".concat(new URLSearchParams({\n  url,\n  default: url,\n  l: 9,\n  af: '',\n  il: '',\n  n: -1\n}).toString());\nconst isLazySupported = !isSSR && 'IntersectionObserver' in window;\nconst formatSeconds = secs => {\n  const secsToNum = parseInt(secs, 10);\n  const hours = Math.floor(secsToNum / 3600);\n  const minutes = Math.floor(secsToNum / 60) % 60;\n  const seconds = secsToNum % 60;\n  return [hours, minutes, seconds].filter((v, i) => v > 0 || i > 0).map(v => v >= 10 ? v : \"0\".concat(v)).join(':');\n};\nconst clampNumber = (num, min, max) => {\n  switch (true) {\n    case num <= min:\n      return min;\n    case num >= max:\n      return max;\n    default:\n      return num;\n  }\n};\nconst BASE_CLASSNAME = 'microlink_card';\nconst CONTENT_BASE_CLASSNAME = \"\".concat(BASE_CLASSNAME, \"__content\");\nconst MEDIA_BASE_CLASSNAME = \"\".concat(BASE_CLASSNAME, \"__media\");\nconst CONTROLS_BASE_CLASSNAME = \"\".concat(MEDIA_BASE_CLASSNAME, \"__controls\");\nconst classNames = {\n  main: BASE_CLASSNAME,\n  content: CONTENT_BASE_CLASSNAME,\n  title: \"\".concat(CONTENT_BASE_CLASSNAME, \"_title\"),\n  description: \"\".concat(CONTENT_BASE_CLASSNAME, \"_description\"),\n  url: \"\".concat(CONTENT_BASE_CLASSNAME, \"_url\"),\n  mediaWrapper: \"\".concat(MEDIA_BASE_CLASSNAME, \"_wrapper\"),\n  media: MEDIA_BASE_CLASSNAME,\n  image: \"\".concat(MEDIA_BASE_CLASSNAME, \"_image\"),\n  videoWrapper: \"\".concat(MEDIA_BASE_CLASSNAME, \"_video_wrapper\"),\n  video: \"\".concat(MEDIA_BASE_CLASSNAME, \"_video\"),\n  audioWrapper: \"\".concat(MEDIA_BASE_CLASSNAME, \"_audio_wrapper\"),\n  audio: \"\".concat(MEDIA_BASE_CLASSNAME, \"_audio\"),\n  mediaControls: CONTROLS_BASE_CLASSNAME,\n  playbackControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_playback\"),\n  volumeControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_volume\"),\n  rwControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_rewind\"),\n  ffwControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_fast_forward\"),\n  rateControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_rate\"),\n  progressBar: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_progress_bar\"),\n  progressTime: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_progress_time\"),\n  spinner: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_spinner\"),\n  iframe: \"\".concat(BASE_CLASSNAME, \"__iframe\")\n};\nconst _excluded$7 = [\"useNanoClamp\", \"children\"];\nvar _templateObject$h, _templateObject2$d;\nfunction ownKeys$3(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread$3(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys$3(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$3(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nconst Clamp = _ref => {\n  let {\n    children,\n    className,\n    lines\n  } = _ref;\n  return isNil(children) ? null : /*#__PURE__*/React.createElement(l, {\n    className: className,\n    lines: lines,\n    text: children,\n    is: \"p\"\n  });\n};\nconst StyledClamp = styled(Clamp)(_templateObject$h || (_templateObject$h = _taggedTemplateLiteral([\"\\n  &&& {\\n    text-align: inherit;\\n    font-weight: inherit;\\n    font-family: inherit;\\n    color: inherit;\\n    margin: 0;\\n\\n    \", \"\\n  }\\n\"])), _ref2 => {\n  let {\n    $useNanoClamp\n  } = _ref2;\n  return !$useNanoClamp && css(_templateObject2$d || (_templateObject2$d = _taggedTemplateLiteral([\"\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n      \"])));\n});\nconst CardText = _ref3 => {\n  let {\n      useNanoClamp = true,\n      children\n    } = _ref3,\n    props = _objectWithoutProperties(_ref3, _excluded$7);\n  const textProps = useNanoClamp ? props : _objectSpread$3(_objectSpread$3({}, props), {}, {\n    as: 'p',\n    title: children\n  });\n  return /*#__PURE__*/React.createElement(StyledClamp, _extends({\n    $useNanoClamp: useNanoClamp\n  }, textProps), children);\n};\nconst speed = {\n  short: '100ms',\n  medium: '150ms',\n  long: '300ms'\n};\nconst animation = {\n  short: 'cubic-bezier(.25,.8,.25,1)',\n  medium: 'cubic-bezier(.25,.8,.25,1)',\n  long: 'cubic-bezier(.4, 0, .2, 1)'\n};\nconst createTransition = (properties, s) => {\n  const suffix = \"\".concat(speed[s], \" \").concat(animation[s]);\n  return properties.map(property => \"\".concat(property, \" \").concat(suffix)).join(', ');\n};\nconst transition = {\n  short: function () {\n    for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n      properties[_key] = arguments[_key];\n    }\n    return createTransition(properties, 'short');\n  },\n  medium: function () {\n    for (var _len2 = arguments.length, properties = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      properties[_key2] = arguments[_key2];\n    }\n    return createTransition(properties, 'medium');\n  },\n  long: function () {\n    for (var _len3 = arguments.length, properties = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      properties[_key3] = arguments[_key3];\n    }\n    return createTransition(properties, 'long');\n  }\n};\n\n// https://primer.style/design/foundations/typography\nconst font = {\n  sans: \"InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif\",\n  mono: \"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace\"\n};\nconst _excluded$6 = [\"autoPlay\", \"children\", \"controls\", \"loop\", \"mediaRef\", \"muted\", \"playsInline\", \"size\"];\nfunction ownKeys$2(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread$2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys$2(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$2(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nconst initialState = {};\nconst GlobalContext = /*#__PURE__*/React.createContext(initialState);\nconst GlobalState = _ref => {\n  let {\n      autoPlay,\n      children,\n      controls,\n      loop,\n      mediaRef,\n      muted,\n      playsInline,\n      size\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded$6);\n  const [state, setState] = useState(initialState);\n  const updateState = useCallback(newState => setState(currentState => _objectSpread$2(_objectSpread$2({}, currentState), newState)), []);\n  const props = useMemo(() => ({\n    autoPlay,\n    controls,\n    loop,\n    mediaRef,\n    muted,\n    playsInline,\n    size\n  }), [autoPlay, controls, loop, mediaRef, muted, playsInline, size]);\n  const values = useMemo(() => ({\n    props,\n    state,\n    updateState\n  }), [props, state, updateState]);\n  return /*#__PURE__*/React.createElement(GlobalContext.Provider, {\n    value: values\n  }, children(rest));\n};\nvar _templateObject$g, _templateObject2$c, _templateObject3$b, _templateObject4$9, _templateObject5$6, _templateObject6$2, _templateObject7$2, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12;\nconst REGEX_STRIP_WWW = /^www\\./;\nconst BADGE_WIDTH = '16px';\nconst BADGE_HEIGHT = '12px';\nconst getHostname = href => {\n  if (isNil(href)) return '';\n  const {\n    hostname\n  } = new URL(href);\n  return hostname.replace(REGEX_STRIP_WWW, '');\n};\nconst mobileDescriptionStyle = css(_templateObject$g || (_templateObject$g = _taggedTemplateLiteral([\"\\n  \", \";\\n\"])), media.mobile(_templateObject2$c || (_templateObject2$c = _taggedTemplateLiteral([\"\\n    > p {\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      white-space: nowrap;\\n    }\\n  \"]))));\nconst Content = styled('div').attrs({\n  className: classNames.content\n})(_templateObject3$b || (_templateObject3$b = _taggedTemplateLiteral([\"\\n  display: flex;\\n  padding: 10px 15px;\\n  min-width: 0;\\n  box-sizing: border-box;\\n  \", \";\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return css(_templateObject4$9 || (_templateObject4$9 = _taggedTemplateLiteral([\"\\n    flex: \", \";\\n    justify-content: \", \";\\n    flex-direction: \", \";\\n    align-items: \", \";\\n  \"])), !isLarge($cardSize) ? 1 : '0 0 125px', !isSmall($cardSize) ? 'space-around' : 'space-between', !isSmall($cardSize) ? 'column' : 'row', !isSmall($cardSize) ? 'stretch' : 'center');\n});\nconst Header = styled('header').attrs({\n  className: classNames.title\n})(_templateObject5$6 || (_templateObject5$6 = _taggedTemplateLiteral([\"\\n  text-align: left;\\n  font-weight: bold;\\n  margin: 0;\\n  width: 100%;\\n  \", \"\\n\"])), _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return css(_templateObject6$2 || (_templateObject6$2 = _taggedTemplateLiteral([\"\\n    flex-grow: \", \";\\n    font-size: \", \";\\n\\n    \", \"\\n  \"])), !isSmall($cardSize) ? 1.2 : 0.8, !isSmall($cardSize) ? '16px' : '15px', isSmall($cardSize) && css(_templateObject7$2 || (_templateObject7$2 = _taggedTemplateLiteral([\"\\n      min-width: 0;\\n      padding-right: 14px;\\n    \"]))));\n});\nconst Description = styled('div').attrs({\n  className: classNames.description\n})(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  text-align: left;\\n  font-size: 14px;\\n  flex-grow: 2;\\n  margin: auto 0;\\n  line-height: 18px;\\n  font-weight: normal;\\n  \", \";\\n\"])), _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return !isLarge($cardSize) && mobileDescriptionStyle;\n});\nconst Footer = styled('footer').attrs({\n  className: classNames.url\n})(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  text-align: left;\\n  margin: 0;\\n  flex-grow: 0;\\n  font-weight: normal;\\n  \", \";\\n\"])), _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return css(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n    font-size: \", \";\\n    \", \"\\n  \"])), !isSmall($cardSize) ? '12px' : '10px', !isSmall($cardSize) && 'width: 100%;');\n});\nconst Author = styled(CardText)(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  opacity: 0.75;\\n  transition: \", \";\\n  will-change: opacity;\\n\\n  .\", \":hover & {\\n    opacity: 1;\\n  }\\n\"])), transition.medium('opacity'), classNames.main);\nconst PoweredBy = styled('span').attrs({\n  title: 'microlink.io'\n})(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\\n    center;\\n  display: block;\\n  margin-left: 15px;\\n  transition: \", \";\\n  will-change: filter, opacity;\\n  &:not(:hover) {\\n    filter: grayscale(100%);\\n    opacity: 0.75;\\n  }\\n\\n  min-width: \", \";\\n  width: \", \";\\n  background-size: \", \";\\n  height: \", \";\\n\"])), transition.medium('filter', 'opacity'), BADGE_WIDTH, BADGE_WIDTH, BADGE_WIDTH, BADGE_HEIGHT);\nconst CardContent = () => {\n  const {\n    state: {\n      description,\n      title,\n      url\n    },\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  const isSmallCard = isSmall(size);\n  const formattedUrl = useMemo(() => getHostname(url), [url]);\n  const handleOnClick = useCallback(e => {\n    e.preventDefault();\n    window.open('https://www.microlink.io', '_blank');\n  }, []);\n  return /*#__PURE__*/React.createElement(Content, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(Header, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(CardText, {\n    $useNanoClamp: false\n  }, title)), !isSmallCard && /*#__PURE__*/React.createElement(Description, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(CardText, {\n    lines: 2\n  }, description)), /*#__PURE__*/React.createElement(Footer, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(Author, {\n    $useNanoClamp: false\n  }, formattedUrl), /*#__PURE__*/React.createElement(PoweredBy, {\n    onClick: handleOnClick\n  })));\n};\nvar _templateObject$f, _templateObject2$b, _templateObject3$a, _templateObject4$8;\nconst emptyStatePulse = keyframes(_templateObject$f || (_templateObject$f = _taggedTemplateLiteral([\"\\n  0% {\\n    background: #e1e8ed;\\n  }\\n  70% {\\n    background: #cdd4d8;\\n  }\\n  100% {\\n    background: #e1e8ed;\\n  }\\n\"])));\nconst emptyStateImagePulse = keyframes(_templateObject2$b || (_templateObject2$b = _taggedTemplateLiteral([\"\\n  0% {\\n    background: #e1e8ed;\\n  }\\n  70% {\\n    background: #dce3e8;\\n  }\\n  100% {\\n    background: #e1e8ed;\\n  }\\n\"])));\nconst emptyStateAnimation = css(_templateObject3$a || (_templateObject3$a = _taggedTemplateLiteral([\"\\n  animation: \", \" .75s linear infinite;\\n\"])), emptyStatePulse);\nconst emptyStateImageAnimation = css(_templateObject4$8 || (_templateObject4$8 = _taggedTemplateLiteral([\"\\n  animation: \", \" 1.25s linear infinite;\\n\"])), emptyStateImagePulse);\nvar _templateObject$e, _templateObject2$a, _templateObject3$9;\nconst ImageLoadCatcher = styled('img')(_templateObject$e || (_templateObject$e = _taggedTemplateLiteral([\"\\n  height: 1px;\\n  width: 1px;\\n  position: absolute;\\n  z-index: -1;\\n\"])));\nconst loadingOverlay = css(_templateObject2$a || (_templateObject2$a = _taggedTemplateLiteral([\"\\n  &::after {\\n    content: '';\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    background: #e1e8ed;\\n    z-index: 1;\\n    transition: \", \";\\n    will-change: opacity;\\n\\n    \", \";\\n  }\\n\"])), transition.medium('opacity', 'visibility'), _ref => {\n  let {\n    $isLoading\n  } = _ref;\n  return css(_templateObject3$9 || (_templateObject3$9 = _taggedTemplateLiteral([\"\\n      opacity: \", \";\\n      visibility: \", \";\\n    \"])), $isLoading ? 1 : 0, $isLoading ? '$visible' : 'hidden');\n});\nvar _templateObject$d, _templateObject2$9, _templateObject3$8, _templateObject4$7, _templateObject5$5;\nconst mediaSizeStyles = {\n  small: css(_templateObject$d || (_templateObject$d = _taggedTemplateLiteral([\"\\n    flex: 0 0 48px;\\n  \"]))),\n  normal: css(_templateObject2$9 || (_templateObject2$9 = _taggedTemplateLiteral([\"\\n    flex: 0 0 125px;\\n\\n    \", \"\\n  \"])), media.mobile(_templateObject3$8 || (_templateObject3$8 = _taggedTemplateLiteral([\"\\n      flex: 0 0 92px;\\n    \"])))),\n  large: css(_templateObject4$7 || (_templateObject4$7 = _taggedTemplateLiteral([\"\\n    flex: 1;\\n\\n    &::before {\\n      padding-bottom: 0;\\n    }\\n  \"])))\n};\nconst StyledWrap = styled('div')(_templateObject5$5 || (_templateObject5$5 = _taggedTemplateLiteral([\"\\n  background: transparent no-repeat center center / cover;\\n  display: block;\\n  overflow: hidden;\\n  height: auto;\\n  position: relative;\\n\\n  &::before {\\n    content: '';\\n    padding-bottom: 100%;\\n    display: block;\\n  }\\n\\n  \", \";\\n\\n  \", \";\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return mediaSizeStyles[$cardSize];\n}, loadingOverlay);\nconst Wrap$1 = props => {\n  const {\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  return /*#__PURE__*/React.createElement(StyledWrap, _extends({\n    $cardSize: size\n  }, props));\n};\nvar _templateObject$c;\nconst ImageWrap = styled(Wrap$1).attrs({\n  className: \"\".concat(classNames.media, \" \").concat(classNames.image)\n})(_templateObject$c || (_templateObject$c = _taggedTemplateLiteral([\"\\n  background-image: \", \";\\n\"])), _ref => {\n  let {\n    url\n  } = _ref;\n  return url ? \"url('\".concat(imageProxy(url), \"')\") : '';\n});\nconst ImageComponent = props => {\n  const {\n    state: {\n      imageUrl\n    }\n  } = useContext(GlobalContext);\n  return /*#__PURE__*/React.createElement(ImageWrap, _extends({\n    url: imageUrl\n  }, props));\n};\nvar _templateObject$b, _templateObject2$8, _templateObject3$7, _templateObject4$6, _FooterEmpty;\nconst MediaEmpty = styled(ImageComponent)(_templateObject$b || (_templateObject$b = _taggedTemplateLiteral([\"\\n  \", \";\\n\"])), emptyStateImageAnimation);\nconst HeaderEmpty = styled('span')(_templateObject2$8 || (_templateObject2$8 = _taggedTemplateLiteral([\"\\n  opacity: 0.8;\\n  height: 16px;\\n  width: \", \";\\n  display: block;\\n  background: #e1e8ed;\\n  margin: \", \";\\n  \", \";\\n\\n  \", \";\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return !isSmall($cardSize) ? '60%' : '75%';\n}, _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return !isSmall($cardSize) ? '2px 0 8px' : '0 20px 0 0';\n}, emptyStateAnimation, _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return !isLarge($cardSize) && \"\\n    height: 15px;\\n  \";\n});\nconst DescriptionEmpty = styled('span')(_templateObject3$7 || (_templateObject3$7 = _taggedTemplateLiteral([\"\\n  opacity: 0.8;\\n  height: 14px;\\n  width: 95%;\\n  display: block;\\n  position: relative;\\n  \", \";\\n  animation-delay: 0.125s;\\n\"])), emptyStateAnimation);\nconst FooterEmpty = styled('span')(_templateObject4$6 || (_templateObject4$6 = _taggedTemplateLiteral([\"\\n  opacity: 0.8;\\n  height: 12px;\\n  width: 30%;\\n  display: block;\\n  \", \" animation-delay: .25s;\\n\\n  \", \";\\n\"])), emptyStateAnimation, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return !isLarge($cardSize) && \"\\n    height: 10px;\\n  \";\n});\nconst CardEmptyState = () => {\n  const {\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  const isSmallCard = isSmall(size);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaEmpty, {\n    $cardSize: size\n  }), /*#__PURE__*/React.createElement(Content, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(HeaderEmpty, {\n    $cardSize: size\n  }), !isSmallCard ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DescriptionEmpty, {\n    $cardSize: size\n  }), /*#__PURE__*/React.createElement(DescriptionEmpty, {\n    $cardSize: size,\n    style: {\n      marginBottom: '12px'\n    }\n  })) : null, _FooterEmpty || (_FooterEmpty = /*#__PURE__*/React.createElement(FooterEmpty, null))));\n};\nvar _templateObject$a;\nconst MediaButton = styled('div')(_templateObject$a || (_templateObject$a = _taggedTemplateLiteral([\"\\n  backface-visibility: hidden;\\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\\n  transition: \", \";\\n  will-change: transform;\\n\\n  > svg {\\n    display: block;\\n  }\\n\\n  &:active:not(:focus) {\\n    transform: scale(0.9);\\n  }\\n\"])), transition.short('transform'));\nvar _path$2, _path2$2, _templateObject$9, _templateObject2$7, _templateObject3$6, _templateObject4$5, _templateObject5$4, _templateObject6$1, _templateObject7$1;\nconst VolumeMute = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 14 14\"\n}, props), _path$2 || (_path$2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z\",\n  transform: \"translate(-1 -1)\"\n})));\nconst VolumeUp = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 14 14\"\n}, props), _path2$2 || (_path2$2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z\",\n  transform: \"translate(-1 -1)\"\n})));\nconst BottomControls = styled('div')(_templateObject$9 || (_templateObject$9 = _taggedTemplateLiteral([\"\\n  z-index: 2;\\n  position: absolute;\\n  bottom: \", \"px;\\n  left: 0;\\n  right: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  transition: \", \";\\n  will-change: opacity;\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return isLarge($cardSize) ? 18 : 14;\n}, transition.medium('opacity'));\nconst VolumeIcon = styled('svg')(_templateObject2$7 || (_templateObject2$7 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n\"])));\nconst VolumeButton = styled(MediaButton).attrs({\n  className: classNames.volumeControl\n})(_templateObject3$6 || (_templateObject3$6 = _taggedTemplateLiteral([\"\\n  \", \" {\\n    width: \", \"px;\\n    height: \", \"px;\\n\\n    \", \"\\n  }\\n\"])), VolumeIcon, _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return isLarge($cardSize) ? 16 : 14;\n}, _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return isLarge($cardSize) ? 16 : 14;\n}, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return !isLarge($cardSize) && media.mobile(_templateObject4$5 || (_templateObject4$5 = _taggedTemplateLiteral([\"\\n      width: 12px;\\n      height: 12px;\\n    \"])));\n});\nconst PlaybackRateButton = styled(MediaButton).attrs({\n  className: classNames.rateControl\n})(_templateObject5$4 || (_templateObject5$4 = _taggedTemplateLiteral([\"\\n  font-size: \", \"px;\\n  min-width: \", \"px;\\n  line-height: 1;\\n  font-weight: bold;\\n  border: 1.5px solid #fff;\\n  border-radius: 9999px;\\n  padding: 1px 5px;\\n  text-align: center;\\n  color: #fff;\\n  margin-left: 10px;\\n\\n  \", \"\\n\"])), _ref5 => {\n  let {\n    $cardSize\n  } = _ref5;\n  return isLarge($cardSize) ? 12 : 10;\n}, _ref6 => {\n  let {\n    $cardSize\n  } = _ref6;\n  return isLarge($cardSize) ? 33 : 28;\n}, _ref7 => {\n  let {\n    $cardSize\n  } = _ref7;\n  return !isLarge($cardSize) && media.mobile(_templateObject6$1 || (_templateObject6$1 = _taggedTemplateLiteral([\"\\n    font-size: 8px;\\n    margin-left: 8px;\\n    min-width: 23px;\\n  \"])));\n});\nconst TimeLabel = styled('span').attrs({\n  className: classNames.progressTime\n})(_templateObject7$1 || (_templateObject7$1 = _taggedTemplateLiteral([\"\\n  margin: \", \";\\n  font-family: \", \";\\n  font-size: 12px;\\n  padding: 0 16px;\\n  color: #fff;\\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\\n\"])), _ref8 => {\n  let {\n    $right\n  } = _ref8;\n  return !$right ? '0 auto 0 0' : '0 0 0 auto';\n}, font.mono);\nconst FooterControls = _ref9 => {\n  let {\n    $cardSize,\n    currentTime,\n    endTime,\n    isMuted,\n    onMuteClick,\n    onPlaybackRateClick,\n    playbackRate\n  } = _ref9;\n  const VolumeComponent = useMemo(() => isMuted ? VolumeMute : VolumeUp, [isMuted]);\n  const isLargeCard = useMemo(() => isLarge($cardSize), [$cardSize]);\n  return /*#__PURE__*/React.createElement(BottomControls, {\n    $cardSize: $cardSize\n  }, isLargeCard && /*#__PURE__*/React.createElement(TimeLabel, null, currentTime), /*#__PURE__*/React.createElement(VolumeButton, {\n    title: isMuted ? 'Unmute' : 'Mute',\n    $cardSize: $cardSize,\n    onClick: onMuteClick\n  }, /*#__PURE__*/React.createElement(VolumeIcon, {\n    as: VolumeComponent\n  })), /*#__PURE__*/React.createElement(PlaybackRateButton, {\n    title: \"Playback Rate\",\n    $cardSize: $cardSize,\n    onClick: onPlaybackRateClick\n  }, /*#__PURE__*/React.createElement(\"span\", null, playbackRate, \"x\")), isLargeCard && /*#__PURE__*/React.createElement(TimeLabel, {\n    $right: true\n  }, endTime));\n};\nconst _excluded$5 = [\"$isPlaying\"];\nvar _path$1, _path2$1, _templateObject$8, _templateObject2$6, _templateObject3$5, _templateObject4$4;\nconst Pause = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 16 20\"\n}, props), _path$1 || (_path$1 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z\",\n  transform: \"translate(-8 -6)\"\n})));\nconst Play = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 21 24\"\n}, props), _path2$1 || (_path2$1 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z\",\n  transform: \"translate(-6 -4)\"\n})));\nconst iconSizes = {\n  large: '50px',\n  normal: '35px',\n  small: '20px'\n};\nconst PlaybackIcon = styled('svg')(_templateObject$8 || (_templateObject$8 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n\"])));\nconst PlaybackButtonWrap = styled(MediaButton).attrs({\n  className: classNames.playbackControl\n})(_templateObject2$6 || (_templateObject2$6 = _taggedTemplateLiteral([\"\\n  \", \" {\\n    \", \"\\n  }\\n\"])), PlaybackIcon, _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return css(_templateObject3$5 || (_templateObject3$5 = _taggedTemplateLiteral([\"\\n      width: \", \";\\n      height: \", \";\\n      padding: \", \";\\n\\n      \", \"\\n    \"])), iconSizes[$cardSize], iconSizes[$cardSize], isLarge($cardSize) ? 0 : '8px', !isLarge($cardSize) && !isSmall($cardSize) && media.mobile(_templateObject4$4 || (_templateObject4$4 = _taggedTemplateLiteral([\"\\n        width: calc(\", \" * 1.2);\\n        height: calc(\", \" * 1.2);\\n      \"])), iconSizes.small, iconSizes.small));\n});\nconst PlaybackButton = _ref2 => {\n  let {\n      $isPlaying\n    } = _ref2,\n    props = _objectWithoutProperties(_ref2, _excluded$5);\n  const PlaybackComponent = useMemo(() => $isPlaying ? Pause : Play, [$isPlaying]);\n  return /*#__PURE__*/React.createElement(PlaybackButtonWrap, _extends({\n    title: $isPlaying ? 'Pause' : 'Play'\n  }, props), /*#__PURE__*/React.createElement(PlaybackIcon, {\n    as: PlaybackComponent\n  }));\n};\nvar _templateObject$7, _templateObject2$5;\nconst SCRUBBER_SIZE = 12;\nconst scrubberSizeScales = {\n  normal: 0.8,\n  small: 0.9\n};\nconst getScrubberSize = size => Math.floor(SCRUBBER_SIZE * (scrubberSizeScales[size] || 1));\nconst Scrubber = styled('div').attrs(_ref => {\n  let {\n    $isVisible,\n    $positionX\n  } = _ref;\n  return {\n    style: {\n      left: $positionX,\n      transform: \"scale(\".concat($isVisible ? 1 : 0.5, \") translate(-50%, -50%)\"),\n      opacity: $isVisible ? 1 : 0,\n      visibility: $isVisible ? '$visible' : 'hidden'\n    }\n  };\n})(_templateObject$7 || (_templateObject$7 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 50%;\\n  background: #ffffff;\\n  border-radius: 50%;\\n  transform-origin: center center;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\\n  transition: \", \";\\n  will-change: left, transform, opacity, visibility;\\n  backface-visibility: hidden;\\n  z-index: 3;\\n\\n  \", \"\\n\"])), transition.short('transform', 'opacity', 'visibility'), _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  const scrubberSize = getScrubberSize($cardSize);\n  return css(_templateObject2$5 || (_templateObject2$5 = _taggedTemplateLiteral([\"\\n      height: \", \"px;\\n      width: \", \"px;\\n    \"])), scrubberSize, scrubberSize);\n});\nconst _excluded$4 = [\"$isDragging\", \"$isVisible\", \"label\", \"$positionX\", \"size\"];\nvar _templateObject$6;\nconst BASE_FONT_SIZE = 11;\nconst sizeScales$1 = {\n  normal: 0.8\n};\nconst getMarkerFontSize = size => BASE_FONT_SIZE * (sizeScales$1[size] || 1);\nconst TooltipBase = styled('span').attrs(_ref => {\n  let {\n    $position,\n    $isDragging,\n    $visible\n  } = _ref;\n  return {\n    style: {\n      left: \"\".concat($position, \"px\"),\n      top: $visible ? '-4px' : '0px',\n      visibility: $visible ? '$visible' : 'hidden',\n      opacity: $visible ? 1 : 0,\n      transform: \"translate(-50%, \".concat(!$isDragging ? -100 : -110, \"%)\")\n    }\n  };\n})(_templateObject$6 || (_templateObject$6 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  background: rgba(24, 25, 25, 0.75);\\n  color: #fff;\\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\\n  padding: 2px 3px;\\n  border-radius: 4px;\\n  font-family: \", \";\\n  font-size: \", \"px;\\n  line-height: 1;\\n  transition: \", \",\\n    \", \";\\n  will-change: top, left, visibility, opacity, transform;\\n  backface-visibility: hidden;\\n\"])), font.mono, _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return getMarkerFontSize($cardSize);\n}, transition.medium('opacity', 'visibility', 'transform'), transition.long('top'));\nconst Tooltip = /*#__PURE__*/forwardRef((_ref3, ref) => {\n  let {\n      $isDragging,\n      $isVisible,\n      label,\n      $positionX,\n      size\n    } = _ref3,\n    props = _objectWithoutProperties(_ref3, _excluded$4);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TooltipBase, _extends({\n    $visible: $isVisible,\n    $position: $positionX,\n    $cardSize: size,\n    ref: ref,\n    $isDragging: $isDragging\n  }, props), label));\n});\nTooltip.displayName = 'Tooltip';\nconst _excluded$3 = [\"key\"];\nvar _templateObject$5, _templateObject2$4, _templateObject3$4, _templateObject4$3, _templateObject5$3, _templateObject6, _templateObject7;\nconst HEIGHT$1 = 6;\nconst PADDING = 6;\nconst heightScales = {\n  normal: 0.7,\n  small: 0.6\n};\nconst activeHeightScales = {\n  small: 0.9,\n  large: 1.4\n};\nconst getProgressBarHeight = size => Math.floor(HEIGHT$1 * (heightScales[size] || 1));\nconst getProgressBarActiveHeight = size => Math.floor(HEIGHT$1 * (activeHeightScales[size] || 1));\nconst OuterWrap$1 = styled('div').attrs(() => ({\n  className: classNames.progressBar\n}))(_templateObject$5 || (_templateObject$5 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  padding: \", \"px \", \"px \", \"px;\\n  z-index: 2;\\n  backface-visibility: hidden;\\n\"])), PADDING, PADDING / 2, PADDING / 2);\nconst BarsWrap = styled('div').attrs(_ref => {\n  let {\n    $cardSize,\n    $isDragging\n  } = _ref;\n  if ($isDragging) {\n    const activeHeight = getProgressBarActiveHeight($cardSize);\n    return {\n      style: {\n        height: \"\".concat(activeHeight, \"px\")\n      }\n    };\n  }\n  return {};\n})(_templateObject2$4 || (_templateObject2$4 = _taggedTemplateLiteral([\"\\n  background: transparent;\\n  border-radius: 9999px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\\n  background: rgba(255, 255, 255, 0.15);\\n  transition: \", \";\\n  will-change: height;\\n  pointer-events: none;\\n  position: relative;\\n\\n  \", \"\\n\"])), transition.short('height'), _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  const height = getProgressBarHeight($cardSize);\n  const activeHeight = getProgressBarActiveHeight($cardSize);\n  return css(_templateObject3$4 || (_templateObject3$4 = _taggedTemplateLiteral([\"\\n      height: \", \"px;\\n\\n      \", \":hover & {\\n        height: \", \"px;\\n      }\\n    \"])), height, OuterWrap$1, activeHeight);\n});\nconst ProgressLine = styled('div')(_templateObject4$3 || (_templateObject4$3 = _taggedTemplateLiteral([\"\\n  border-radius: inherit;\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;\\n\"])));\nconst ProgressMask = styled('div').attrs(_ref3 => {\n  let {\n    $maskScale\n  } = _ref3;\n  return {\n    style: {\n      transform: \"scaleX(\".concat($maskScale, \")\")\n    }\n  };\n})(_templateObject5$3 || (_templateObject5$3 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  top: -50%;\\n  height: 200%;\\n  width: 100%;\\n  background: #ffffff;\\n  transform-origin: left center;\\n  will-change: transform;\\n\"])));\nconst ProgressHover = styled('div').attrs(_ref4 => {\n  let {\n    $cursorRatio,\n    $isHovering,\n    $progressPercent\n  } = _ref4;\n  return {\n    style: {\n      left: $progressPercent,\n      transform: \"scaleX(\".concat($cursorRatio, \")\"),\n      opacity: $isHovering ? 1 : 0,\n      visibility: $isHovering ? '$visible' : 'hidden'\n    }\n  };\n})(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(255, 255, 255, 0.4);\\n  transform-origin: left center;\\n  transition: \", \";\\n  will-change: left, transform, opacity, $visible;\\n\"])), transition.short('opacity', 'visibility'));\nconst BufferedChunk = styled('div').attrs(_ref5 => {\n  let {\n    start,\n    end\n  } = _ref5;\n  return {\n    style: {\n      left: \"\".concat(start, \"px\"),\n      right: \"\".concat(end, \"px\")\n    }\n  };\n})(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.35);\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n\"])));\nconst ProgressBar = _ref6 => {\n  let {\n    bufferedMedia,\n    cursorX,\n    duration,\n    hoveredTime,\n    $isDragging,\n    $isHovering,\n    onClick,\n    onMouseDown,\n    onMouseOver,\n    progress,\n    showTooltip\n  } = _ref6;\n  const {\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  const wrapRef = useRef();\n  const tooltipRef = useRef();\n  const isSmallCard = useMemo(() => isSmall(size), [size]);\n  const getWrapWidth = useCallback(() => {\n    if (wrapRef.current) {\n      return wrapRef.current.getBoundingClientRect().width - PADDING;\n    }\n    return 0;\n  }, []);\n  const progressRatio = useMemo(() => clampNumber(progress / duration, 0, 1), [duration, progress]);\n  const $progressPercent = useMemo(() => \"\".concat(clampNumber(progressRatio * 100, 1, 99), \"%\"), [progressRatio]);\n  const $cursorRatio = useMemo(() => {\n    if (wrapRef.current) {\n      const wrapWidth = getWrapWidth();\n      const startPoint = progressRatio * wrapWidth;\n      const cursorPosition = cursorX - startPoint;\n      const width = wrapWidth - startPoint;\n      if (cursorPosition > 0) {\n        return clampNumber((cursorPosition / width).toFixed(3), 0, 0.99);\n      }\n    }\n    return 0;\n  }, [cursorX, getWrapWidth, progressRatio]);\n  const bufferedMediaChunks = useMemo(() => {\n    const wrapWidth = getWrapWidth();\n    return bufferedMedia.map((chunk, key) => {\n      const start = chunk.start * wrapWidth;\n      const end = wrapWidth - chunk.end * wrapWidth;\n      return {\n        key,\n        start,\n        end\n      };\n    });\n  }, [bufferedMedia, getWrapWidth]);\n  const tooltipLabel = useMemo(() => formatSeconds(hoveredTime), [hoveredTime]);\n  const tooltipPositionX = useMemo(() => {\n    if (wrapRef.current && tooltipRef.current) {\n      const wrapWidth = getWrapWidth();\n      const tooltipWidth = tooltipRef.current.getBoundingClientRect().width;\n      const tooltipHalf = tooltipWidth / 2;\n      return clampNumber(cursorX, tooltipHalf, wrapWidth - tooltipHalf);\n    }\n    return 0;\n  }, [cursorX, getWrapWidth]);\n  const mouseEvents = useMemo(() => ({\n    onClick,\n    onMouseDown,\n    onMouseOver\n  }), [onClick, onMouseDown, onMouseOver]);\n  const showAccessories = useMemo(() => $isDragging || $isHovering, [$isDragging, $isHovering]);\n  return /*#__PURE__*/React.createElement(OuterWrap$1, _extends({\n    $cardSize: size,\n    ref: wrapRef\n  }, mouseEvents), /*#__PURE__*/React.createElement(BarsWrap, {\n    $cardSize: size,\n    $isDragging: $isDragging\n  }, /*#__PURE__*/React.createElement(ProgressLine, null, /*#__PURE__*/React.createElement(ProgressHover, {\n    $cursorRatio: $cursorRatio,\n    $isHovering: $isHovering,\n    $progressPercent: $progressPercent\n  }), bufferedMediaChunks.map(_ref7 => {\n    let {\n        key\n      } = _ref7,\n      chunk = _objectWithoutProperties(_ref7, _excluded$3);\n    return /*#__PURE__*/React.createElement(BufferedChunk, _extends({\n      key: key\n    }, chunk));\n  }), /*#__PURE__*/React.createElement(ProgressMask, {\n    $maskScale: progressRatio\n  })), /*#__PURE__*/React.createElement(Scrubber, {\n    $cardSize: size,\n    $isVisible: showAccessories,\n    $positionX: $progressPercent\n  }), !isSmallCard && /*#__PURE__*/React.createElement(Tooltip, {\n    $isDragging: $isDragging,\n    $isVisible: showAccessories,\n    label: tooltipLabel,\n    $positionX: tooltipPositionX,\n    ref: tooltipRef,\n    size: size\n  })));\n};\nvar _path, _path2, _templateObject$4, _templateObject2$3, _templateObject3$3;\nconst _excluded$2 = [\"$cardSize\"],\n  _excluded2$1 = [\"$cardSize\"],\n  _excluded3 = [\"type\", \"$cardSize\"];\nconst Backward = _ref => {\n  let props = _objectWithoutProperties(_ref, _excluded$2);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 29\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    d: \"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z\",\n    transform: \"translate(-4 -1)\"\n  })));\n};\nconst Forward = _ref2 => {\n  let props = _objectWithoutProperties(_ref2, _excluded2$1);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 29\"\n  }, props), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    d: \"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z\",\n    transform: \"translate(-4 -1)\"\n  })));\n};\nconst SeekIcon = styled('svg')(_templateObject$4 || (_templateObject$4 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n  width: \", \"px;\\n  height: \", \"px;\\n\\n  \", \"\\n\"])), _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return isLarge($cardSize) ? 30 : 24;\n}, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return isLarge($cardSize) ? 30 : 24;\n}, _ref5 => {\n  let {\n    $cardSize\n  } = _ref5;\n  return !isLarge($cardSize) && media.mobile(_templateObject2$3 || (_templateObject2$3 = _taggedTemplateLiteral([\"\\n    width: 0;\\n    height: 0;\\n  \"])));\n});\nconst SeekButtonWrap = styled(MediaButton)(_templateObject3$3 || (_templateObject3$3 = _taggedTemplateLiteral([\"\\n  margin: 0 \", \";\\n\"])), _ref6 => {\n  let {\n    $cardSize\n  } = _ref6;\n  return isLarge($cardSize) ? '28px' : '3px';\n});\nconst SeekButton = _ref7 => {\n  let {\n      type = 'rewind',\n      $cardSize\n    } = _ref7,\n    props = _objectWithoutProperties(_ref7, _excluded3);\n  const IconComponent = useMemo(() => type === 'rewind' ? Backward : Forward, [type]);\n  return /*#__PURE__*/React.createElement(SeekButtonWrap, _extends({\n    title: type === 'rewind' ? 'Rewind' : 'Forward',\n    $cardSize: $cardSize\n  }, props), /*#__PURE__*/React.createElement(SeekIcon, {\n    as: IconComponent,\n    $cardSize: $cardSize\n  }));\n};\nvar _templateObject$3, _templateObject2$2, _templateObject3$2, _templateObject4$2, _templateObject5$2, _Svg;\nconst BASE_SIZE = 12;\nconst BASE_OFFSET = 6;\nconst offsetScales = {\n  normal: 0.8,\n  small: 0.6\n};\nconst sizeScales = {\n  normal: 0.9,\n  small: 0.8\n};\nconst getSpinnerOffset = size => Math.floor(BASE_OFFSET * (offsetScales[size] || 1));\nconst getSpinnerSize = size => Math.floor(BASE_SIZE * (sizeScales[size] || 1));\nconst rotate = keyframes(_templateObject$3 || (_templateObject$3 = _taggedTemplateLiteral([\"\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n\"])));\nconst dash = keyframes(_templateObject2$2 || (_templateObject2$2 = _taggedTemplateLiteral([\"\\n  0% {\\n    stroke-dasharray: 1, 150;\\n    stroke-dashoffset: 0;\\n  }\\n  50% {\\n    stroke-dasharray: 90, 150;\\n    stroke-dashoffset: -35;\\n  }\\n  100% {\\n    stroke-dasharray: 90, 150;\\n    stroke-dashoffset: -124;\\n  }\\n\"])));\nconst Wrap = styled(MediaButton).attrs(_ref => {\n  let {\n    $isVisible\n  } = _ref;\n  return {\n    style: {\n      opacity: $isVisible ? 1 : 0,\n      visibility: $isVisible ? '$visible' : 'hidden'\n    }\n  };\n})(_ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  const size = \"\".concat(getSpinnerSize($cardSize), \"px\");\n  const offset = \"\".concat(getSpinnerOffset($cardSize), \"px\");\n  return css(_templateObject3$2 || (_templateObject3$2 = _taggedTemplateLiteral([\"\\n    position: absolute;\\n    width: \", \";\\n    right: \", \";\\n    top: \", \";\\n    transition: \", \";\\n    will-change: opacity, visibility;\\n    pointer-events: none;\\n  \"])), size, offset, offset, transition.medium('opacity', 'visibility'));\n});\nconst Svg = styled('svg')(_templateObject4$2 || (_templateObject4$2 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  animation: \", \" 2s linear infinite;\\n  will-change: transform;\\n\"])), rotate);\nconst Circle = styled('circle')(_templateObject5$2 || (_templateObject5$2 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n  stroke-linecap: round;\\n  stroke-width: 7;\\n  fill: none;\\n  animation: \", \" 1.5s ease-in-out infinite;\\n  will-change: stroke-dasharray, stroke-dashoffset;\\n\"])), dash);\nconst Spinner = _ref3 => {\n  let {\n    size,\n    $isVisible\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(Wrap, {\n    $cardSize: size,\n    className: classNames.spinner,\n    $isVisible: $isVisible\n  }, _Svg || (_Svg = /*#__PURE__*/React.createElement(Svg, {\n    viewBox: \"0 0 50 50\"\n  }, /*#__PURE__*/React.createElement(Circle, {\n    cx: \"25\",\n    cy: \"25\",\n    r: \"20\"\n  }))));\n};\nvar _templateObject$2, _templateObject2$1, _templateObject3$1, _templateObject4$1, _templateObject5$1;\nconst SPACE_KEY = 32;\nconst L_ARROW_KEY = 37;\nconst R_ARROW_KEY = 39;\nconst M_KEY = 77;\nconst OuterWrap = styled('div').attrs({\n  className: classNames.mediaControls\n})(_templateObject$2 || (_templateObject$2 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  transition: \", \", \", \";\\n  will-change: background;\\n  display: flex;\\n  flex-direction: column;\\n  pointer-events: auto;\\n\\n  \", \"\\n\"])), transition.long('background'), transition.medium('opacity'), _ref => {\n  let {\n    $hasInteracted,\n    $isDragging,\n    $isPlaying\n  } = _ref;\n  const bg = 'rgba(0, 0, 0, 0.35)';\n  const dragBg = 'rgba(0, 0, 0, 0.2)';\n  const isPaused = $hasInteracted && !$isPlaying;\n  return css(_templateObject2$1 || (_templateObject2$1 = _taggedTemplateLiteral([\"\\n      .\", \":hover & {\\n        background: \", \";\\n      }\\n\\n      .\", \":not(:hover) & {\\n        opacity: \", \";\\n        \", \";\\n      }\\n    \"])), classNames.main, !$isDragging ? bg : dragBg, classNames.main, !$hasInteracted || isPaused ? 1 : 0, isPaused && \"background: \".concat(bg));\n});\nconst InnerWrap = styled('div')(_templateObject3$1 || (_templateObject3$1 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 2;\\n\"])));\nconst ControlsTop = styled('div')(_templateObject4$1 || (_templateObject4$1 = _taggedTemplateLiteral([\"\\n  flex: 1;\\n\\n  \", \"\\n\"])), _ref2 => {\n  let {\n    $isVisible\n  } = _ref2;\n  return !$isVisible && css(_templateObject5$1 || (_templateObject5$1 = _taggedTemplateLiteral([\"\\n      *[class*='\", \"']:not(.\", \") {\\n        transition: \", \";\\n        opacity: 0;\\n        visibility: hidden;\\n      }\\n    \"])), classNames.mediaControls, classNames.progressTime, transition.medium('opacity', 'visibility'));\n});\nconst getNextPlaybackRate = rate => {\n  switch (rate) {\n    case 1:\n      return 1.25;\n    case 1.25:\n      return 1.5;\n    case 1.5:\n      return 2;\n    default:\n      return 1;\n  }\n};\nconst Controls = _ref3 => {\n  let {\n    MediaComponent,\n    mediaProps\n  } = _ref3;\n  const {\n    props: {\n      autoPlay,\n      controls,\n      mediaRef: propRef,\n      muted,\n      loop,\n      size\n    }\n  } = useContext(GlobalContext);\n  const [duration, setDuration] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [buffered, setBuffered] = useState([]);\n  const [cursorX, setCursorX] = useState(0);\n  const [hoveredTime, setHoveredTime] = useState(0);\n  const [$isPlaying, setIsPlaying] = useState(autoPlay);\n  const [isMuted, setIsMuted] = useState(muted);\n  const [isBuffering, setIsBuffering] = useState(false);\n  const [$isHovering, setIsHovering] = useState(false);\n  const [$isDragging, setIsDragging] = useState(false);\n  const [playbackRate, setPlaybackRate] = useState(1);\n  const [$hasInteracted, setHasInteracted] = useState(autoPlay);\n  const [pausedByDrag, setPausedByDrag] = useState(false);\n  const mediaRef = useRef();\n  const setRefs = useCallback(node => {\n    mediaRef.current = node;\n    if (propRef) {\n      if (isFunction(propRef)) {\n        propRef(node);\n      } else {\n        propRef.current = node;\n      }\n    }\n  }, [propRef]);\n  const isNotSmall = useMemo(() => !isSmall(size), [size]);\n  const mediaEvents = useMemo(() => ({\n    onCanPlay: () => setIsBuffering(false),\n    onLoadedMetadata: e => setDuration(e.currentTarget.duration),\n    onPause: () => setIsPlaying(false),\n    onPlay: () => setIsPlaying(true),\n    onPlaying: () => setIsBuffering(false),\n    onProgress: e => setBuffered(e.currentTarget.buffered),\n    onRateChange: e => setPlaybackRate(e.currentTarget.playbackRate),\n    onTimeUpdate: e => setProgress(e.currentTarget.currentTime),\n    onVolumeChange: e => setIsMuted(e.currentTarget.muted),\n    onWaiting: e => setIsBuffering(true)\n  }), []);\n  const evaluateCursorPosition = useCallback(event => {\n    if (mediaRef.current) {\n      const bounds = event.currentTarget.getBoundingClientRect();\n      const cursor = clampNumber(Math.floor(event.clientX - bounds.left), 0, bounds.width);\n      const time = cursor / bounds.width * mediaRef.current.duration;\n      return {\n        cursor,\n        time\n      };\n    }\n    return {\n      cursor: 0,\n      time: 0\n    };\n  }, []);\n  const togglePlayback = useCallback(() => {\n    if (mediaRef.current) {\n      if (mediaRef.current.paused) {\n        if (!$hasInteracted) {\n          setHasInteracted(true);\n        }\n        mediaRef.current.play();\n      } else {\n        mediaRef.current.pause();\n      }\n    }\n  }, [$hasInteracted]);\n  const jumpTo = useCallback(time => {\n    if (mediaRef.current) {\n      const t = clampNumber(time, 0, mediaRef.current.duration);\n      mediaRef.current.currentTime = t;\n      setProgress(t);\n    }\n  }, []);\n  const onSeekClick = useCallback((event, type) => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (mediaRef.current) {\n      const {\n        currentTime\n      } = mediaRef.current;\n      jumpTo(type === 'rewind' ? currentTime - 10 : currentTime + 30);\n    }\n  }, [jumpTo]);\n  const onMuteClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (mediaRef.current) {\n      mediaRef.current.muted = !mediaRef.current.muted;\n    }\n  }, []);\n  const onPlaybackRateClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (mediaRef.current) {\n      mediaRef.current.playbackRate = getNextPlaybackRate(mediaRef.current.playbackRate);\n    }\n  }, []);\n  const onProgressBarClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragging(false);\n  }, []);\n  const onProgressBarMouseDown = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragging(true);\n    const {\n      time\n    } = evaluateCursorPosition(event);\n    jumpTo(time);\n  }, [evaluateCursorPosition, jumpTo]);\n  const onProgressBarMouseOver = useCallback(() => setIsHovering(true), []);\n  const onWrapClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if ($isDragging) {\n      setIsDragging(false);\n    } else {\n      togglePlayback();\n    }\n  }, [$isDragging, togglePlayback]);\n  const onWrapMouseMove = useCallback(event => {\n    if (($isDragging || $isHovering) && mediaRef.current) {\n      event.preventDefault();\n      const {\n        cursor,\n        time\n      } = evaluateCursorPosition(event);\n      setHoveredTime(time);\n      setCursorX(cursor);\n      if ($isDragging) {\n        if (!mediaRef.current.paused) {\n          mediaRef.current.pause();\n          setPausedByDrag(true);\n        }\n        jumpTo(time);\n      }\n    }\n  }, [evaluateCursorPosition, $isDragging, $isHovering, jumpTo]);\n  const onWrapMouseOver = useCallback(event => {\n    if ($isDragging && event.buttons === 0) {\n      setIsDragging(false);\n    }\n  }, [$isDragging]);\n  const onWrapKeyDown = useCallback(event => {\n    if ($isDragging) {\n      return;\n    }\n    const {\n      keyCode\n    } = event;\n    if ([SPACE_KEY, L_ARROW_KEY, R_ARROW_KEY, M_KEY].includes(keyCode) && mediaRef.current) {\n      event.preventDefault();\n      switch (keyCode) {\n        case SPACE_KEY:\n          togglePlayback();\n          break;\n        case L_ARROW_KEY:\n          jumpTo(mediaRef.current.currentTime - 5);\n          break;\n        case R_ARROW_KEY:\n          jumpTo(mediaRef.current.currentTime + 5);\n          break;\n        case M_KEY:\n          mediaRef.current.muted = !mediaRef.current.muted;\n          break;\n      }\n    }\n  }, [$isDragging, jumpTo, togglePlayback]);\n  const outerWrapEvents = useMemo(() => ({\n    onClick: onWrapClick,\n    onKeyDown: onWrapKeyDown,\n    onMouseMove: onWrapMouseMove,\n    onMouseOut: () => setIsHovering(false),\n    onMouseOver: onWrapMouseOver\n  }), [onWrapClick, onWrapKeyDown, onWrapMouseMove, onWrapMouseOver]);\n  const outerWrapTitle = useMemo(() => $hasInteracted ? {\n    title: ''\n  } : {}, [$hasInteracted]);\n  const bufferedMedia = useMemo(() => {\n    if (buffered && buffered.length && mediaRef.current) {\n      return [...Array(buffered.length).keys()].map(index => {\n        return {\n          start: buffered.start(index) / mediaRef.current.duration,\n          end: buffered.end(index) / mediaRef.current.duration\n        };\n      });\n    }\n    return [];\n  }, [buffered]);\n  const currentTime = useMemo(() => formatSeconds(progress || 0), [progress]);\n  const endTime = useMemo(() => formatSeconds(duration || 0), [duration]);\n  const footerControlsProps = useMemo(() => ({\n    $cardSize: size,\n    currentTime,\n    endTime,\n    isMuted,\n    onMuteClick,\n    onPlaybackRateClick,\n    playbackRate\n  }), [currentTime, endTime, isMuted, onMuteClick, onPlaybackRateClick, playbackRate, size]);\n  const progressBarProps = useMemo(() => ({\n    bufferedMedia,\n    cursorX,\n    duration,\n    hoveredTime,\n    $isDragging,\n    $isHovering,\n    onClick: onProgressBarClick,\n    onMouseDown: onProgressBarMouseDown,\n    onMouseOver: onProgressBarMouseOver,\n    progress,\n    showTooltip: $isDragging || $isHovering\n  }), [bufferedMedia, cursorX, duration, hoveredTime, $isDragging, $isHovering, onProgressBarClick, onProgressBarMouseDown, onProgressBarMouseOver, progress]);\n  useEffect(() => {\n    if (!$isDragging && pausedByDrag && mediaRef.current && mediaRef.current.paused) {\n      mediaRef.current.play();\n      setPausedByDrag(false);\n    }\n  }, [pausedByDrag, $isDragging]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaComponent, _extends({}, mediaProps, mediaEvents, {\n    ref: setRefs,\n    autoPlay: autoPlay,\n    loop: loop,\n    muted: muted\n  })), controls && /*#__PURE__*/React.createElement(OuterWrap, _extends({}, outerWrapTitle, {\n    tabIndex: 0,\n    $hasInteracted: $hasInteracted,\n    $isDragging: $isDragging,\n    $isPlaying: $isPlaying\n  }, outerWrapEvents), /*#__PURE__*/React.createElement(Spinner, {\n    size: size,\n    $isVisible: isBuffering\n  }), !$hasInteracted ? /*#__PURE__*/React.createElement(InnerWrap, null, /*#__PURE__*/React.createElement(PlaybackButton, {\n    $cardSize: size\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ControlsTop, {\n    $isVisible: !$isDragging\n  }, /*#__PURE__*/React.createElement(InnerWrap, null, isNotSmall && /*#__PURE__*/React.createElement(SeekButton, {\n    className: classNames.rwControl,\n    type: \"rewind\",\n    $cardSize: size,\n    onClick: event => onSeekClick(event, 'rewind')\n  }), /*#__PURE__*/React.createElement(PlaybackButton, {\n    $cardSize: size,\n    $isPlaying: $isPlaying\n  }), isNotSmall && /*#__PURE__*/React.createElement(SeekButton, {\n    className: classNames.ffwControl,\n    type: \"fastforward\",\n    $cardSize: size,\n    onClick: event => onSeekClick(event, 'fastforward')\n  })), isNotSmall && /*#__PURE__*/React.createElement(FooterControls, footerControlsProps)), /*#__PURE__*/React.createElement(ProgressBar, progressBarProps))));\n};\nvar _templateObject$1;\nconst VideoDOM = styled('video')(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n\\n  &::media-controls-start-playback-button {\\n    display: none;\\n    appearance: none;\\n  }\\n\"])));\nconst Video = props => {\n  const {\n    state: {\n      imageUrl,\n      playsInline,\n      videoUrl\n    }\n  } = useContext(GlobalContext);\n  const mediaProps = useMemo(() => {\n    const mediaProps = {\n      className: \"\".concat(classNames.media, \" \").concat(classNames.video),\n      src: videoUrl,\n      playsInline\n    };\n    if (imageUrl) mediaProps.poster = imageProxy(imageUrl);\n    return mediaProps;\n  }, [imageUrl, playsInline, videoUrl]);\n  return /*#__PURE__*/React.createElement(Wrap$1, _extends({\n    className: \"\".concat(classNames.mediaWrapper, \" \").concat(classNames.videoWrapper)\n  }, props), /*#__PURE__*/React.createElement(Controls, {\n    MediaComponent: VideoDOM,\n    mediaProps: mediaProps\n  }));\n};\nconst Audio = props => {\n  const {\n    state: {\n      audioUrl\n    }\n  } = useContext(GlobalContext);\n  const mediaProps = useMemo(() => ({\n    className: \"\".concat(classNames.media, \" \").concat(classNames.audio),\n    src: audioUrl\n  }), [audioUrl]);\n  return /*#__PURE__*/(\n    // eslint-disable-next-line\n    React.createElement(ImageComponent, _extends({\n      className: \"\".concat(classNames.mediaWrapper, \" \").concat(classNames.audioWrapper)\n    }, props), /*#__PURE__*/React.createElement(Controls, {\n      MediaComponent: \"audio\",\n      mediaProps: mediaProps\n    }))\n  );\n};\nconst isUrl = url => getUrlPath(url) !== null;\nconst MEDIA_COMPONENT = {\n  video: Video,\n  image: ImageComponent,\n  audio: Audio\n};\nconst getMediaType = (isAudio, isVideo) => {\n  if (isAudio) return 'audio';\n  if (isVideo) return 'video';\n  return 'image';\n};\nconst CardMedia = () => {\n  const {\n    state: {\n      imageUrl,\n      isAudio,\n      isVideo\n    }\n  } = useContext(GlobalContext);\n  const [isLoading, setIsLoading] = useState(isUrl(imageUrl));\n  const mediaType = getMediaType(isAudio, isVideo);\n  const MediaComponent = MEDIA_COMPONENT[mediaType];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaComponent, {\n    $isLoading: isLoading\n  }), isLoading && /*#__PURE__*/React.createElement(ImageLoadCatcher, {\n    src: imageUrl,\n    onLoad: () => setIsLoading(false)\n  }));\n};\nconst _excluded$1 = [\"href\", \"rel\", \"target\", \"as\"];\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nfunction ownKeys$1(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread$1(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys$1(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$1(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nconst HEIGHT = '382px';\nconst contrastStyle = _ref => {\n  let {\n    $backgroundColor,\n    color\n  } = _ref;\n  return css(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n  border-color: \", \";\\n  transition-property: filter;\\n  will-change: filter;\\n\\n  &&& {\\n    color: \", \";\\n  }\\n\\n  &:hover {\\n    filter: brightness(90%);\\n  }\\n\"])), $backgroundColor, color, color);\n};\nconst largeStyle = css(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  flex-direction: column;\\n  height: \", \";\\n  \", \";\\n\"])), HEIGHT, media.mobile(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    height: calc(\", \" * 7/9);\\n  \"])), HEIGHT));\nconst hoverStyle = css(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  transition-property: background, border-color;\\n  will-change: background, border-color;\\n  &:hover {\\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\\n    border-color: var(--microlink-hover-border-color, #8899a680);\\n  }\\n\"])));\nconst rtlStyle = _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return css(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  flex-direction: \", \";\\n\"])), isLarge($cardSize) ? 'column-reverse' : 'row-reverse');\n};\nconst baseStyle = css(() => \"\\n  max-width: var(--microlink-max-width, 500px);\\n  background-color: var(--microlink-background-color, #fff);\\n  border-width: var(--microlink-border-width, 1px);\\n  border-style: var(--microlink-border-style, solid);\\n  border-color: var(--microlink-border-color, #e1e8ed);\\n  color: var(--microlink-color, #181919);\\n  overflow: hidden;\\n  font-family: \".concat(font.sans, \";\\n  display: flex;\\n  text-decoration: none;\\n  opacity: 1;\\n  position: relative;\\n  transition-duration: \").concat(speed.medium, \";\\n  transition-timing-function: \").concat(animation.medium, \";\\n\\n  &:active,\\n  &:hover {\\n    outline: 0;\\n  }\\n\"));\nconst Element = styled('a')(baseStyle, _ref3 => {\n  let {\n    $isLoading,\n    contrast\n  } = _ref3;\n  return !$isLoading && !contrast && hoverStyle;\n}, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return isLarge($cardSize) && largeStyle;\n}, _ref5 => {\n  let {\n    direction\n  } = _ref5;\n  return direction === 'rtl' && rtlStyle;\n}, _ref6 => {\n  let {\n    $backgroundColor,\n    color,\n    contrast\n  } = _ref6;\n  return contrast && color && $backgroundColor && contrastStyle;\n}, _ref7 => {\n  let {\n    $backgroundColor,\n    color,\n    contrast\n  } = _ref7;\n  return contrast && (!color || !$backgroundColor) && hoverStyle;\n});\nconst CardWrap = /*#__PURE__*/forwardRef((_ref8, ref) => {\n  let {\n      href,\n      rel = 'noopener noreferrer',\n      target = '_blank',\n      as = 'a'\n    } = _ref8,\n    restProps = _objectWithoutProperties(_ref8, _excluded$1);\n  const {\n    state: {\n      $backgroundColor,\n      color,\n      title\n    },\n    props: {\n      size: $cardSize\n    }\n  } = useContext(GlobalContext);\n  return /*#__PURE__*/createElement(Element, _objectSpread$1(_objectSpread$1(_objectSpread$1({}, as === 'a' ? {\n    href,\n    rel,\n    target\n  } : undefined), restProps), {}, {\n    $backgroundColor,\n    $cardSize,\n    color,\n    ref,\n    title\n  }));\n});\nCardWrap.displayName = 'CardWrap';\n\n/* global IntersectionObserver */\n\nconst useIntersectionObserver = (enabled, options) => {\n  const [hasIntersected, setHasIntersected] = useState(false);\n  const refCallback = useCallback(node => {\n    if (enabled) {\n      const onIntersect = (_ref, self) => {\n        let [entry] = _ref;\n        if (entry.isIntersecting) {\n          setHasIntersected(true);\n          self.unobserve(entry.target);\n        }\n      };\n      const observer = new IntersectionObserver(onIntersect, options);\n      if (node !== null) {\n        observer.observe(node);\n      }\n    } else {\n      setHasIntersected(true);\n    }\n  }, [enabled, options]);\n  return [hasIntersected, refCallback];\n};\nvar _CardEmpty, _CardMedia, _CardContent;\nconst _excluded = [\"className\", \"fetchData\", \"lazy\", \"loading\", \"media\", \"setData\", \"url\", \"apiKey\"],\n  _excluded2 = [\"className\", \"apiKey\", \"autoPlay\", \"controls\", \"direction\", \"lazy\", \"loop\", \"media\", \"fetchData\", \"muted\", \"playsInline\", \"size\"];\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nconst Card = props => {\n  const {\n      className,\n      fetchData,\n      lazy,\n      loading,\n      media: mediaProp,\n      setData,\n      url,\n      apiKey // destructuring to avoid pass it\n    } = props,\n    restProps = _objectWithoutProperties(props, _excluded);\n  const mediaProps = useMemo(() => castArray(mediaProp), [mediaProp]);\n  const {\n    updateState\n  } = useContext(GlobalContext);\n  const [loadingState, setLoading] = useState(true);\n  const [iframeMedia, setIframeMedia] = useState(null);\n  const [isError, setIsError] = useState(false);\n  const isLoadingUndefined = useMemo(() => loading === undefined, [loading]);\n  const [apiUrl, apiUrlProps] = useMemo(() => getApiUrl(_objectSpread(_objectSpread({}, props), {}, {\n    media: mediaProps\n  })), [mediaProps, props]);\n  const isLazyEnabled = useMemo(() => isLazySupported && (lazy === true || isObject(lazy)), [lazy]);\n  const lazyOptions = useMemo(() => isObject(lazy) ? lazy : undefined, [lazy]);\n  const [hasIntersected, cardRef] = useIntersectionObserver(isLazyEnabled, lazyOptions);\n  const canFetchData = useMemo(() => !isLazyEnabled || isLazyEnabled && hasIntersected, [isLazyEnabled, hasIntersected]);\n  const mergeData = useCallback(fetchedData => {\n    const payload = isFunction(setData) ? setData(fetchedData) : _objectSpread(_objectSpread({}, fetchedData), setData);\n    const {\n      title,\n      description,\n      url,\n      video,\n      audio,\n      image,\n      logo,\n      iframe\n    } = payload;\n    const mediaFallback = image || logo || {};\n    let media = mediaFallback;\n    let videoUrl;\n    let audioUrl;\n    let isVideo = false;\n    let isAudio = false;\n    const preferredMedia = getPreferredMedia(payload, mediaProps);\n    switch (preferredMedia) {\n      case 'audio':\n        isAudio = true;\n        audioUrl = getUrlPath(audio);\n        break;\n      case 'video':\n        isVideo = true;\n        videoUrl = getUrlPath(video);\n        break;\n      case 'iframe':\n        setIframeMedia(iframe);\n        break;\n      default:\n        media = someProp(payload, mediaProps) || mediaFallback;\n        break;\n    }\n    const imageUrl = getUrlPath(media);\n    const {\n      color,\n      background_color: $backgroundColor\n    } = media;\n    updateState({\n      url,\n      color,\n      title,\n      description,\n      imageUrl,\n      videoUrl,\n      audioUrl,\n      isVideo,\n      isAudio,\n      $backgroundColor\n    });\n    setLoading(false);\n  }, [updateState, mediaProps, setData]);\n  const toFetchData = useCallback(() => {\n    if (canFetchData) {\n      setLoading(true);\n      const fetch = fetchData ? fetchFromApi(apiUrl, apiUrlProps) : Promise.resolve({});\n      fetch.then(_ref => {\n        let {\n          data\n        } = _ref;\n        return mergeData(data);\n      }).catch(error => {\n        setLoading(false);\n        setIsError(true);\n        console.error(\"\\n\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\\n\\u2502 Microlink SDK \\u2502\\n\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\\n\\n\".concat(error.description, \"\\n\\n\").concat(JSON.stringify(error.data), \"\\n\\nid   \").concat(error.headers['x-request-id'], \"\\nuri  \").concat(error.url, \"\\ncode \").concat(error.code, \" (\").concat(error.statusCode, \")\\n\\nmicrolink.io/\").concat(error.code.toLowerCase(), \"\\n\"));\n      });\n    }\n  }, [apiUrlProps, fetchData, apiUrl, mergeData, canFetchData]);\n  useEffect(toFetchData, [url, setData, hasIntersected]);\n  const isLoading = isLoadingUndefined ? loadingState : loading;\n  if (isError) {\n    return /*#__PURE__*/React.createElement(\"a\", _extends({\n      href: url\n    }, restProps), url);\n  }\n  if (iframeMedia) {\n    if (!isSSR) {\n      iframeMedia.scripts.forEach(attrs => {\n        const hasScript = document.querySelector(\"script[src=\\\"\".concat(attrs.src, \"\\\"]\"));\n        if (!hasScript) {\n          const script = document.createElement('script');\n          Object.keys(attrs).forEach(key => script[key] = attrs[key]);\n          document.body.appendChild(script);\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: classNames.iframe,\n      dangerouslySetInnerHTML: {\n        __html: iframeMedia.html\n      }\n    }, restProps));\n  }\n  return /*#__PURE__*/React.createElement(CardWrap, _extends({\n    className: \"\".concat(classNames.main, \" \").concat(className).trim(),\n    href: url,\n    $isLoading: isLoading,\n    ref: cardRef\n  }, restProps), isLoading ? _CardEmpty || (_CardEmpty = /*#__PURE__*/React.createElement(CardEmptyState, null)) : /*#__PURE__*/React.createElement(React.Fragment, null, _CardMedia || (_CardMedia = /*#__PURE__*/React.createElement(CardMedia, null)), _CardContent || (_CardContent = /*#__PURE__*/React.createElement(CardContent, null))));\n};\nconst Microlink = _ref2 => {\n  let {\n      className = '',\n      apiKey = undefined,\n      autoPlay = true,\n      controls = true,\n      direction = 'ltr',\n      lazy = true,\n      loop = true,\n      media = ['iframe', 'video', 'audio', 'image', 'logo'],\n      fetchData = true,\n      muted = true,\n      playsInline = true,\n      size = 'normal'\n    } = _ref2,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  return /*#__PURE__*/React.createElement(GlobalState, _extends({\n    className: className,\n    apiKey: apiKey,\n    autoPlay: autoPlay,\n    controls: controls,\n    direction: direction,\n    lazy: lazy,\n    loop: loop,\n    media: media,\n    fetchData: fetchData,\n    muted: muted,\n    playsInline: playsInline,\n    size: size\n  }, props), otherProps => /*#__PURE__*/React.createElement(Card, otherProps));\n};\nexport { Microlink as default, getApiUrl, imageProxy };","map":{"version":3,"names":["_extends","_defineProperty","_objectWithoutProperties","React","useRef","useMemo","useCallback","useEffect","createElement","useState","useContext","forwardRef","_taggedTemplateLiteral","css","styled","keyframes","getApiUrl","getApiUrl$1","fetchFromApi","_excluded$8","ownKeys$4","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread$4","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","l","_ref","accessibility","debounce","ellipsis","u","is","c","lines","s","text","d","v","a","f","h","ref","title","g","m","n","i","current","innerText","clientHeight","Math","floor","slice","max","trim","clearTimeout","setTimeout","window","addEventListener","removeEventListener","getDefaultExportFromCjs","x","__esModule","prototype","hasOwnProperty","call","src","localhostUrl","_templateObject$i","_templateObject2$e","isSSR","castArray","value","concat","getPreferredMedia","data","mediaProps","prefer","index","key","isNil","isFunction","fn","isObject","obj","getUrlPath","url","someProp","props","find","prop","media","mobile","desktop","apiKey","contrast","endpoint","force","headers","prerender","proxy","ttl","audio","includes","iframe","palette","screenshot","video","isLarge","cardSize","isSmall","imageProxy","test","URLSearchParams","default","af","il","toString","isLazySupported","formatSeconds","secs","secsToNum","parseInt","hours","minutes","seconds","map","join","clampNumber","num","min","BASE_CLASSNAME","CONTENT_BASE_CLASSNAME","MEDIA_BASE_CLASSNAME","CONTROLS_BASE_CLASSNAME","classNames","main","content","description","mediaWrapper","image","videoWrapper","audioWrapper","mediaControls","playbackControl","volumeControl","rwControl","ffwControl","rateControl","progressBar","progressTime","spinner","_excluded$7","_templateObject$h","_templateObject2$d","ownKeys$3","_objectSpread$3","Clamp","children","className","StyledClamp","_ref2","$useNanoClamp","CardText","_ref3","useNanoClamp","textProps","as","speed","short","medium","long","animation","createTransition","properties","suffix","property","transition","_len","Array","_key","_len2","_key2","_len3","_key3","font","sans","mono","_excluded$6","ownKeys$2","_objectSpread$2","initialState","GlobalContext","createContext","GlobalState","autoPlay","controls","loop","mediaRef","muted","playsInline","size","rest","state","setState","updateState","newState","currentState","values","Provider","_templateObject$g","_templateObject2$c","_templateObject3$b","_templateObject4$9","_templateObject5$6","_templateObject6$2","_templateObject7$2","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","REGEX_STRIP_WWW","BADGE_WIDTH","BADGE_HEIGHT","getHostname","href","hostname","URL","replace","mobileDescriptionStyle","Content","attrs","$cardSize","Header","Description","Footer","_ref4","Author","PoweredBy","CardContent","isSmallCard","formattedUrl","handleOnClick","preventDefault","open","onClick","_templateObject$f","_templateObject2$b","_templateObject3$a","_templateObject4$8","emptyStatePulse","emptyStateImagePulse","emptyStateAnimation","emptyStateImageAnimation","_templateObject$e","_templateObject2$a","_templateObject3$9","ImageLoadCatcher","loadingOverlay","$isLoading","_templateObject$d","_templateObject2$9","_templateObject3$8","_templateObject4$7","_templateObject5$5","mediaSizeStyles","small","normal","large","StyledWrap","Wrap$1","_templateObject$c","ImageWrap","ImageComponent","imageUrl","_templateObject$b","_templateObject2$8","_templateObject3$7","_templateObject4$6","_FooterEmpty","MediaEmpty","HeaderEmpty","DescriptionEmpty","FooterEmpty","CardEmptyState","Fragment","style","marginBottom","_templateObject$a","MediaButton","_path$2","_path2$2","_templateObject$9","_templateObject2$7","_templateObject3$6","_templateObject4$5","_templateObject5$4","_templateObject6$1","_templateObject7$1","VolumeMute","xmlns","viewBox","fill","fillRule","stroke","strokeWidth","transform","VolumeUp","BottomControls","VolumeIcon","VolumeButton","PlaybackRateButton","_ref5","_ref6","_ref7","TimeLabel","_ref8","$right","FooterControls","_ref9","currentTime","endTime","isMuted","onMuteClick","onPlaybackRateClick","playbackRate","VolumeComponent","isLargeCard","_excluded$5","_path$1","_path2$1","_templateObject$8","_templateObject2$6","_templateObject3$5","_templateObject4$4","Pause","Play","iconSizes","PlaybackIcon","PlaybackButtonWrap","PlaybackButton","$isPlaying","PlaybackComponent","_templateObject$7","_templateObject2$5","SCRUBBER_SIZE","scrubberSizeScales","getScrubberSize","Scrubber","$isVisible","$positionX","left","opacity","visibility","scrubberSize","_excluded$4","_templateObject$6","BASE_FONT_SIZE","sizeScales$1","getMarkerFontSize","TooltipBase","$position","$isDragging","$visible","top","Tooltip","label","displayName","_excluded$3","_templateObject$5","_templateObject2$4","_templateObject3$4","_templateObject4$3","_templateObject5$3","_templateObject6","_templateObject7","HEIGHT$1","PADDING","heightScales","activeHeightScales","getProgressBarHeight","getProgressBarActiveHeight","OuterWrap$1","BarsWrap","activeHeight","height","ProgressLine","ProgressMask","$maskScale","ProgressHover","$cursorRatio","$isHovering","$progressPercent","BufferedChunk","start","end","right","ProgressBar","bufferedMedia","cursorX","duration","hoveredTime","onMouseDown","onMouseOver","progress","showTooltip","wrapRef","tooltipRef","getWrapWidth","getBoundingClientRect","width","progressRatio","wrapWidth","startPoint","cursorPosition","toFixed","bufferedMediaChunks","chunk","tooltipLabel","tooltipPositionX","tooltipWidth","tooltipHalf","mouseEvents","showAccessories","_path","_path2","_templateObject$4","_templateObject2$3","_templateObject3$3","_excluded$2","_excluded2$1","_excluded3","Backward","Forward","SeekIcon","SeekButtonWrap","SeekButton","type","IconComponent","_templateObject$3","_templateObject2$2","_templateObject3$2","_templateObject4$2","_templateObject5$2","_Svg","BASE_SIZE","BASE_OFFSET","offsetScales","sizeScales","getSpinnerOffset","getSpinnerSize","rotate","dash","Wrap","offset","Svg","Circle","Spinner","cx","cy","_templateObject$2","_templateObject2$1","_templateObject3$1","_templateObject4$1","_templateObject5$1","SPACE_KEY","L_ARROW_KEY","R_ARROW_KEY","M_KEY","OuterWrap","$hasInteracted","bg","dragBg","isPaused","InnerWrap","ControlsTop","getNextPlaybackRate","rate","Controls","MediaComponent","propRef","setDuration","setProgress","buffered","setBuffered","setCursorX","setHoveredTime","setIsPlaying","setIsMuted","isBuffering","setIsBuffering","setIsHovering","setIsDragging","setPlaybackRate","setHasInteracted","pausedByDrag","setPausedByDrag","setRefs","node","isNotSmall","mediaEvents","onCanPlay","onLoadedMetadata","currentTarget","onPause","onPlay","onPlaying","onProgress","onRateChange","onTimeUpdate","onVolumeChange","onWaiting","evaluateCursorPosition","event","bounds","cursor","clientX","time","togglePlayback","paused","play","pause","jumpTo","onSeekClick","stopPropagation","onProgressBarClick","onProgressBarMouseDown","onProgressBarMouseOver","onWrapClick","onWrapMouseMove","onWrapMouseOver","buttons","onWrapKeyDown","keyCode","outerWrapEvents","onKeyDown","onMouseMove","onMouseOut","outerWrapTitle","footerControlsProps","progressBarProps","tabIndex","_templateObject$1","VideoDOM","Video","videoUrl","poster","Audio","audioUrl","isUrl","MEDIA_COMPONENT","getMediaType","isAudio","isVideo","CardMedia","isLoading","setIsLoading","mediaType","onLoad","_excluded$1","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","ownKeys$1","_objectSpread$1","HEIGHT","contrastStyle","$backgroundColor","color","largeStyle","hoverStyle","rtlStyle","baseStyle","Element","direction","CardWrap","rel","target","restProps","undefined","useIntersectionObserver","enabled","options","hasIntersected","setHasIntersected","refCallback","onIntersect","self","entry","isIntersecting","unobserve","observer","IntersectionObserver","observe","_CardEmpty","_CardMedia","_CardContent","_excluded","_excluded2","ownKeys","_objectSpread","Card","fetchData","lazy","loading","mediaProp","setData","loadingState","setLoading","iframeMedia","setIframeMedia","isError","setIsError","isLoadingUndefined","apiUrl","apiUrlProps","isLazyEnabled","lazyOptions","cardRef","canFetchData","mergeData","fetchedData","payload","logo","mediaFallback","preferredMedia","background_color","toFetchData","fetch","Promise","resolve","then","catch","error","console","JSON","stringify","code","statusCode","toLowerCase","scripts","hasScript","document","querySelector","script","body","appendChild","dangerouslySetInnerHTML","__html","html","Microlink","otherProps"],"sources":["C:/Users/vkotr/reactfolio/node_modules/@microlink/react/dist/microlink.mjs"],"sourcesContent":["import _extends from '@babel/runtime/helpers/extends';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport React, { useRef, useMemo, useCallback, useEffect, createElement, useState, useContext, forwardRef } from 'react';\nimport _taggedTemplateLiteral from '@babel/runtime/helpers/taggedTemplateLiteral';\nimport { css, styled, keyframes } from 'styled-components';\nimport { getApiUrl as getApiUrl$1, fetchFromApi } from '@microlink/mql';\nexport { fetchFromApi } from '@microlink/mql';\n\nconst _excluded$8 = [\"accessibility\", \"debounce\", \"ellipsis\", \"is\", \"lines\", \"text\"];\nfunction ownKeys$4(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread$4(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys$4(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$4(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nconst l = _ref => {\n  let {\n      accessibility: l = !0,\n      debounce: o = 300,\n      ellipsis: u = \"…\",\n      is: c = \"div\",\n      lines: s = 3,\n      text: d\n    } = _ref,\n    v = _objectWithoutProperties(_ref, _excluded$8);\n  const a = useRef(null),\n    f = useRef(\".\"),\n    h = _objectSpread$4(_objectSpread$4({\n      ref: a\n    }, l ? {\n      title: d\n    } : {}), v),\n    g = useMemo(() => \"string\" == typeof d && d.length > 0, [d]),\n    m = useCallback(() => {\n      var e, t, n, r;\n      if (!g) return;\n      const i = e => {\n        f.current = e, null != a.current && (a.current.innerText = e);\n      };\n      i(\".\");\n      const l = ((null !== (t = null === (e = a.current) || void 0 === e ? void 0 : e.clientHeight) && void 0 !== t ? t : 0) + 1) * s + 1,\n        o = \"…\" === u ? 5 : 1.2 * u.length;\n      let c = 0,\n        v = 0,\n        h = d.length;\n      for (; c <= h;) {\n        v = Math.floor((c + h) / 2);\n        if (i(d.slice(0, v)), v === d.length) return;\n        (null !== (r = null === (n = a.current) || void 0 === n ? void 0 : n.clientHeight) && void 0 !== r ? r : 0) <= l ? c = v + 1 : h = v - 1;\n      }\n      i(d.slice(0, Math.max(v - o, 0)).trim() + u);\n    }, [u, g, s, d]);\n  return useEffect(() => {\n    m();\n    const e = ((e, t) => {\n      let n;\n      const r = () => {\n        n = void 0, e();\n      };\n      return () => {\n        const i = null == n;\n        clearTimeout(n), n = setTimeout(r, t), i && e();\n      };\n    })(m, o);\n    return window.addEventListener(\"resize\", e), () => window.removeEventListener(\"resize\", e);\n  }, [m, o]), g ? /*#__PURE__*/createElement(c, h, f.current) : null;\n};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar src = () => /^https?:\\/\\/(localhost|0|10|127|192(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\\[::1?\\])/gi;\n\nvar localhostUrl = /*@__PURE__*/getDefaultExportFromCjs(src);\n\nvar _templateObject$i, _templateObject2$e;\nconst isSSR = typeof window === 'undefined';\nconst castArray = value => [].concat(value);\nconst getPreferredMedia = (data, mediaProps) => {\n  let prefer;\n  for (let index = 0; index < mediaProps.length; index++) {\n    const key = mediaProps[index];\n    const value = data[key];\n    if (!isNil(value)) {\n      prefer = key;\n      break;\n    }\n  }\n  return prefer;\n};\nconst isFunction = fn => typeof fn === 'function';\nconst isObject = obj => typeof obj === 'object';\nconst isNil = value => value == null;\nconst getUrlPath = data => isObject(data) ? data.url : data;\nconst someProp = (data, props) => data[props.find(prop => !isNil(data[prop]))];\nconst media = {\n  mobile: function () {\n    return css(_templateObject$i || (_templateObject$i = _taggedTemplateLiteral([\"\\n    @media (max-width: 48em) {\\n      \", \";\\n    }\\n  \"])), css(...arguments));\n  },\n  desktop: function () {\n    return css(_templateObject2$e || (_templateObject2$e = _taggedTemplateLiteral([\"\\n    @media (min-width: 48em) {\\n      \", \";\\n    }\\n  \"])), css(...arguments));\n  }\n};\nconst getApiUrl = _ref => {\n  let {\n    apiKey,\n    contrast = false,\n    data,\n    endpoint,\n    force,\n    headers,\n    media,\n    prerender,\n    proxy,\n    ttl,\n    url\n  } = _ref;\n  return getApiUrl$1(url, {\n    apiKey,\n    audio: media.includes('audio'),\n    data,\n    endpoint,\n    force,\n    headers,\n    iframe: media.includes('iframe'),\n    palette: contrast,\n    prerender,\n    proxy,\n    screenshot: media.includes('screenshot'),\n    ttl,\n    video: media.includes('video')\n  });\n};\nconst isLarge = cardSize => cardSize === 'large';\nconst isSmall = cardSize => cardSize === 'small';\nconst imageProxy = url => localhostUrl().test(url) ? url : \"https://images.weserv.nl/?\".concat(new URLSearchParams({\n  url,\n  default: url,\n  l: 9,\n  af: '',\n  il: '',\n  n: -1\n}).toString());\nconst isLazySupported = !isSSR && 'IntersectionObserver' in window;\nconst formatSeconds = secs => {\n  const secsToNum = parseInt(secs, 10);\n  const hours = Math.floor(secsToNum / 3600);\n  const minutes = Math.floor(secsToNum / 60) % 60;\n  const seconds = secsToNum % 60;\n  return [hours, minutes, seconds].filter((v, i) => v > 0 || i > 0).map(v => v >= 10 ? v : \"0\".concat(v)).join(':');\n};\nconst clampNumber = (num, min, max) => {\n  switch (true) {\n    case num <= min:\n      return min;\n    case num >= max:\n      return max;\n    default:\n      return num;\n  }\n};\nconst BASE_CLASSNAME = 'microlink_card';\nconst CONTENT_BASE_CLASSNAME = \"\".concat(BASE_CLASSNAME, \"__content\");\nconst MEDIA_BASE_CLASSNAME = \"\".concat(BASE_CLASSNAME, \"__media\");\nconst CONTROLS_BASE_CLASSNAME = \"\".concat(MEDIA_BASE_CLASSNAME, \"__controls\");\nconst classNames = {\n  main: BASE_CLASSNAME,\n  content: CONTENT_BASE_CLASSNAME,\n  title: \"\".concat(CONTENT_BASE_CLASSNAME, \"_title\"),\n  description: \"\".concat(CONTENT_BASE_CLASSNAME, \"_description\"),\n  url: \"\".concat(CONTENT_BASE_CLASSNAME, \"_url\"),\n  mediaWrapper: \"\".concat(MEDIA_BASE_CLASSNAME, \"_wrapper\"),\n  media: MEDIA_BASE_CLASSNAME,\n  image: \"\".concat(MEDIA_BASE_CLASSNAME, \"_image\"),\n  videoWrapper: \"\".concat(MEDIA_BASE_CLASSNAME, \"_video_wrapper\"),\n  video: \"\".concat(MEDIA_BASE_CLASSNAME, \"_video\"),\n  audioWrapper: \"\".concat(MEDIA_BASE_CLASSNAME, \"_audio_wrapper\"),\n  audio: \"\".concat(MEDIA_BASE_CLASSNAME, \"_audio\"),\n  mediaControls: CONTROLS_BASE_CLASSNAME,\n  playbackControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_playback\"),\n  volumeControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_volume\"),\n  rwControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_rewind\"),\n  ffwControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_fast_forward\"),\n  rateControl: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_rate\"),\n  progressBar: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_progress_bar\"),\n  progressTime: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_progress_time\"),\n  spinner: \"\".concat(CONTROLS_BASE_CLASSNAME, \"_spinner\"),\n  iframe: \"\".concat(BASE_CLASSNAME, \"__iframe\")\n};\n\nconst _excluded$7 = [\"useNanoClamp\", \"children\"];\nvar _templateObject$h, _templateObject2$d;\nfunction ownKeys$3(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread$3(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys$3(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$3(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nconst Clamp = _ref => {\n  let {\n    children,\n    className,\n    lines\n  } = _ref;\n  return isNil(children) ? null : /*#__PURE__*/React.createElement(l, {\n    className: className,\n    lines: lines,\n    text: children,\n    is: \"p\"\n  });\n};\nconst StyledClamp = styled(Clamp)(_templateObject$h || (_templateObject$h = _taggedTemplateLiteral([\"\\n  &&& {\\n    text-align: inherit;\\n    font-weight: inherit;\\n    font-family: inherit;\\n    color: inherit;\\n    margin: 0;\\n\\n    \", \"\\n  }\\n\"])), _ref2 => {\n  let {\n    $useNanoClamp\n  } = _ref2;\n  return !$useNanoClamp && css(_templateObject2$d || (_templateObject2$d = _taggedTemplateLiteral([\"\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n      \"])));\n});\nconst CardText = _ref3 => {\n  let {\n      useNanoClamp = true,\n      children\n    } = _ref3,\n    props = _objectWithoutProperties(_ref3, _excluded$7);\n  const textProps = useNanoClamp ? props : _objectSpread$3(_objectSpread$3({}, props), {}, {\n    as: 'p',\n    title: children\n  });\n  return /*#__PURE__*/React.createElement(StyledClamp, _extends({\n    $useNanoClamp: useNanoClamp\n  }, textProps), children);\n};\n\nconst speed = {\n  short: '100ms',\n  medium: '150ms',\n  long: '300ms'\n};\nconst animation = {\n  short: 'cubic-bezier(.25,.8,.25,1)',\n  medium: 'cubic-bezier(.25,.8,.25,1)',\n  long: 'cubic-bezier(.4, 0, .2, 1)'\n};\nconst createTransition = (properties, s) => {\n  const suffix = \"\".concat(speed[s], \" \").concat(animation[s]);\n  return properties.map(property => \"\".concat(property, \" \").concat(suffix)).join(', ');\n};\nconst transition = {\n  short: function () {\n    for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n      properties[_key] = arguments[_key];\n    }\n    return createTransition(properties, 'short');\n  },\n  medium: function () {\n    for (var _len2 = arguments.length, properties = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      properties[_key2] = arguments[_key2];\n    }\n    return createTransition(properties, 'medium');\n  },\n  long: function () {\n    for (var _len3 = arguments.length, properties = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      properties[_key3] = arguments[_key3];\n    }\n    return createTransition(properties, 'long');\n  }\n};\n\n// https://primer.style/design/foundations/typography\nconst font = {\n  sans: \"InterUI, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif\",\n  mono: \"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace\"\n};\n\nconst _excluded$6 = [\"autoPlay\", \"children\", \"controls\", \"loop\", \"mediaRef\", \"muted\", \"playsInline\", \"size\"];\nfunction ownKeys$2(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread$2(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys$2(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$2(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nconst initialState = {};\nconst GlobalContext = /*#__PURE__*/React.createContext(initialState);\nconst GlobalState = _ref => {\n  let {\n      autoPlay,\n      children,\n      controls,\n      loop,\n      mediaRef,\n      muted,\n      playsInline,\n      size\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded$6);\n  const [state, setState] = useState(initialState);\n  const updateState = useCallback(newState => setState(currentState => _objectSpread$2(_objectSpread$2({}, currentState), newState)), []);\n  const props = useMemo(() => ({\n    autoPlay,\n    controls,\n    loop,\n    mediaRef,\n    muted,\n    playsInline,\n    size\n  }), [autoPlay, controls, loop, mediaRef, muted, playsInline, size]);\n  const values = useMemo(() => ({\n    props,\n    state,\n    updateState\n  }), [props, state, updateState]);\n  return /*#__PURE__*/React.createElement(GlobalContext.Provider, {\n    value: values\n  }, children(rest));\n};\n\nvar _templateObject$g, _templateObject2$c, _templateObject3$b, _templateObject4$9, _templateObject5$6, _templateObject6$2, _templateObject7$2, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12;\nconst REGEX_STRIP_WWW = /^www\\./;\nconst BADGE_WIDTH = '16px';\nconst BADGE_HEIGHT = '12px';\nconst getHostname = href => {\n  if (isNil(href)) return '';\n  const {\n    hostname\n  } = new URL(href);\n  return hostname.replace(REGEX_STRIP_WWW, '');\n};\nconst mobileDescriptionStyle = css(_templateObject$g || (_templateObject$g = _taggedTemplateLiteral([\"\\n  \", \";\\n\"])), media.mobile(_templateObject2$c || (_templateObject2$c = _taggedTemplateLiteral([\"\\n    > p {\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      white-space: nowrap;\\n    }\\n  \"]))));\nconst Content = styled('div').attrs({\n  className: classNames.content\n})(_templateObject3$b || (_templateObject3$b = _taggedTemplateLiteral([\"\\n  display: flex;\\n  padding: 10px 15px;\\n  min-width: 0;\\n  box-sizing: border-box;\\n  \", \";\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return css(_templateObject4$9 || (_templateObject4$9 = _taggedTemplateLiteral([\"\\n    flex: \", \";\\n    justify-content: \", \";\\n    flex-direction: \", \";\\n    align-items: \", \";\\n  \"])), !isLarge($cardSize) ? 1 : '0 0 125px', !isSmall($cardSize) ? 'space-around' : 'space-between', !isSmall($cardSize) ? 'column' : 'row', !isSmall($cardSize) ? 'stretch' : 'center');\n});\nconst Header = styled('header').attrs({\n  className: classNames.title\n})(_templateObject5$6 || (_templateObject5$6 = _taggedTemplateLiteral([\"\\n  text-align: left;\\n  font-weight: bold;\\n  margin: 0;\\n  width: 100%;\\n  \", \"\\n\"])), _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return css(_templateObject6$2 || (_templateObject6$2 = _taggedTemplateLiteral([\"\\n    flex-grow: \", \";\\n    font-size: \", \";\\n\\n    \", \"\\n  \"])), !isSmall($cardSize) ? 1.2 : 0.8, !isSmall($cardSize) ? '16px' : '15px', isSmall($cardSize) && css(_templateObject7$2 || (_templateObject7$2 = _taggedTemplateLiteral([\"\\n      min-width: 0;\\n      padding-right: 14px;\\n    \"]))));\n});\nconst Description = styled('div').attrs({\n  className: classNames.description\n})(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  text-align: left;\\n  font-size: 14px;\\n  flex-grow: 2;\\n  margin: auto 0;\\n  line-height: 18px;\\n  font-weight: normal;\\n  \", \";\\n\"])), _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return !isLarge($cardSize) && mobileDescriptionStyle;\n});\nconst Footer = styled('footer').attrs({\n  className: classNames.url\n})(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  text-align: left;\\n  margin: 0;\\n  flex-grow: 0;\\n  font-weight: normal;\\n  \", \";\\n\"])), _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return css(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n    font-size: \", \";\\n    \", \"\\n  \"])), !isSmall($cardSize) ? '12px' : '10px', !isSmall($cardSize) && 'width: 100%;');\n});\nconst Author = styled(CardText)(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  opacity: 0.75;\\n  transition: \", \";\\n  will-change: opacity;\\n\\n  .\", \":hover & {\\n    opacity: 1;\\n  }\\n\"])), transition.medium('opacity'), classNames.main);\nconst PoweredBy = styled('span').attrs({\n  title: 'microlink.io'\n})(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  background: url('https://cdn.microlink.io/logo/logo.svg') no-repeat center\\n    center;\\n  display: block;\\n  margin-left: 15px;\\n  transition: \", \";\\n  will-change: filter, opacity;\\n  &:not(:hover) {\\n    filter: grayscale(100%);\\n    opacity: 0.75;\\n  }\\n\\n  min-width: \", \";\\n  width: \", \";\\n  background-size: \", \";\\n  height: \", \";\\n\"])), transition.medium('filter', 'opacity'), BADGE_WIDTH, BADGE_WIDTH, BADGE_WIDTH, BADGE_HEIGHT);\nconst CardContent = () => {\n  const {\n    state: {\n      description,\n      title,\n      url\n    },\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  const isSmallCard = isSmall(size);\n  const formattedUrl = useMemo(() => getHostname(url), [url]);\n  const handleOnClick = useCallback(e => {\n    e.preventDefault();\n    window.open('https://www.microlink.io', '_blank');\n  }, []);\n  return /*#__PURE__*/React.createElement(Content, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(Header, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(CardText, {\n    $useNanoClamp: false\n  }, title)), !isSmallCard && /*#__PURE__*/React.createElement(Description, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(CardText, {\n    lines: 2\n  }, description)), /*#__PURE__*/React.createElement(Footer, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(Author, {\n    $useNanoClamp: false\n  }, formattedUrl), /*#__PURE__*/React.createElement(PoweredBy, {\n    onClick: handleOnClick\n  })));\n};\n\nvar _templateObject$f, _templateObject2$b, _templateObject3$a, _templateObject4$8;\nconst emptyStatePulse = keyframes(_templateObject$f || (_templateObject$f = _taggedTemplateLiteral([\"\\n  0% {\\n    background: #e1e8ed;\\n  }\\n  70% {\\n    background: #cdd4d8;\\n  }\\n  100% {\\n    background: #e1e8ed;\\n  }\\n\"])));\nconst emptyStateImagePulse = keyframes(_templateObject2$b || (_templateObject2$b = _taggedTemplateLiteral([\"\\n  0% {\\n    background: #e1e8ed;\\n  }\\n  70% {\\n    background: #dce3e8;\\n  }\\n  100% {\\n    background: #e1e8ed;\\n  }\\n\"])));\nconst emptyStateAnimation = css(_templateObject3$a || (_templateObject3$a = _taggedTemplateLiteral([\"\\n  animation: \", \" .75s linear infinite;\\n\"])), emptyStatePulse);\nconst emptyStateImageAnimation = css(_templateObject4$8 || (_templateObject4$8 = _taggedTemplateLiteral([\"\\n  animation: \", \" 1.25s linear infinite;\\n\"])), emptyStateImagePulse);\n\nvar _templateObject$e, _templateObject2$a, _templateObject3$9;\nconst ImageLoadCatcher = styled('img')(_templateObject$e || (_templateObject$e = _taggedTemplateLiteral([\"\\n  height: 1px;\\n  width: 1px;\\n  position: absolute;\\n  z-index: -1;\\n\"])));\nconst loadingOverlay = css(_templateObject2$a || (_templateObject2$a = _taggedTemplateLiteral([\"\\n  &::after {\\n    content: '';\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    background: #e1e8ed;\\n    z-index: 1;\\n    transition: \", \";\\n    will-change: opacity;\\n\\n    \", \";\\n  }\\n\"])), transition.medium('opacity', 'visibility'), _ref => {\n  let {\n    $isLoading\n  } = _ref;\n  return css(_templateObject3$9 || (_templateObject3$9 = _taggedTemplateLiteral([\"\\n      opacity: \", \";\\n      visibility: \", \";\\n    \"])), $isLoading ? 1 : 0, $isLoading ? '$visible' : 'hidden');\n});\n\nvar _templateObject$d, _templateObject2$9, _templateObject3$8, _templateObject4$7, _templateObject5$5;\nconst mediaSizeStyles = {\n  small: css(_templateObject$d || (_templateObject$d = _taggedTemplateLiteral([\"\\n    flex: 0 0 48px;\\n  \"]))),\n  normal: css(_templateObject2$9 || (_templateObject2$9 = _taggedTemplateLiteral([\"\\n    flex: 0 0 125px;\\n\\n    \", \"\\n  \"])), media.mobile(_templateObject3$8 || (_templateObject3$8 = _taggedTemplateLiteral([\"\\n      flex: 0 0 92px;\\n    \"])))),\n  large: css(_templateObject4$7 || (_templateObject4$7 = _taggedTemplateLiteral([\"\\n    flex: 1;\\n\\n    &::before {\\n      padding-bottom: 0;\\n    }\\n  \"])))\n};\nconst StyledWrap = styled('div')(_templateObject5$5 || (_templateObject5$5 = _taggedTemplateLiteral([\"\\n  background: transparent no-repeat center center / cover;\\n  display: block;\\n  overflow: hidden;\\n  height: auto;\\n  position: relative;\\n\\n  &::before {\\n    content: '';\\n    padding-bottom: 100%;\\n    display: block;\\n  }\\n\\n  \", \";\\n\\n  \", \";\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return mediaSizeStyles[$cardSize];\n}, loadingOverlay);\nconst Wrap$1 = props => {\n  const {\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  return /*#__PURE__*/React.createElement(StyledWrap, _extends({\n    $cardSize: size\n  }, props));\n};\n\nvar _templateObject$c;\nconst ImageWrap = styled(Wrap$1).attrs({\n  className: \"\".concat(classNames.media, \" \").concat(classNames.image)\n})(_templateObject$c || (_templateObject$c = _taggedTemplateLiteral([\"\\n  background-image: \", \";\\n\"])), _ref => {\n  let {\n    url\n  } = _ref;\n  return url ? \"url('\".concat(imageProxy(url), \"')\") : '';\n});\nconst ImageComponent = props => {\n  const {\n    state: {\n      imageUrl\n    }\n  } = useContext(GlobalContext);\n  return /*#__PURE__*/React.createElement(ImageWrap, _extends({\n    url: imageUrl\n  }, props));\n};\n\nvar _templateObject$b, _templateObject2$8, _templateObject3$7, _templateObject4$6, _FooterEmpty;\nconst MediaEmpty = styled(ImageComponent)(_templateObject$b || (_templateObject$b = _taggedTemplateLiteral([\"\\n  \", \";\\n\"])), emptyStateImageAnimation);\nconst HeaderEmpty = styled('span')(_templateObject2$8 || (_templateObject2$8 = _taggedTemplateLiteral([\"\\n  opacity: 0.8;\\n  height: 16px;\\n  width: \", \";\\n  display: block;\\n  background: #e1e8ed;\\n  margin: \", \";\\n  \", \";\\n\\n  \", \";\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return !isSmall($cardSize) ? '60%' : '75%';\n}, _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return !isSmall($cardSize) ? '2px 0 8px' : '0 20px 0 0';\n}, emptyStateAnimation, _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return !isLarge($cardSize) && \"\\n    height: 15px;\\n  \";\n});\nconst DescriptionEmpty = styled('span')(_templateObject3$7 || (_templateObject3$7 = _taggedTemplateLiteral([\"\\n  opacity: 0.8;\\n  height: 14px;\\n  width: 95%;\\n  display: block;\\n  position: relative;\\n  \", \";\\n  animation-delay: 0.125s;\\n\"])), emptyStateAnimation);\nconst FooterEmpty = styled('span')(_templateObject4$6 || (_templateObject4$6 = _taggedTemplateLiteral([\"\\n  opacity: 0.8;\\n  height: 12px;\\n  width: 30%;\\n  display: block;\\n  \", \" animation-delay: .25s;\\n\\n  \", \";\\n\"])), emptyStateAnimation, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return !isLarge($cardSize) && \"\\n    height: 10px;\\n  \";\n});\nconst CardEmptyState = () => {\n  const {\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  const isSmallCard = isSmall(size);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaEmpty, {\n    $cardSize: size\n  }), /*#__PURE__*/React.createElement(Content, {\n    $cardSize: size\n  }, /*#__PURE__*/React.createElement(HeaderEmpty, {\n    $cardSize: size\n  }), !isSmallCard ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DescriptionEmpty, {\n    $cardSize: size\n  }), /*#__PURE__*/React.createElement(DescriptionEmpty, {\n    $cardSize: size,\n    style: {\n      marginBottom: '12px'\n    }\n  })) : null, _FooterEmpty || (_FooterEmpty = /*#__PURE__*/React.createElement(FooterEmpty, null))));\n};\n\nvar _templateObject$a;\nconst MediaButton = styled('div')(_templateObject$a || (_templateObject$a = _taggedTemplateLiteral([\"\\n  backface-visibility: hidden;\\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\\n  transition: \", \";\\n  will-change: transform;\\n\\n  > svg {\\n    display: block;\\n  }\\n\\n  &:active:not(:focus) {\\n    transform: scale(0.9);\\n  }\\n\"])), transition.short('transform'));\n\nvar _path$2, _path2$2, _templateObject$9, _templateObject2$7, _templateObject3$6, _templateObject4$5, _templateObject5$4, _templateObject6$1, _templateObject7$1;\nconst VolumeMute = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 14 14\"\n}, props), _path$2 || (_path$2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M15.5 6.205l-.705-.705L13 7.295 11.205 5.5l-.705.705L12.295 8 10.5 9.795l.705.705L13 8.705l1.795 1.795.705-.705L13.705 8 15.5 6.205zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z\",\n  transform: \"translate(-1 -1)\"\n})));\nconst VolumeUp = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 14 14\"\n}, props), _path2$2 || (_path2$2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M13.58 4.04l-.765.645a5 5 0 01-.145 6.615l.735.7a6 6 0 00.175-7.94v-.02zM10.79 6a3 3 0 01-.09 3.97l.735.68a4 4 0 00.115-5.295L10.79 6zM9 15a.5.5 0 01-.355-.15L4.835 11H1.5a.5.5 0 01-.5-.5v-5a.5.5 0 01.5-.5h3.335l3.81-3.85a.5.5 0 01.705 0 .5.5 0 01.15.35v13a.5.5 0 01-.5.5z\",\n  transform: \"translate(-1 -1)\"\n})));\nconst BottomControls = styled('div')(_templateObject$9 || (_templateObject$9 = _taggedTemplateLiteral([\"\\n  z-index: 2;\\n  position: absolute;\\n  bottom: \", \"px;\\n  left: 0;\\n  right: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  transition: \", \";\\n  will-change: opacity;\\n\"])), _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return isLarge($cardSize) ? 18 : 14;\n}, transition.medium('opacity'));\nconst VolumeIcon = styled('svg')(_templateObject2$7 || (_templateObject2$7 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n\"])));\nconst VolumeButton = styled(MediaButton).attrs({\n  className: classNames.volumeControl\n})(_templateObject3$6 || (_templateObject3$6 = _taggedTemplateLiteral([\"\\n  \", \" {\\n    width: \", \"px;\\n    height: \", \"px;\\n\\n    \", \"\\n  }\\n\"])), VolumeIcon, _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return isLarge($cardSize) ? 16 : 14;\n}, _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return isLarge($cardSize) ? 16 : 14;\n}, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return !isLarge($cardSize) && media.mobile(_templateObject4$5 || (_templateObject4$5 = _taggedTemplateLiteral([\"\\n      width: 12px;\\n      height: 12px;\\n    \"])));\n});\nconst PlaybackRateButton = styled(MediaButton).attrs({\n  className: classNames.rateControl\n})(_templateObject5$4 || (_templateObject5$4 = _taggedTemplateLiteral([\"\\n  font-size: \", \"px;\\n  min-width: \", \"px;\\n  line-height: 1;\\n  font-weight: bold;\\n  border: 1.5px solid #fff;\\n  border-radius: 9999px;\\n  padding: 1px 5px;\\n  text-align: center;\\n  color: #fff;\\n  margin-left: 10px;\\n\\n  \", \"\\n\"])), _ref5 => {\n  let {\n    $cardSize\n  } = _ref5;\n  return isLarge($cardSize) ? 12 : 10;\n}, _ref6 => {\n  let {\n    $cardSize\n  } = _ref6;\n  return isLarge($cardSize) ? 33 : 28;\n}, _ref7 => {\n  let {\n    $cardSize\n  } = _ref7;\n  return !isLarge($cardSize) && media.mobile(_templateObject6$1 || (_templateObject6$1 = _taggedTemplateLiteral([\"\\n    font-size: 8px;\\n    margin-left: 8px;\\n    min-width: 23px;\\n  \"])));\n});\nconst TimeLabel = styled('span').attrs({\n  className: classNames.progressTime\n})(_templateObject7$1 || (_templateObject7$1 = _taggedTemplateLiteral([\"\\n  margin: \", \";\\n  font-family: \", \";\\n  font-size: 12px;\\n  padding: 0 16px;\\n  color: #fff;\\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\\n\"])), _ref8 => {\n  let {\n    $right\n  } = _ref8;\n  return !$right ? '0 auto 0 0' : '0 0 0 auto';\n}, font.mono);\nconst FooterControls = _ref9 => {\n  let {\n    $cardSize,\n    currentTime,\n    endTime,\n    isMuted,\n    onMuteClick,\n    onPlaybackRateClick,\n    playbackRate\n  } = _ref9;\n  const VolumeComponent = useMemo(() => isMuted ? VolumeMute : VolumeUp, [isMuted]);\n  const isLargeCard = useMemo(() => isLarge($cardSize), [$cardSize]);\n  return /*#__PURE__*/React.createElement(BottomControls, {\n    $cardSize: $cardSize\n  }, isLargeCard && /*#__PURE__*/React.createElement(TimeLabel, null, currentTime), /*#__PURE__*/React.createElement(VolumeButton, {\n    title: isMuted ? 'Unmute' : 'Mute',\n    $cardSize: $cardSize,\n    onClick: onMuteClick\n  }, /*#__PURE__*/React.createElement(VolumeIcon, {\n    as: VolumeComponent\n  })), /*#__PURE__*/React.createElement(PlaybackRateButton, {\n    title: \"Playback Rate\",\n    $cardSize: $cardSize,\n    onClick: onPlaybackRateClick\n  }, /*#__PURE__*/React.createElement(\"span\", null, playbackRate, \"x\")), isLargeCard && /*#__PURE__*/React.createElement(TimeLabel, {\n    $right: true\n  }, endTime));\n};\n\nconst _excluded$5 = [\"$isPlaying\"];\nvar _path$1, _path2$1, _templateObject$8, _templateObject2$6, _templateObject3$5, _templateObject4$4;\nconst Pause = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 16 20\"\n}, props), _path$1 || (_path$1 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M12 6h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2zm10 0h-2a2 2 0 00-2 2v16a2 2 0 002 2h2a2 2 0 002-2V8a2 2 0 00-2-2z\",\n  transform: \"translate(-8 -6)\"\n})));\nconst Play = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 21 24\"\n}, props), _path2$1 || (_path2$1 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFF\",\n  fillRule: \"evenodd\",\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  d: \"M7 28a1 1 0 01-1-1V5a1 1 0 011.501-.865l19 11a1 1 0 010 1.73l-19 11A.998.998 0 017 28z\",\n  transform: \"translate(-6 -4)\"\n})));\nconst iconSizes = {\n  large: '50px',\n  normal: '35px',\n  small: '20px'\n};\nconst PlaybackIcon = styled('svg')(_templateObject$8 || (_templateObject$8 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n\"])));\nconst PlaybackButtonWrap = styled(MediaButton).attrs({\n  className: classNames.playbackControl\n})(_templateObject2$6 || (_templateObject2$6 = _taggedTemplateLiteral([\"\\n  \", \" {\\n    \", \"\\n  }\\n\"])), PlaybackIcon, _ref => {\n  let {\n    $cardSize\n  } = _ref;\n  return css(_templateObject3$5 || (_templateObject3$5 = _taggedTemplateLiteral([\"\\n      width: \", \";\\n      height: \", \";\\n      padding: \", \";\\n\\n      \", \"\\n    \"])), iconSizes[$cardSize], iconSizes[$cardSize], isLarge($cardSize) ? 0 : '8px', !isLarge($cardSize) && !isSmall($cardSize) && media.mobile(_templateObject4$4 || (_templateObject4$4 = _taggedTemplateLiteral([\"\\n        width: calc(\", \" * 1.2);\\n        height: calc(\", \" * 1.2);\\n      \"])), iconSizes.small, iconSizes.small));\n});\nconst PlaybackButton = _ref2 => {\n  let {\n      $isPlaying\n    } = _ref2,\n    props = _objectWithoutProperties(_ref2, _excluded$5);\n  const PlaybackComponent = useMemo(() => $isPlaying ? Pause : Play, [$isPlaying]);\n  return /*#__PURE__*/React.createElement(PlaybackButtonWrap, _extends({\n    title: $isPlaying ? 'Pause' : 'Play'\n  }, props), /*#__PURE__*/React.createElement(PlaybackIcon, {\n    as: PlaybackComponent\n  }));\n};\n\nvar _templateObject$7, _templateObject2$5;\nconst SCRUBBER_SIZE = 12;\nconst scrubberSizeScales = {\n  normal: 0.8,\n  small: 0.9\n};\nconst getScrubberSize = size => Math.floor(SCRUBBER_SIZE * (scrubberSizeScales[size] || 1));\nconst Scrubber = styled('div').attrs(_ref => {\n  let {\n    $isVisible,\n    $positionX\n  } = _ref;\n  return {\n    style: {\n      left: $positionX,\n      transform: \"scale(\".concat($isVisible ? 1 : 0.5, \") translate(-50%, -50%)\"),\n      opacity: $isVisible ? 1 : 0,\n      visibility: $isVisible ? '$visible' : 'hidden'\n    }\n  };\n})(_templateObject$7 || (_templateObject$7 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 50%;\\n  background: #ffffff;\\n  border-radius: 50%;\\n  transform-origin: center center;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\\n  transition: \", \";\\n  will-change: left, transform, opacity, visibility;\\n  backface-visibility: hidden;\\n  z-index: 3;\\n\\n  \", \"\\n\"])), transition.short('transform', 'opacity', 'visibility'), _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  const scrubberSize = getScrubberSize($cardSize);\n  return css(_templateObject2$5 || (_templateObject2$5 = _taggedTemplateLiteral([\"\\n      height: \", \"px;\\n      width: \", \"px;\\n    \"])), scrubberSize, scrubberSize);\n});\n\nconst _excluded$4 = [\"$isDragging\", \"$isVisible\", \"label\", \"$positionX\", \"size\"];\nvar _templateObject$6;\nconst BASE_FONT_SIZE = 11;\nconst sizeScales$1 = {\n  normal: 0.8\n};\nconst getMarkerFontSize = size => BASE_FONT_SIZE * (sizeScales$1[size] || 1);\nconst TooltipBase = styled('span').attrs(_ref => {\n  let {\n    $position,\n    $isDragging,\n    $visible\n  } = _ref;\n  return {\n    style: {\n      left: \"\".concat($position, \"px\"),\n      top: $visible ? '-4px' : '0px',\n      visibility: $visible ? '$visible' : 'hidden',\n      opacity: $visible ? 1 : 0,\n      transform: \"translate(-50%, \".concat(!$isDragging ? -100 : -110, \"%)\")\n    }\n  };\n})(_templateObject$6 || (_templateObject$6 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  background: rgba(24, 25, 25, 0.75);\\n  color: #fff;\\n  text-shadow: 0 1px 2px rgba(24, 25, 25, 0.15);\\n  padding: 2px 3px;\\n  border-radius: 4px;\\n  font-family: \", \";\\n  font-size: \", \"px;\\n  line-height: 1;\\n  transition: \", \",\\n    \", \";\\n  will-change: top, left, visibility, opacity, transform;\\n  backface-visibility: hidden;\\n\"])), font.mono, _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return getMarkerFontSize($cardSize);\n}, transition.medium('opacity', 'visibility', 'transform'), transition.long('top'));\nconst Tooltip = /*#__PURE__*/forwardRef((_ref3, ref) => {\n  let {\n      $isDragging,\n      $isVisible,\n      label,\n      $positionX,\n      size\n    } = _ref3,\n    props = _objectWithoutProperties(_ref3, _excluded$4);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TooltipBase, _extends({\n    $visible: $isVisible,\n    $position: $positionX,\n    $cardSize: size,\n    ref: ref,\n    $isDragging: $isDragging\n  }, props), label));\n});\nTooltip.displayName = 'Tooltip';\n\nconst _excluded$3 = [\"key\"];\nvar _templateObject$5, _templateObject2$4, _templateObject3$4, _templateObject4$3, _templateObject5$3, _templateObject6, _templateObject7;\nconst HEIGHT$1 = 6;\nconst PADDING = 6;\nconst heightScales = {\n  normal: 0.7,\n  small: 0.6\n};\nconst activeHeightScales = {\n  small: 0.9,\n  large: 1.4\n};\nconst getProgressBarHeight = size => Math.floor(HEIGHT$1 * (heightScales[size] || 1));\nconst getProgressBarActiveHeight = size => Math.floor(HEIGHT$1 * (activeHeightScales[size] || 1));\nconst OuterWrap$1 = styled('div').attrs(() => ({\n  className: classNames.progressBar\n}))(_templateObject$5 || (_templateObject$5 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  padding: \", \"px \", \"px \", \"px;\\n  z-index: 2;\\n  backface-visibility: hidden;\\n\"])), PADDING, PADDING / 2, PADDING / 2);\nconst BarsWrap = styled('div').attrs(_ref => {\n  let {\n    $cardSize,\n    $isDragging\n  } = _ref;\n  if ($isDragging) {\n    const activeHeight = getProgressBarActiveHeight($cardSize);\n    return {\n      style: {\n        height: \"\".concat(activeHeight, \"px\")\n      }\n    };\n  }\n  return {};\n})(_templateObject2$4 || (_templateObject2$4 = _taggedTemplateLiteral([\"\\n  background: transparent;\\n  border-radius: 9999px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\\n  background: rgba(255, 255, 255, 0.15);\\n  transition: \", \";\\n  will-change: height;\\n  pointer-events: none;\\n  position: relative;\\n\\n  \", \"\\n\"])), transition.short('height'), _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  const height = getProgressBarHeight($cardSize);\n  const activeHeight = getProgressBarActiveHeight($cardSize);\n  return css(_templateObject3$4 || (_templateObject3$4 = _taggedTemplateLiteral([\"\\n      height: \", \"px;\\n\\n      \", \":hover & {\\n        height: \", \"px;\\n      }\\n    \"])), height, OuterWrap$1, activeHeight);\n});\nconst ProgressLine = styled('div')(_templateObject4$3 || (_templateObject4$3 = _taggedTemplateLiteral([\"\\n  border-radius: inherit;\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;\\n\"])));\nconst ProgressMask = styled('div').attrs(_ref3 => {\n  let {\n    $maskScale\n  } = _ref3;\n  return {\n    style: {\n      transform: \"scaleX(\".concat($maskScale, \")\")\n    }\n  };\n})(_templateObject5$3 || (_templateObject5$3 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  top: -50%;\\n  height: 200%;\\n  width: 100%;\\n  background: #ffffff;\\n  transform-origin: left center;\\n  will-change: transform;\\n\"])));\nconst ProgressHover = styled('div').attrs(_ref4 => {\n  let {\n    $cursorRatio,\n    $isHovering,\n    $progressPercent\n  } = _ref4;\n  return {\n    style: {\n      left: $progressPercent,\n      transform: \"scaleX(\".concat($cursorRatio, \")\"),\n      opacity: $isHovering ? 1 : 0,\n      visibility: $isHovering ? '$visible' : 'hidden'\n    }\n  };\n})(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(255, 255, 255, 0.4);\\n  transform-origin: left center;\\n  transition: \", \";\\n  will-change: left, transform, opacity, $visible;\\n\"])), transition.short('opacity', 'visibility'));\nconst BufferedChunk = styled('div').attrs(_ref5 => {\n  let {\n    start,\n    end\n  } = _ref5;\n  return {\n    style: {\n      left: \"\".concat(start, \"px\"),\n      right: \"\".concat(end, \"px\")\n    }\n  };\n})(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.35);\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n\"])));\nconst ProgressBar = _ref6 => {\n  let {\n    bufferedMedia,\n    cursorX,\n    duration,\n    hoveredTime,\n    $isDragging,\n    $isHovering,\n    onClick,\n    onMouseDown,\n    onMouseOver,\n    progress,\n    showTooltip\n  } = _ref6;\n  const {\n    props: {\n      size\n    }\n  } = useContext(GlobalContext);\n  const wrapRef = useRef();\n  const tooltipRef = useRef();\n  const isSmallCard = useMemo(() => isSmall(size), [size]);\n  const getWrapWidth = useCallback(() => {\n    if (wrapRef.current) {\n      return wrapRef.current.getBoundingClientRect().width - PADDING;\n    }\n    return 0;\n  }, []);\n  const progressRatio = useMemo(() => clampNumber(progress / duration, 0, 1), [duration, progress]);\n  const $progressPercent = useMemo(() => \"\".concat(clampNumber(progressRatio * 100, 1, 99), \"%\"), [progressRatio]);\n  const $cursorRatio = useMemo(() => {\n    if (wrapRef.current) {\n      const wrapWidth = getWrapWidth();\n      const startPoint = progressRatio * wrapWidth;\n      const cursorPosition = cursorX - startPoint;\n      const width = wrapWidth - startPoint;\n      if (cursorPosition > 0) {\n        return clampNumber((cursorPosition / width).toFixed(3), 0, 0.99);\n      }\n    }\n    return 0;\n  }, [cursorX, getWrapWidth, progressRatio]);\n  const bufferedMediaChunks = useMemo(() => {\n    const wrapWidth = getWrapWidth();\n    return bufferedMedia.map((chunk, key) => {\n      const start = chunk.start * wrapWidth;\n      const end = wrapWidth - chunk.end * wrapWidth;\n      return {\n        key,\n        start,\n        end\n      };\n    });\n  }, [bufferedMedia, getWrapWidth]);\n  const tooltipLabel = useMemo(() => formatSeconds(hoveredTime), [hoveredTime]);\n  const tooltipPositionX = useMemo(() => {\n    if (wrapRef.current && tooltipRef.current) {\n      const wrapWidth = getWrapWidth();\n      const tooltipWidth = tooltipRef.current.getBoundingClientRect().width;\n      const tooltipHalf = tooltipWidth / 2;\n      return clampNumber(cursorX, tooltipHalf, wrapWidth - tooltipHalf);\n    }\n    return 0;\n  }, [cursorX, getWrapWidth]);\n  const mouseEvents = useMemo(() => ({\n    onClick,\n    onMouseDown,\n    onMouseOver\n  }), [onClick, onMouseDown, onMouseOver]);\n  const showAccessories = useMemo(() => $isDragging || $isHovering, [$isDragging, $isHovering]);\n  return /*#__PURE__*/React.createElement(OuterWrap$1, _extends({\n    $cardSize: size,\n    ref: wrapRef\n  }, mouseEvents), /*#__PURE__*/React.createElement(BarsWrap, {\n    $cardSize: size,\n    $isDragging: $isDragging\n  }, /*#__PURE__*/React.createElement(ProgressLine, null, /*#__PURE__*/React.createElement(ProgressHover, {\n    $cursorRatio: $cursorRatio,\n    $isHovering: $isHovering,\n    $progressPercent: $progressPercent\n  }), bufferedMediaChunks.map(_ref7 => {\n    let {\n        key\n      } = _ref7,\n      chunk = _objectWithoutProperties(_ref7, _excluded$3);\n    return /*#__PURE__*/React.createElement(BufferedChunk, _extends({\n      key: key\n    }, chunk));\n  }), /*#__PURE__*/React.createElement(ProgressMask, {\n    $maskScale: progressRatio\n  })), /*#__PURE__*/React.createElement(Scrubber, {\n    $cardSize: size,\n    $isVisible: showAccessories,\n    $positionX: $progressPercent\n  }), !isSmallCard && /*#__PURE__*/React.createElement(Tooltip, {\n    $isDragging: $isDragging,\n    $isVisible: showAccessories,\n    label: tooltipLabel,\n    $positionX: tooltipPositionX,\n    ref: tooltipRef,\n    size: size\n  })));\n};\n\nvar _path, _path2, _templateObject$4, _templateObject2$3, _templateObject3$3;\nconst _excluded$2 = [\"$cardSize\"],\n  _excluded2$1 = [\"$cardSize\"],\n  _excluded3 = [\"type\", \"$cardSize\"];\nconst Backward = _ref => {\n  let props = _objectWithoutProperties(_ref, _excluded$2);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 29\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    d: \"M4 18c0 6.627 5.373 12 12 12s12-5.373 12-12S22.627 6 16 6h-4V1L6 7l6 6V8h4c5.523 0 10 4.477 10 10s-4.477 10-10 10S6 23.523 6 18H4zm15.63 4.13a2.84 2.84 0 01-1.28-.27 2.44 2.44 0 01-.89-.77 3.57 3.57 0 01-.52-1.25 7.69 7.69 0 01-.17-1.68 7.83 7.83 0 01.17-1.68c.094-.445.27-.87.52-1.25.23-.325.535-.59.89-.77.4-.188.838-.28 1.28-.27a2.44 2.44 0 012.16 1 5.23 5.23 0 01.7 2.93 5.23 5.23 0 01-.7 2.93 2.44 2.44 0 01-2.16 1.08zm0-1.22c.411.025.8-.19 1-.55a3.38 3.38 0 00.37-1.51v-1.38a3.31 3.31 0 00-.29-1.5 1.23 1.23 0 00-2.06 0 3.31 3.31 0 00-.29 1.5v1.38a3.38 3.38 0 00.29 1.51c.195.356.575.57.98.55zm-9 1.09v-1.18h2v-5.19l-1.86 1-.55-1.06 2.32-1.3H14v6.5h1.78V22h-5.15z\",\n    transform: \"translate(-4 -1)\"\n  })));\n};\nconst Forward = _ref2 => {\n  let props = _objectWithoutProperties(_ref2, _excluded2$1);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 29\"\n  }, props), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    d: \"M26 18c0 5.523-4.477 10-10 10S6 23.523 6 18 10.477 8 16 8h4v5l6-6-6-6v5h-4C9.373 6 4 11.373 4 18s5.373 12 12 12 12-5.373 12-12h-2zm-6.36 4.13a2.81 2.81 0 01-1.28-.27 2.36 2.36 0 01-.89-.77 3.39 3.39 0 01-.47-1.25 7.12 7.12 0 01-.17-1.68 7.24 7.24 0 01.17-1.68 3.46 3.46 0 01.52-1.25 2.36 2.36 0 01.89-.77c.4-.19.838-.282 1.28-.27a2.44 2.44 0 012.16 1 5.31 5.31 0 01.7 2.93 5.31 5.31 0 01-.7 2.93 2.44 2.44 0 01-2.21 1.08zm0-1.22a1 1 0 001-.55c.22-.472.323-.99.3-1.51v-1.38a3.17 3.17 0 00-.3-1.5 1.22 1.22 0 00-2.05 0 3.18 3.18 0 00-.29 1.5v1.38a3.25 3.25 0 00.29 1.51 1 1 0 001.05.55zm-7.02-3.49c.355.035.71-.06 1-.27a.84.84 0 00.31-.68v-.08a.94.94 0 00-.3-.74 1.2 1.2 0 00-.83-.27 1.65 1.65 0 00-.89.24 2.1 2.1 0 00-.68.68l-.93-.83a5.37 5.37 0 01.44-.51 2.7 2.7 0 01.54-.4 2.55 2.55 0 01.7-.27 3.25 3.25 0 01.87-.1 3.94 3.94 0 011.06.14c.297.078.576.214.82.4.224.168.408.383.54.63.123.26.184.543.18.83a2 2 0 01-.11.67 1.82 1.82 0 01-.32.52 1.79 1.79 0 01-.47.36 2.27 2.27 0 01-.57.2V18c.219.04.431.11.63.21a1.7 1.7 0 01.85.93c.084.234.124.481.12.73a2 2 0 01-.2.92 2 2 0 01-.58.72 2.66 2.66 0 01-.89.45 3.76 3.76 0 01-1.15.16 4.1 4.1 0 01-1-.11 3.1 3.1 0 01-.76-.31 2.76 2.76 0 01-.56-.45 4.22 4.22 0 01-.44-.55l1.07-.81c.082.147.175.288.28.42.105.128.226.243.36.34.137.097.29.171.45.22a2 2 0 00.57.07 1.45 1.45 0 001-.3 1.12 1.12 0 00.34-.85v-.08a1 1 0 00-.37-.8 1.78 1.78 0 00-1.06-.28h-.76v-1.21h.74z\",\n    transform: \"translate(-4 -1)\"\n  })));\n};\nconst SeekIcon = styled('svg')(_templateObject$4 || (_templateObject$4 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n  width: \", \"px;\\n  height: \", \"px;\\n\\n  \", \"\\n\"])), _ref3 => {\n  let {\n    $cardSize\n  } = _ref3;\n  return isLarge($cardSize) ? 30 : 24;\n}, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return isLarge($cardSize) ? 30 : 24;\n}, _ref5 => {\n  let {\n    $cardSize\n  } = _ref5;\n  return !isLarge($cardSize) && media.mobile(_templateObject2$3 || (_templateObject2$3 = _taggedTemplateLiteral([\"\\n    width: 0;\\n    height: 0;\\n  \"])));\n});\nconst SeekButtonWrap = styled(MediaButton)(_templateObject3$3 || (_templateObject3$3 = _taggedTemplateLiteral([\"\\n  margin: 0 \", \";\\n\"])), _ref6 => {\n  let {\n    $cardSize\n  } = _ref6;\n  return isLarge($cardSize) ? '28px' : '3px';\n});\nconst SeekButton = _ref7 => {\n  let {\n      type = 'rewind',\n      $cardSize\n    } = _ref7,\n    props = _objectWithoutProperties(_ref7, _excluded3);\n  const IconComponent = useMemo(() => type === 'rewind' ? Backward : Forward, [type]);\n  return /*#__PURE__*/React.createElement(SeekButtonWrap, _extends({\n    title: type === 'rewind' ? 'Rewind' : 'Forward',\n    $cardSize: $cardSize\n  }, props), /*#__PURE__*/React.createElement(SeekIcon, {\n    as: IconComponent,\n    $cardSize: $cardSize\n  }));\n};\n\nvar _templateObject$3, _templateObject2$2, _templateObject3$2, _templateObject4$2, _templateObject5$2, _Svg;\nconst BASE_SIZE = 12;\nconst BASE_OFFSET = 6;\nconst offsetScales = {\n  normal: 0.8,\n  small: 0.6\n};\nconst sizeScales = {\n  normal: 0.9,\n  small: 0.8\n};\nconst getSpinnerOffset = size => Math.floor(BASE_OFFSET * (offsetScales[size] || 1));\nconst getSpinnerSize = size => Math.floor(BASE_SIZE * (sizeScales[size] || 1));\nconst rotate = keyframes(_templateObject$3 || (_templateObject$3 = _taggedTemplateLiteral([\"\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n\"])));\nconst dash = keyframes(_templateObject2$2 || (_templateObject2$2 = _taggedTemplateLiteral([\"\\n  0% {\\n    stroke-dasharray: 1, 150;\\n    stroke-dashoffset: 0;\\n  }\\n  50% {\\n    stroke-dasharray: 90, 150;\\n    stroke-dashoffset: -35;\\n  }\\n  100% {\\n    stroke-dasharray: 90, 150;\\n    stroke-dashoffset: -124;\\n  }\\n\"])));\nconst Wrap = styled(MediaButton).attrs(_ref => {\n  let {\n    $isVisible\n  } = _ref;\n  return {\n    style: {\n      opacity: $isVisible ? 1 : 0,\n      visibility: $isVisible ? '$visible' : 'hidden'\n    }\n  };\n})(_ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  const size = \"\".concat(getSpinnerSize($cardSize), \"px\");\n  const offset = \"\".concat(getSpinnerOffset($cardSize), \"px\");\n  return css(_templateObject3$2 || (_templateObject3$2 = _taggedTemplateLiteral([\"\\n    position: absolute;\\n    width: \", \";\\n    right: \", \";\\n    top: \", \";\\n    transition: \", \";\\n    will-change: opacity, visibility;\\n    pointer-events: none;\\n  \"])), size, offset, offset, transition.medium('opacity', 'visibility'));\n});\nconst Svg = styled('svg')(_templateObject4$2 || (_templateObject4$2 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  animation: \", \" 2s linear infinite;\\n  will-change: transform;\\n\"])), rotate);\nconst Circle = styled('circle')(_templateObject5$2 || (_templateObject5$2 = _taggedTemplateLiteral([\"\\n  stroke: #fff;\\n  stroke-linecap: round;\\n  stroke-width: 7;\\n  fill: none;\\n  animation: \", \" 1.5s ease-in-out infinite;\\n  will-change: stroke-dasharray, stroke-dashoffset;\\n\"])), dash);\nconst Spinner = _ref3 => {\n  let {\n    size,\n    $isVisible\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(Wrap, {\n    $cardSize: size,\n    className: classNames.spinner,\n    $isVisible: $isVisible\n  }, _Svg || (_Svg = /*#__PURE__*/React.createElement(Svg, {\n    viewBox: \"0 0 50 50\"\n  }, /*#__PURE__*/React.createElement(Circle, {\n    cx: \"25\",\n    cy: \"25\",\n    r: \"20\"\n  }))));\n};\n\nvar _templateObject$2, _templateObject2$1, _templateObject3$1, _templateObject4$1, _templateObject5$1;\nconst SPACE_KEY = 32;\nconst L_ARROW_KEY = 37;\nconst R_ARROW_KEY = 39;\nconst M_KEY = 77;\nconst OuterWrap = styled('div').attrs({\n  className: classNames.mediaControls\n})(_templateObject$2 || (_templateObject$2 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  transition: \", \", \", \";\\n  will-change: background;\\n  display: flex;\\n  flex-direction: column;\\n  pointer-events: auto;\\n\\n  \", \"\\n\"])), transition.long('background'), transition.medium('opacity'), _ref => {\n  let {\n    $hasInteracted,\n    $isDragging,\n    $isPlaying\n  } = _ref;\n  const bg = 'rgba(0, 0, 0, 0.35)';\n  const dragBg = 'rgba(0, 0, 0, 0.2)';\n  const isPaused = $hasInteracted && !$isPlaying;\n  return css(_templateObject2$1 || (_templateObject2$1 = _taggedTemplateLiteral([\"\\n      .\", \":hover & {\\n        background: \", \";\\n      }\\n\\n      .\", \":not(:hover) & {\\n        opacity: \", \";\\n        \", \";\\n      }\\n    \"])), classNames.main, !$isDragging ? bg : dragBg, classNames.main, !$hasInteracted || isPaused ? 1 : 0, isPaused && \"background: \".concat(bg));\n});\nconst InnerWrap = styled('div')(_templateObject3$1 || (_templateObject3$1 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 2;\\n\"])));\nconst ControlsTop = styled('div')(_templateObject4$1 || (_templateObject4$1 = _taggedTemplateLiteral([\"\\n  flex: 1;\\n\\n  \", \"\\n\"])), _ref2 => {\n  let {\n    $isVisible\n  } = _ref2;\n  return !$isVisible && css(_templateObject5$1 || (_templateObject5$1 = _taggedTemplateLiteral([\"\\n      *[class*='\", \"']:not(.\", \") {\\n        transition: \", \";\\n        opacity: 0;\\n        visibility: hidden;\\n      }\\n    \"])), classNames.mediaControls, classNames.progressTime, transition.medium('opacity', 'visibility'));\n});\nconst getNextPlaybackRate = rate => {\n  switch (rate) {\n    case 1:\n      return 1.25;\n    case 1.25:\n      return 1.5;\n    case 1.5:\n      return 2;\n    default:\n      return 1;\n  }\n};\nconst Controls = _ref3 => {\n  let {\n    MediaComponent,\n    mediaProps\n  } = _ref3;\n  const {\n    props: {\n      autoPlay,\n      controls,\n      mediaRef: propRef,\n      muted,\n      loop,\n      size\n    }\n  } = useContext(GlobalContext);\n  const [duration, setDuration] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const [buffered, setBuffered] = useState([]);\n  const [cursorX, setCursorX] = useState(0);\n  const [hoveredTime, setHoveredTime] = useState(0);\n  const [$isPlaying, setIsPlaying] = useState(autoPlay);\n  const [isMuted, setIsMuted] = useState(muted);\n  const [isBuffering, setIsBuffering] = useState(false);\n  const [$isHovering, setIsHovering] = useState(false);\n  const [$isDragging, setIsDragging] = useState(false);\n  const [playbackRate, setPlaybackRate] = useState(1);\n  const [$hasInteracted, setHasInteracted] = useState(autoPlay);\n  const [pausedByDrag, setPausedByDrag] = useState(false);\n  const mediaRef = useRef();\n  const setRefs = useCallback(node => {\n    mediaRef.current = node;\n    if (propRef) {\n      if (isFunction(propRef)) {\n        propRef(node);\n      } else {\n        propRef.current = node;\n      }\n    }\n  }, [propRef]);\n  const isNotSmall = useMemo(() => !isSmall(size), [size]);\n  const mediaEvents = useMemo(() => ({\n    onCanPlay: () => setIsBuffering(false),\n    onLoadedMetadata: e => setDuration(e.currentTarget.duration),\n    onPause: () => setIsPlaying(false),\n    onPlay: () => setIsPlaying(true),\n    onPlaying: () => setIsBuffering(false),\n    onProgress: e => setBuffered(e.currentTarget.buffered),\n    onRateChange: e => setPlaybackRate(e.currentTarget.playbackRate),\n    onTimeUpdate: e => setProgress(e.currentTarget.currentTime),\n    onVolumeChange: e => setIsMuted(e.currentTarget.muted),\n    onWaiting: e => setIsBuffering(true)\n  }), []);\n  const evaluateCursorPosition = useCallback(event => {\n    if (mediaRef.current) {\n      const bounds = event.currentTarget.getBoundingClientRect();\n      const cursor = clampNumber(Math.floor(event.clientX - bounds.left), 0, bounds.width);\n      const time = cursor / bounds.width * mediaRef.current.duration;\n      return {\n        cursor,\n        time\n      };\n    }\n    return {\n      cursor: 0,\n      time: 0\n    };\n  }, []);\n  const togglePlayback = useCallback(() => {\n    if (mediaRef.current) {\n      if (mediaRef.current.paused) {\n        if (!$hasInteracted) {\n          setHasInteracted(true);\n        }\n        mediaRef.current.play();\n      } else {\n        mediaRef.current.pause();\n      }\n    }\n  }, [$hasInteracted]);\n  const jumpTo = useCallback(time => {\n    if (mediaRef.current) {\n      const t = clampNumber(time, 0, mediaRef.current.duration);\n      mediaRef.current.currentTime = t;\n      setProgress(t);\n    }\n  }, []);\n  const onSeekClick = useCallback((event, type) => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (mediaRef.current) {\n      const {\n        currentTime\n      } = mediaRef.current;\n      jumpTo(type === 'rewind' ? currentTime - 10 : currentTime + 30);\n    }\n  }, [jumpTo]);\n  const onMuteClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (mediaRef.current) {\n      mediaRef.current.muted = !mediaRef.current.muted;\n    }\n  }, []);\n  const onPlaybackRateClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (mediaRef.current) {\n      mediaRef.current.playbackRate = getNextPlaybackRate(mediaRef.current.playbackRate);\n    }\n  }, []);\n  const onProgressBarClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragging(false);\n  }, []);\n  const onProgressBarMouseDown = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragging(true);\n    const {\n      time\n    } = evaluateCursorPosition(event);\n    jumpTo(time);\n  }, [evaluateCursorPosition, jumpTo]);\n  const onProgressBarMouseOver = useCallback(() => setIsHovering(true), []);\n  const onWrapClick = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if ($isDragging) {\n      setIsDragging(false);\n    } else {\n      togglePlayback();\n    }\n  }, [$isDragging, togglePlayback]);\n  const onWrapMouseMove = useCallback(event => {\n    if (($isDragging || $isHovering) && mediaRef.current) {\n      event.preventDefault();\n      const {\n        cursor,\n        time\n      } = evaluateCursorPosition(event);\n      setHoveredTime(time);\n      setCursorX(cursor);\n      if ($isDragging) {\n        if (!mediaRef.current.paused) {\n          mediaRef.current.pause();\n          setPausedByDrag(true);\n        }\n        jumpTo(time);\n      }\n    }\n  }, [evaluateCursorPosition, $isDragging, $isHovering, jumpTo]);\n  const onWrapMouseOver = useCallback(event => {\n    if ($isDragging && event.buttons === 0) {\n      setIsDragging(false);\n    }\n  }, [$isDragging]);\n  const onWrapKeyDown = useCallback(event => {\n    if ($isDragging) {\n      return;\n    }\n    const {\n      keyCode\n    } = event;\n    if ([SPACE_KEY, L_ARROW_KEY, R_ARROW_KEY, M_KEY].includes(keyCode) && mediaRef.current) {\n      event.preventDefault();\n      switch (keyCode) {\n        case SPACE_KEY:\n          togglePlayback();\n          break;\n        case L_ARROW_KEY:\n          jumpTo(mediaRef.current.currentTime - 5);\n          break;\n        case R_ARROW_KEY:\n          jumpTo(mediaRef.current.currentTime + 5);\n          break;\n        case M_KEY:\n          mediaRef.current.muted = !mediaRef.current.muted;\n          break;\n      }\n    }\n  }, [$isDragging, jumpTo, togglePlayback]);\n  const outerWrapEvents = useMemo(() => ({\n    onClick: onWrapClick,\n    onKeyDown: onWrapKeyDown,\n    onMouseMove: onWrapMouseMove,\n    onMouseOut: () => setIsHovering(false),\n    onMouseOver: onWrapMouseOver\n  }), [onWrapClick, onWrapKeyDown, onWrapMouseMove, onWrapMouseOver]);\n  const outerWrapTitle = useMemo(() => $hasInteracted ? {\n    title: ''\n  } : {}, [$hasInteracted]);\n  const bufferedMedia = useMemo(() => {\n    if (buffered && buffered.length && mediaRef.current) {\n      return [...Array(buffered.length).keys()].map(index => {\n        return {\n          start: buffered.start(index) / mediaRef.current.duration,\n          end: buffered.end(index) / mediaRef.current.duration\n        };\n      });\n    }\n    return [];\n  }, [buffered]);\n  const currentTime = useMemo(() => formatSeconds(progress || 0), [progress]);\n  const endTime = useMemo(() => formatSeconds(duration || 0), [duration]);\n  const footerControlsProps = useMemo(() => ({\n    $cardSize: size,\n    currentTime,\n    endTime,\n    isMuted,\n    onMuteClick,\n    onPlaybackRateClick,\n    playbackRate\n  }), [currentTime, endTime, isMuted, onMuteClick, onPlaybackRateClick, playbackRate, size]);\n  const progressBarProps = useMemo(() => ({\n    bufferedMedia,\n    cursorX,\n    duration,\n    hoveredTime,\n    $isDragging,\n    $isHovering,\n    onClick: onProgressBarClick,\n    onMouseDown: onProgressBarMouseDown,\n    onMouseOver: onProgressBarMouseOver,\n    progress,\n    showTooltip: $isDragging || $isHovering\n  }), [bufferedMedia, cursorX, duration, hoveredTime, $isDragging, $isHovering, onProgressBarClick, onProgressBarMouseDown, onProgressBarMouseOver, progress]);\n  useEffect(() => {\n    if (!$isDragging && pausedByDrag && mediaRef.current && mediaRef.current.paused) {\n      mediaRef.current.play();\n      setPausedByDrag(false);\n    }\n  }, [pausedByDrag, $isDragging]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaComponent, _extends({}, mediaProps, mediaEvents, {\n    ref: setRefs,\n    autoPlay: autoPlay,\n    loop: loop,\n    muted: muted\n  })), controls && /*#__PURE__*/React.createElement(OuterWrap, _extends({}, outerWrapTitle, {\n    tabIndex: 0,\n    $hasInteracted: $hasInteracted,\n    $isDragging: $isDragging,\n    $isPlaying: $isPlaying\n  }, outerWrapEvents), /*#__PURE__*/React.createElement(Spinner, {\n    size: size,\n    $isVisible: isBuffering\n  }), !$hasInteracted ? /*#__PURE__*/React.createElement(InnerWrap, null, /*#__PURE__*/React.createElement(PlaybackButton, {\n    $cardSize: size\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ControlsTop, {\n    $isVisible: !$isDragging\n  }, /*#__PURE__*/React.createElement(InnerWrap, null, isNotSmall && /*#__PURE__*/React.createElement(SeekButton, {\n    className: classNames.rwControl,\n    type: \"rewind\",\n    $cardSize: size,\n    onClick: event => onSeekClick(event, 'rewind')\n  }), /*#__PURE__*/React.createElement(PlaybackButton, {\n    $cardSize: size,\n    $isPlaying: $isPlaying\n  }), isNotSmall && /*#__PURE__*/React.createElement(SeekButton, {\n    className: classNames.ffwControl,\n    type: \"fastforward\",\n    $cardSize: size,\n    onClick: event => onSeekClick(event, 'fastforward')\n  })), isNotSmall && /*#__PURE__*/React.createElement(FooterControls, footerControlsProps)), /*#__PURE__*/React.createElement(ProgressBar, progressBarProps))));\n};\n\nvar _templateObject$1;\nconst VideoDOM = styled('video')(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n\\n  &::media-controls-start-playback-button {\\n    display: none;\\n    appearance: none;\\n  }\\n\"])));\nconst Video = props => {\n  const {\n    state: {\n      imageUrl,\n      playsInline,\n      videoUrl\n    }\n  } = useContext(GlobalContext);\n  const mediaProps = useMemo(() => {\n    const mediaProps = {\n      className: \"\".concat(classNames.media, \" \").concat(classNames.video),\n      src: videoUrl,\n      playsInline\n    };\n    if (imageUrl) mediaProps.poster = imageProxy(imageUrl);\n    return mediaProps;\n  }, [imageUrl, playsInline, videoUrl]);\n  return /*#__PURE__*/React.createElement(Wrap$1, _extends({\n    className: \"\".concat(classNames.mediaWrapper, \" \").concat(classNames.videoWrapper)\n  }, props), /*#__PURE__*/React.createElement(Controls, {\n    MediaComponent: VideoDOM,\n    mediaProps: mediaProps\n  }));\n};\n\nconst Audio = props => {\n  const {\n    state: {\n      audioUrl\n    }\n  } = useContext(GlobalContext);\n  const mediaProps = useMemo(() => ({\n    className: \"\".concat(classNames.media, \" \").concat(classNames.audio),\n    src: audioUrl\n  }), [audioUrl]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line\n    React.createElement(ImageComponent, _extends({\n      className: \"\".concat(classNames.mediaWrapper, \" \").concat(classNames.audioWrapper)\n    }, props), /*#__PURE__*/React.createElement(Controls, {\n      MediaComponent: \"audio\",\n      mediaProps: mediaProps\n    }))\n  );\n};\n\nconst isUrl = url => getUrlPath(url) !== null;\nconst MEDIA_COMPONENT = {\n  video: Video,\n  image: ImageComponent,\n  audio: Audio\n};\nconst getMediaType = (isAudio, isVideo) => {\n  if (isAudio) return 'audio';\n  if (isVideo) return 'video';\n  return 'image';\n};\nconst CardMedia = () => {\n  const {\n    state: {\n      imageUrl,\n      isAudio,\n      isVideo\n    }\n  } = useContext(GlobalContext);\n  const [isLoading, setIsLoading] = useState(isUrl(imageUrl));\n  const mediaType = getMediaType(isAudio, isVideo);\n  const MediaComponent = MEDIA_COMPONENT[mediaType];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaComponent, {\n    $isLoading: isLoading\n  }), isLoading && /*#__PURE__*/React.createElement(ImageLoadCatcher, {\n    src: imageUrl,\n    onLoad: () => setIsLoading(false)\n  }));\n};\n\nconst _excluded$1 = [\"href\", \"rel\", \"target\", \"as\"];\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nfunction ownKeys$1(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread$1(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys$1(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$1(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nconst HEIGHT = '382px';\nconst contrastStyle = _ref => {\n  let {\n    $backgroundColor,\n    color\n  } = _ref;\n  return css(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n  border-color: \", \";\\n  transition-property: filter;\\n  will-change: filter;\\n\\n  &&& {\\n    color: \", \";\\n  }\\n\\n  &:hover {\\n    filter: brightness(90%);\\n  }\\n\"])), $backgroundColor, color, color);\n};\nconst largeStyle = css(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  flex-direction: column;\\n  height: \", \";\\n  \", \";\\n\"])), HEIGHT, media.mobile(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    height: calc(\", \" * 7/9);\\n  \"])), HEIGHT));\nconst hoverStyle = css(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  transition-property: background, border-color;\\n  will-change: background, border-color;\\n  &:hover {\\n    background-color: var(--microlink-hover-background-color, #f5f8fa);\\n    border-color: var(--microlink-hover-border-color, #8899a680);\\n  }\\n\"])));\nconst rtlStyle = _ref2 => {\n  let {\n    $cardSize\n  } = _ref2;\n  return css(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  flex-direction: \", \";\\n\"])), isLarge($cardSize) ? 'column-reverse' : 'row-reverse');\n};\nconst baseStyle = css(() => \"\\n  max-width: var(--microlink-max-width, 500px);\\n  background-color: var(--microlink-background-color, #fff);\\n  border-width: var(--microlink-border-width, 1px);\\n  border-style: var(--microlink-border-style, solid);\\n  border-color: var(--microlink-border-color, #e1e8ed);\\n  color: var(--microlink-color, #181919);\\n  overflow: hidden;\\n  font-family: \".concat(font.sans, \";\\n  display: flex;\\n  text-decoration: none;\\n  opacity: 1;\\n  position: relative;\\n  transition-duration: \").concat(speed.medium, \";\\n  transition-timing-function: \").concat(animation.medium, \";\\n\\n  &:active,\\n  &:hover {\\n    outline: 0;\\n  }\\n\"));\nconst Element = styled('a')(baseStyle, _ref3 => {\n  let {\n    $isLoading,\n    contrast\n  } = _ref3;\n  return !$isLoading && !contrast && hoverStyle;\n}, _ref4 => {\n  let {\n    $cardSize\n  } = _ref4;\n  return isLarge($cardSize) && largeStyle;\n}, _ref5 => {\n  let {\n    direction\n  } = _ref5;\n  return direction === 'rtl' && rtlStyle;\n}, _ref6 => {\n  let {\n    $backgroundColor,\n    color,\n    contrast\n  } = _ref6;\n  return contrast && color && $backgroundColor && contrastStyle;\n}, _ref7 => {\n  let {\n    $backgroundColor,\n    color,\n    contrast\n  } = _ref7;\n  return contrast && (!color || !$backgroundColor) && hoverStyle;\n});\nconst CardWrap = /*#__PURE__*/forwardRef((_ref8, ref) => {\n  let {\n      href,\n      rel = 'noopener noreferrer',\n      target = '_blank',\n      as = 'a'\n    } = _ref8,\n    restProps = _objectWithoutProperties(_ref8, _excluded$1);\n  const {\n    state: {\n      $backgroundColor,\n      color,\n      title\n    },\n    props: {\n      size: $cardSize\n    }\n  } = useContext(GlobalContext);\n  return /*#__PURE__*/createElement(Element, _objectSpread$1(_objectSpread$1(_objectSpread$1({}, as === 'a' ? {\n    href,\n    rel,\n    target\n  } : undefined), restProps), {}, {\n    $backgroundColor,\n    $cardSize,\n    color,\n    ref,\n    title\n  }));\n});\nCardWrap.displayName = 'CardWrap';\n\n/* global IntersectionObserver */\n\nconst useIntersectionObserver = (enabled, options) => {\n  const [hasIntersected, setHasIntersected] = useState(false);\n  const refCallback = useCallback(node => {\n    if (enabled) {\n      const onIntersect = (_ref, self) => {\n        let [entry] = _ref;\n        if (entry.isIntersecting) {\n          setHasIntersected(true);\n          self.unobserve(entry.target);\n        }\n      };\n      const observer = new IntersectionObserver(onIntersect, options);\n      if (node !== null) {\n        observer.observe(node);\n      }\n    } else {\n      setHasIntersected(true);\n    }\n  }, [enabled, options]);\n  return [hasIntersected, refCallback];\n};\n\nvar _CardEmpty, _CardMedia, _CardContent;\nconst _excluded = [\"className\", \"fetchData\", \"lazy\", \"loading\", \"media\", \"setData\", \"url\", \"apiKey\"],\n  _excluded2 = [\"className\", \"apiKey\", \"autoPlay\", \"controls\", \"direction\", \"lazy\", \"loop\", \"media\", \"fetchData\", \"muted\", \"playsInline\", \"size\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nconst Card = props => {\n  const {\n      className,\n      fetchData,\n      lazy,\n      loading,\n      media: mediaProp,\n      setData,\n      url,\n      apiKey // destructuring to avoid pass it\n    } = props,\n    restProps = _objectWithoutProperties(props, _excluded);\n  const mediaProps = useMemo(() => castArray(mediaProp), [mediaProp]);\n  const {\n    updateState\n  } = useContext(GlobalContext);\n  const [loadingState, setLoading] = useState(true);\n  const [iframeMedia, setIframeMedia] = useState(null);\n  const [isError, setIsError] = useState(false);\n  const isLoadingUndefined = useMemo(() => loading === undefined, [loading]);\n  const [apiUrl, apiUrlProps] = useMemo(() => getApiUrl(_objectSpread(_objectSpread({}, props), {}, {\n    media: mediaProps\n  })), [mediaProps, props]);\n  const isLazyEnabled = useMemo(() => isLazySupported && (lazy === true || isObject(lazy)), [lazy]);\n  const lazyOptions = useMemo(() => isObject(lazy) ? lazy : undefined, [lazy]);\n  const [hasIntersected, cardRef] = useIntersectionObserver(isLazyEnabled, lazyOptions);\n  const canFetchData = useMemo(() => !isLazyEnabled || isLazyEnabled && hasIntersected, [isLazyEnabled, hasIntersected]);\n  const mergeData = useCallback(fetchedData => {\n    const payload = isFunction(setData) ? setData(fetchedData) : _objectSpread(_objectSpread({}, fetchedData), setData);\n    const {\n      title,\n      description,\n      url,\n      video,\n      audio,\n      image,\n      logo,\n      iframe\n    } = payload;\n    const mediaFallback = image || logo || {};\n    let media = mediaFallback;\n    let videoUrl;\n    let audioUrl;\n    let isVideo = false;\n    let isAudio = false;\n    const preferredMedia = getPreferredMedia(payload, mediaProps);\n    switch (preferredMedia) {\n      case 'audio':\n        isAudio = true;\n        audioUrl = getUrlPath(audio);\n        break;\n      case 'video':\n        isVideo = true;\n        videoUrl = getUrlPath(video);\n        break;\n      case 'iframe':\n        setIframeMedia(iframe);\n        break;\n      default:\n        media = someProp(payload, mediaProps) || mediaFallback;\n        break;\n    }\n    const imageUrl = getUrlPath(media);\n    const {\n      color,\n      background_color: $backgroundColor\n    } = media;\n    updateState({\n      url,\n      color,\n      title,\n      description,\n      imageUrl,\n      videoUrl,\n      audioUrl,\n      isVideo,\n      isAudio,\n      $backgroundColor\n    });\n    setLoading(false);\n  }, [updateState, mediaProps, setData]);\n  const toFetchData = useCallback(() => {\n    if (canFetchData) {\n      setLoading(true);\n      const fetch = fetchData ? fetchFromApi(apiUrl, apiUrlProps) : Promise.resolve({});\n      fetch.then(_ref => {\n        let {\n          data\n        } = _ref;\n        return mergeData(data);\n      }).catch(error => {\n        setLoading(false);\n        setIsError(true);\n        console.error(\"\\n\\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\\n\\u2502 Microlink SDK \\u2502\\n\\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\\n\\n\".concat(error.description, \"\\n\\n\").concat(JSON.stringify(error.data), \"\\n\\nid   \").concat(error.headers['x-request-id'], \"\\nuri  \").concat(error.url, \"\\ncode \").concat(error.code, \" (\").concat(error.statusCode, \")\\n\\nmicrolink.io/\").concat(error.code.toLowerCase(), \"\\n\"));\n      });\n    }\n  }, [apiUrlProps, fetchData, apiUrl, mergeData, canFetchData]);\n  useEffect(toFetchData, [url, setData, hasIntersected]);\n  const isLoading = isLoadingUndefined ? loadingState : loading;\n  if (isError) {\n    return /*#__PURE__*/React.createElement(\"a\", _extends({\n      href: url\n    }, restProps), url);\n  }\n  if (iframeMedia) {\n    if (!isSSR) {\n      iframeMedia.scripts.forEach(attrs => {\n        const hasScript = document.querySelector(\"script[src=\\\"\".concat(attrs.src, \"\\\"]\"));\n        if (!hasScript) {\n          const script = document.createElement('script');\n          Object.keys(attrs).forEach(key => script[key] = attrs[key]);\n          document.body.appendChild(script);\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: classNames.iframe,\n      dangerouslySetInnerHTML: {\n        __html: iframeMedia.html\n      }\n    }, restProps));\n  }\n  return /*#__PURE__*/React.createElement(CardWrap, _extends({\n    className: \"\".concat(classNames.main, \" \").concat(className).trim(),\n    href: url,\n    $isLoading: isLoading,\n    ref: cardRef\n  }, restProps), isLoading ? _CardEmpty || (_CardEmpty = /*#__PURE__*/React.createElement(CardEmptyState, null)) : /*#__PURE__*/React.createElement(React.Fragment, null, _CardMedia || (_CardMedia = /*#__PURE__*/React.createElement(CardMedia, null)), _CardContent || (_CardContent = /*#__PURE__*/React.createElement(CardContent, null))));\n};\nconst Microlink = _ref2 => {\n  let {\n      className = '',\n      apiKey = undefined,\n      autoPlay = true,\n      controls = true,\n      direction = 'ltr',\n      lazy = true,\n      loop = true,\n      media = ['iframe', 'video', 'audio', 'image', 'logo'],\n      fetchData = true,\n      muted = true,\n      playsInline = true,\n      size = 'normal'\n    } = _ref2,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  return /*#__PURE__*/React.createElement(GlobalState, _extends({\n    className: className,\n    apiKey: apiKey,\n    autoPlay: autoPlay,\n    controls: controls,\n    direction: direction,\n    lazy: lazy,\n    loop: loop,\n    media: media,\n    fetchData: fetchData,\n    muted: muted,\n    playsInline: playsInline,\n    size: size\n  }, props), otherProps => /*#__PURE__*/React.createElement(Card, otherProps));\n};\n\nexport { Microlink as default, getApiUrl, imageProxy };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}